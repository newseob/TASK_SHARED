(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function V_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ld={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function Sb(){if(Jy)return to;Jy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return to.Fragment=t,to.jsx=i,to.jsxs=i,to}var Wy;function Rb(){return Wy||(Wy=1,ld.exports=Sb()),ld.exports}var J=Rb(),od={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function wb(){if(tv)return Ct;tv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,q={};function k(V,$,ct){this.props=V,this.context=$,this.refs=q,this.updater=ct||O}k.prototype.isReactComponent={},k.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function st(){}st.prototype=k.prototype;function lt(V,$,ct){this.props=V,this.context=$,this.refs=q,this.updater=ct||O}var H=lt.prototype=new st;H.constructor=lt,K(H,k.prototype),H.isPureReactComponent=!0;var at=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function R(V,$,ct,it,mt,Rt){return ct=Rt.ref,{$$typeof:r,type:V,key:$,ref:ct!==void 0?ct:null,props:Rt}}function A(V,$){return R(V.type,$,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function I(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ct){return $[ct]})}var N=/\/+/g;function U(V,$){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):$.toString(36)}function C(){}function Kt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Yt(V,$,ct,it,mt){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var gt=!1;if(V===null)gt=!0;else switch(Rt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(V.$$typeof){case r:case t:gt=!0;break;case E:return gt=V._init,Yt(gt(V._payload),$,ct,it,mt)}}if(gt)return mt=mt(V),gt=it===""?"."+U(V,0):it,at(mt)?(ct="",gt!=null&&(ct=gt.replace(N,"$&/")+"/"),Yt(mt,$,ct,"",function(Se){return Se})):mt!=null&&(w(mt)&&(mt=A(mt,ct+(mt.key==null||V&&V.key===mt.key?"":(""+mt.key).replace(N,"$&/")+"/")+gt)),$.push(mt)),1;gt=0;var he=it===""?".":it+":";if(at(V))for(var zt=0;zt<V.length;zt++)it=V[zt],Rt=he+U(it,zt),gt+=Yt(it,$,ct,Rt,mt);else if(zt=D(V),typeof zt=="function")for(V=zt.call(V),zt=0;!(it=V.next()).done;)it=it.value,Rt=he+U(it,zt++),gt+=Yt(it,$,ct,Rt,mt);else if(Rt==="object"){if(typeof V.then=="function")return Yt(Kt(V),$,ct,it,mt);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return gt}function Y(V,$,ct){if(V==null)return V;var it=[],mt=0;return Yt(V,it,"","",function(Rt){return $.call(ct,Rt,mt++)}),it}function ot(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(ct){(V._status===0||V._status===-1)&&(V._status=1,V._result=ct)},function(ct){(V._status===0||V._status===-1)&&(V._status=2,V._result=ct)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function pt(){}return Ct.Children={map:Y,forEach:function(V,$,ct){Y(V,function(){$.apply(this,arguments)},ct)},count:function(V){var $=0;return Y(V,function(){$++}),$},toArray:function(V){return Y(V,function($){return $})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ct.Component=k,Ct.Fragment=i,Ct.Profiler=o,Ct.PureComponent=lt,Ct.StrictMode=a,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(V){return tt.H.useMemoCache(V)}},Ct.cache=function(V){return function(){return V.apply(null,arguments)}},Ct.cloneElement=function(V,$,ct){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var it=K({},V.props),mt=V.key,Rt=void 0;if($!=null)for(gt in $.ref!==void 0&&(Rt=void 0),$.key!==void 0&&(mt=""+$.key),$)!W.call($,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&$.ref===void 0||(it[gt]=$[gt]);var gt=arguments.length-2;if(gt===1)it.children=ct;else if(1<gt){for(var he=Array(gt),zt=0;zt<gt;zt++)he[zt]=arguments[zt+2];it.children=he}return R(V.type,mt,void 0,void 0,Rt,it)},Ct.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ct.createElement=function(V,$,ct){var it,mt={},Rt=null;if($!=null)for(it in $.key!==void 0&&(Rt=""+$.key),$)W.call($,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=$[it]);var gt=arguments.length-2;if(gt===1)mt.children=ct;else if(1<gt){for(var he=Array(gt),zt=0;zt<gt;zt++)he[zt]=arguments[zt+2];mt.children=he}if(V&&V.defaultProps)for(it in gt=V.defaultProps,gt)mt[it]===void 0&&(mt[it]=gt[it]);return R(V,Rt,void 0,void 0,null,mt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(V){return{$$typeof:m,render:V}},Ct.isValidElement=w,Ct.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ot}},Ct.memo=function(V,$){return{$$typeof:y,type:V,compare:$===void 0?null:$}},Ct.startTransition=function(V){var $=tt.T,ct={};tt.T=ct;try{var it=V(),mt=tt.S;mt!==null&&mt(ct,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(pt,ut)}catch(Rt){ut(Rt)}finally{tt.T=$}},Ct.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},Ct.use=function(V){return tt.H.use(V)},Ct.useActionState=function(V,$,ct){return tt.H.useActionState(V,$,ct)},Ct.useCallback=function(V,$){return tt.H.useCallback(V,$)},Ct.useContext=function(V){return tt.H.useContext(V)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(V,$){return tt.H.useDeferredValue(V,$)},Ct.useEffect=function(V,$,ct){var it=tt.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(V,$)},Ct.useId=function(){return tt.H.useId()},Ct.useImperativeHandle=function(V,$,ct){return tt.H.useImperativeHandle(V,$,ct)},Ct.useInsertionEffect=function(V,$){return tt.H.useInsertionEffect(V,$)},Ct.useLayoutEffect=function(V,$){return tt.H.useLayoutEffect(V,$)},Ct.useMemo=function(V,$){return tt.H.useMemo(V,$)},Ct.useOptimistic=function(V,$){return tt.H.useOptimistic(V,$)},Ct.useReducer=function(V,$,ct){return tt.H.useReducer(V,$,ct)},Ct.useRef=function(V){return tt.H.useRef(V)},Ct.useState=function(V){return tt.H.useState(V)},Ct.useSyncExternalStore=function(V,$,ct){return tt.H.useSyncExternalStore(V,$,ct)},Ct.useTransition=function(){return tt.H.useTransition()},Ct.version="19.1.0",Ct}var ev;function em(){return ev||(ev=1,od.exports=wb()),od.exports}var z=em();const ce=V_(z);var ud={exports:{}},eo={},cd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function Db(){return nv||(nv=1,function(r){function t(Y,ot){var ut=Y.length;Y.push(ot);t:for(;0<ut;){var pt=ut-1>>>1,V=Y[pt];if(0<o(V,ot))Y[pt]=ot,Y[ut]=V,ut=pt;else break t}}function i(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var ot=Y[0],ut=Y.pop();if(ut!==ot){Y[0]=ut;t:for(var pt=0,V=Y.length,$=V>>>1;pt<$;){var ct=2*(pt+1)-1,it=Y[ct],mt=ct+1,Rt=Y[mt];if(0>o(it,ut))mt<V&&0>o(Rt,it)?(Y[pt]=Rt,Y[mt]=ut,pt=mt):(Y[pt]=it,Y[ct]=ut,pt=ct);else if(mt<V&&0>o(Rt,ut))Y[pt]=Rt,Y[mt]=ut,pt=mt;else break t}}return ot}function o(Y,ot){var ut=Y.sortIndex-ot.sortIndex;return ut!==0?ut:Y.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var p=[],y=[],E=1,S=null,D=3,O=!1,K=!1,q=!1,k=!1,st=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function at(Y){for(var ot=i(y);ot!==null;){if(ot.callback===null)a(y);else if(ot.startTime<=Y)a(y),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=i(y)}}function tt(Y){if(q=!1,at(Y),!K)if(i(p)!==null)K=!0,W||(W=!0,U());else{var ot=i(y);ot!==null&&Yt(tt,ot.startTime-Y)}}var W=!1,R=-1,A=5,w=-1;function I(){return k?!0:!(r.unstable_now()-w<A)}function N(){if(k=!1,W){var Y=r.unstable_now();w=Y;var ot=!0;try{t:{K=!1,q&&(q=!1,lt(R),R=-1),O=!0;var ut=D;try{e:{for(at(Y),S=i(p);S!==null&&!(S.expirationTime>Y&&I());){var pt=S.callback;if(typeof pt=="function"){S.callback=null,D=S.priorityLevel;var V=pt(S.expirationTime<=Y);if(Y=r.unstable_now(),typeof V=="function"){S.callback=V,at(Y),ot=!0;break e}S===i(p)&&a(p),at(Y)}else a(p);S=i(p)}if(S!==null)ot=!0;else{var $=i(y);$!==null&&Yt(tt,$.startTime-Y),ot=!1}}break t}finally{S=null,D=ut,O=!1}ot=void 0}}finally{ot?U():W=!1}}}var U;if(typeof H=="function")U=function(){H(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Kt=C.port2;C.port1.onmessage=N,U=function(){Kt.postMessage(null)}}else U=function(){st(N,0)};function Yt(Y,ot){R=st(function(){Y(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(Y){switch(D){case 1:case 2:case 3:var ot=3;break;default:ot=D}var ut=D;D=ot;try{return Y()}finally{D=ut}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(Y,ot){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ut=D;D=Y;try{return ot()}finally{D=ut}},r.unstable_scheduleCallback=function(Y,ot,ut){var pt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?pt+ut:pt):ut=pt,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ut+V,Y={id:E++,callback:ot,priorityLevel:Y,startTime:ut,expirationTime:V,sortIndex:-1},ut>pt?(Y.sortIndex=ut,t(y,Y),i(p)===null&&Y===i(y)&&(q?(lt(R),R=-1):q=!0,Yt(tt,ut-pt))):(Y.sortIndex=V,t(p,Y),K||O||(K=!0,W||(W=!0,U()))),Y},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(Y){var ot=D;return function(){var ut=D;D=ot;try{return Y.apply(this,arguments)}finally{D=ut}}}}(fd)),fd}var iv;function Cb(){return iv||(iv=1,cd.exports=Db()),cd.exports}var hd={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function xb(){if(rv)return on;rv=1;var r=em();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,E)},on.flushSync=function(p){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=y,a.p=E,a.d.f()}},on.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},on.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},on.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:O}):E==="script"&&a.d.X(p,{crossOrigin:S,integrity:D,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},on.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},on.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},on.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},on.requestFormReset=function(p){a.d.r(p)},on.unstable_batchedUpdates=function(p,y){return p(y)},on.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.1.0",on}var sv;function O_(){if(sv)return hd.exports;sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),hd.exports=xb(),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function Nb(){if(av)return eo;av=1;var r=Cb(),t=em(),i=O_();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var f=s.return;if(f===null)break;var h=f.alternate;if(h===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===s)return m(f),e;if(h===l)return m(f),n;h=h.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=h;else{for(var _=!1,T=f.child;T;){if(T===s){_=!0,s=f,l=h;break}if(T===l){_=!0,l=f,s=h;break}T=T.sibling}if(!_){for(T=h.child;T;){if(T===s){_=!0,s=h,l=f;break}if(T===l){_=!0,l=h,s=f;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),st=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),H=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case k:return"Profiler";case q:return"StrictMode";case tt:return"Suspense";case W:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case H:return(e.displayName||"Context")+".Provider";case lt:return(e._context.displayName||"Context")+".Consumer";case at:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return n=e.displayName||null,n!==null?n:Kt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Kt(e(n))}catch{}}return null}var Yt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},pt=[],V=-1;function $(e){return{current:e}}function ct(e){0>V||(e.current=pt[V],pt[V]=null,V--)}function it(e,n){V++,pt[V]=e.current,e.current=n}var mt=$(null),Rt=$(null),gt=$(null),he=$(null);function zt(e,n){switch(it(gt,n),it(Rt,e),it(mt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?wy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=wy(n),e=Dy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ct(mt),it(mt,e)}function Se(){ct(mt),ct(Rt),ct(gt)}function Vt(e){e.memoizedState!==null&&it(he,e);var n=mt.current,s=Dy(n,e.type);n!==s&&(it(Rt,e),it(mt,s))}function hn(e){Rt.current===e&&(ct(mt),ct(Rt)),he.current===e&&(ct(he),Xl._currentValue=ut)}var je=Object.prototype.hasOwnProperty,bn=r.unstable_scheduleCallback,Xe=r.unstable_cancelCallback,Pn=r.unstable_shouldYield,Wn=r.unstable_requestPaint,dn=r.unstable_now,qs=r.unstable_getCurrentPriorityLevel,Ui=r.unstable_ImmediatePriority,mn=r.unstable_UserBlockingPriority,kn=r.unstable_NormalPriority,gr=r.unstable_LowPriority,Li=r.unstable_IdlePriority,pr=r.log,Hs=r.unstable_setDisableYieldValue,le=null,Ut=null;function Re(e){if(typeof pr=="function"&&Hs(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(le,e)}catch{}}var ge=Math.clz32?Math.clz32:fi,ss=Math.log,Bn=Math.LN2;function fi(e){return e>>>=0,e===0?32:31-(ss(e)/Bn|0)|0}var zi=256,Pi=4194304;function gn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ki(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var f=0,h=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~h,l!==0?f=gn(l):(_&=T,_!==0?f=gn(_):s||(s=T&~e,s!==0&&(f=gn(s))))):(T=l&~h,T!==0?f=gn(T):_!==0?f=gn(_):s||(s=l&~e,s!==0&&(f=gn(s)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,s=n&-n,h>=s||h===32&&(s&4194048)!==0)?n:f}function Bi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function yr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function as(){var e=zi;return zi<<=1,(zi&4194048)===0&&(zi=256),e}function ls(){var e=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),e}function ti(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function se(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,n,s,l,f,h){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,x=e.expirationTimes,j=e.hiddenUpdates;for(s=_&~s;0<s;){var X=31-ge(s),et=1<<X;T[X]=0,x[X]=-1;var G=j[X];if(G!==null)for(j[X]=null,X=0;X<G.length;X++){var Q=G[X];Q!==null&&(Q.lane&=-536870913)}s&=~et}l!==0&&oe(e,l,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(_&~n))}function oe(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ge(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function An(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-ge(s),f=1<<l;f&n|e[l]&n&&(e[l]|=n),s&=~f}}function _e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function we(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ve(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:Fy(e.type))}function ei(e,n){var s=ot.p;try{return ot.p=e,n()}finally{ot.p=s}}var Dt=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Dt,Gt="__reactProps$"+Dt,pe="__reactContainer$"+Dt,ni="__reactEvents$"+Dt,ji="__reactListeners$"+Dt,Ze="__reactHandles$"+Dt,hi="__reactResources$"+Dt,ii="__reactMarker$"+Dt;function vr(e){delete e[Wt],delete e[Gt],delete e[ni],delete e[ji],delete e[Ze]}function qi(e){var n=e[Wt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[pe]||s[Wt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Iy(e);e!==null;){if(s=e[Wt])return s;e=Iy(e)}return n}e=s,s=e.parentNode}return null}function di(e){if(e=e[Wt]||e[pe]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function mi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function pn(e){var n=e[hi];return n||(n=e[hi]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ii]=!0}var el=new Set,Gs={};function ri(e,n){Hi(e,n),Hi(e+"Capture",n)}function Hi(e,n){for(Gs[e]=n,e=0;e<n.length;e++)el.add(n[e])}var zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},os={};function ko(e){return je.call(os,e)?!0:je.call(Po,e)?!1:zo.test(e)?os[e]=!0:(Po[e]=!0,!1)}function _r(e,n,s){if(ko(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function gi(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function $e(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}var us,Bo;function Gi(e){if(us===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);us=n&&n[1]||"",Bo=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+us+e+Bo}var Qs=!1;function Fs(e,n){if(!e||Qs)return"";Qs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Q){var G=Q}Reflect.construct(e,[],et)}else{try{et.call()}catch(Q){G=Q}e.call(et.prototype)}}else{try{throw Error()}catch(Q){G=Q}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),_=h[0],T=h[1];if(_&&T){var x=_.split(`
`),j=T.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===j.length)for(l=x.length-1,f=j.length-1;1<=l&&0<=f&&x[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==j[f]){var X=`
`+x[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=f);break}}}finally{Qs=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Gi(s):""}function nl(e){switch(e.tag){case 26:case 27:case 5:return Gi(e.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 15:return Fs(e.type,!1);case 11:return Fs(e.type.render,!1);case 1:return Fs(e.type,!0);case 31:return Gi("Activity");default:return""}}function Ks(e){try{var n="";do n+=nl(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function il(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ff(e){var n=il(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,h.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ys(e){e._valueTracker||(e._valueTracker=ff(e))}function rl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=il(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hf=/[\n"\\]/g;function De(e){return e.replace(hf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xn(e,n,s,l,f,h,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+yn(n)):e.value!==""+yn(n)&&(e.value=""+yn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Er(e,_,yn(n)):s!=null?Er(e,_,yn(s)):l!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+yn(T):e.removeAttribute("name")}function fs(e,n,s,l,f,h,_,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;s=s!=null?""+yn(s):"",n=n!=null?""+yn(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Er(e,n,s){n==="number"&&cs(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Qi(e,n,s,l){if(e=e.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=n.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&l&&(e[s].defaultSelected=!0)}else{for(s=""+yn(s),n=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function te(e,n,s){if(n!=null&&(n=""+yn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+yn(s):""}function hs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Yt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=yn(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function jn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ds=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||ds.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function sl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&s[f]!==l&&jo(e,f,l)}else for(var h in n)n.hasOwnProperty(h)&&jo(e,h,n[h])}function al(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var df=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(e){return mf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Fi=null;function qn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ki=null,Yi=null;function ll(e){var n=di(e);if(n&&(e=n.stateNode)){var s=e[Gt]||null;t:switch(e=n.stateNode,n.type){case"input":if(xn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+De(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var f=l[Gt]||null;if(!f)throw Error(a(90));xn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&rl(l)}break t;case"textarea":te(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Qi(e,!!s.multiple,n,!1)}}}var pi=!1;function qo(e,n,s){if(pi)return e(n,s);pi=!0;try{var l=e(n);return l}finally{if(pi=!1,(Ki!==null||Yi!==null)&&(Uu(),Ki&&(n=Ki,e=Yi,Yi=Ki=null,ll(n),e)))for(n=0;n<e.length;n++)ll(e[n])}}function ms(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Gt]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(si)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{Hn=!1}var yi=null,Tr=null,Xi=null;function ol(){if(Xi)return Xi;var e,n=Tr,s=n.length,l,f="value"in yi?yi.value:yi.textContent,h=f.length;for(e=0;e<s&&n[e]===f[e];e++);var _=s-e;for(l=1;l<=_&&n[s-l]===f[h-l];l++);return Xi=f.slice(e,1<l?1-l:void 0)}function vi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _i(){return!0}function ul(){return!1}function qe(e){function n(s,l,f,h,_){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?_i:ul,this.isPropagationStopped=ul,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),n}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=qe(Xt),ps=E({},Xt,{view:0,detail:0}),Ho=qe(ps),$s,Js,Ei,ys=E({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?($s=e.screenX-Ei.screenX,Js=e.screenY-Ei.screenY):Js=$s=0,Ei=e),$s)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),Gn=qe(ys),Go=E({},ys,{dataTransfer:0}),gf=qe(Go),vs=E({},ps,{relatedTarget:0}),Ws=qe(vs),cl=E({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=qe(cl),Qo=E({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ea=qe(Qo),pf=E({},Xt,{data:0}),fl=qe(pf),_s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ko={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ko[e])?!!n[e]:!1}function Es(){return hl}var Yo=E({},ps,{key:function(e){if(e.key){var n=_s[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),na=qe(Yo),Xo=E({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=qe(Xo),Zi=E({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),Zo=qe(Zi),$o=E({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jo=qe($o),Wo=E({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ia=qe(Wo),vn=E({},Xt,{newState:0,oldState:0}),tu=qe(vn),eu=[9,13,27,32],Ti=si&&"CompositionEvent"in window,u=null;si&&"documentMode"in document&&(u=document.documentMode);var g=si&&"TextEvent"in window&&!u,v=si&&(!Ti||u&&8<u&&11>=u),b=" ",P=!1;function F(e,n){switch(e){case"keyup":return eu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Oe(e,n){switch(e){case"compositionend":return ft(n);case"keypress":return n.which!==32?null:(P=!0,b);case"textInput":return e=n.data,e===b&&P?null:e;default:return null}}function kt(e,n){if(Pt)return e==="compositionend"||!Ti&&F(e,n)?(e=ol(),Xi=Tr=yi=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var He={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!He[e.type]:n==="textarea"}function $i(e,n,s,l){Ki?Yi?Yi.push(l):Yi=[l]:Ki=l,n=ju(n,"onChange"),0<n.length&&(s=new Zs("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Je=null,bi=null;function ml(e){Ty(e,0)}function nu(e){var n=mi(e);if(rl(n))return e}function qm(e,n){if(e==="change")return n}var Hm=!1;if(si){var yf;if(si){var vf="oninput"in document;if(!vf){var Gm=document.createElement("div");Gm.setAttribute("oninput","return;"),vf=typeof Gm.oninput=="function"}yf=vf}else yf=!1;Hm=yf&&(!document.documentMode||9<document.documentMode)}function Qm(){Je&&(Je.detachEvent("onpropertychange",Fm),bi=Je=null)}function Fm(e){if(e.propertyName==="value"&&nu(bi)){var n=[];$i(n,bi,e,qn(e)),qo(ml,n)}}function tT(e,n,s){e==="focusin"?(Qm(),Je=n,bi=s,Je.attachEvent("onpropertychange",Fm)):e==="focusout"&&Qm()}function eT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nu(bi)}function nT(e,n){if(e==="click")return nu(n)}function iT(e,n){if(e==="input"||e==="change")return nu(n)}function rT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nn=typeof Object.is=="function"?Object.is:rT;function gl(e,n){if(Nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!je.call(n,f)||!Nn(e[f],n[f]))return!1}return!0}function Km(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ym(e,n){var s=Km(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Km(s)}}function Xm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Zm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=cs(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=cs(e.document)}return n}function _f(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var sT=si&&"documentMode"in document&&11>=document.documentMode,ra=null,Ef=null,pl=null,Tf=!1;function $m(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tf||ra==null||ra!==cs(l)||(l=ra,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&gl(pl,l)||(pl=l,l=ju(Ef,"onSelect"),0<l.length&&(n=new Zs("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ra)))}function Ts(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var sa={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},bf={},Jm={};si&&(Jm=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function bs(e){if(bf[e])return bf[e];if(!sa[e])return e;var n=sa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Jm)return bf[e]=n[s];return e}var Wm=bs("animationend"),tg=bs("animationiteration"),eg=bs("animationstart"),aT=bs("transitionrun"),lT=bs("transitionstart"),oT=bs("transitioncancel"),ng=bs("transitionend"),ig=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function ai(e,n){ig.set(e,n),ri(n,[e])}var rg=new WeakMap;function Qn(e,n){if(typeof e=="object"&&e!==null){var s=rg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Ks(n)},rg.set(e,n),n)}return{value:e,source:n,stack:Ks(n)}}var Fn=[],aa=0,Sf=0;function iu(){for(var e=aa,n=Sf=aa=0;n<e;){var s=Fn[n];Fn[n++]=null;var l=Fn[n];Fn[n++]=null;var f=Fn[n];Fn[n++]=null;var h=Fn[n];if(Fn[n++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}h!==0&&sg(s,f,h)}}function ru(e,n,s,l){Fn[aa++]=e,Fn[aa++]=n,Fn[aa++]=s,Fn[aa++]=l,Sf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Rf(e,n,s,l){return ru(e,n,s,l),su(e)}function la(e,n){return ru(e,null,null,n),su(e)}function sg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var f=!1,h=e.return;h!==null;)h.childLanes|=s,l=h.alternate,l!==null&&(l.childLanes|=s),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-ge(s),e=h.hiddenUpdates,l=e[f],l===null?e[f]=[n]:l.push(n),n.lane=s|536870912),h):null}function su(e){if(50<jl)throw jl=0,Ih=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var oa={};function uT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,n,s,l){return new uT(e,n,s,l)}function wf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ji(e,n){var s=e.alternate;return s===null?(s=In(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function ag(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function au(e,n,s,l,f,h){var _=0;if(l=e,typeof e=="function")wf(e)&&(_=1);else if(typeof e=="string")_=fb(e,s,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=In(31,s,n,f),e.elementType=w,e.lanes=h,e;case K:return As(s.children,f,h,n);case q:_=8,f|=24;break;case k:return e=In(12,s,n,f|2),e.elementType=k,e.lanes=h,e;case tt:return e=In(13,s,n,f),e.elementType=tt,e.lanes=h,e;case W:return e=In(19,s,n,f),e.elementType=W,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:case H:_=10;break t;case lt:_=9;break t;case at:_=11;break t;case R:_=14;break t;case A:_=16,l=null;break t}_=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=In(_,s,n,f),n.elementType=e,n.type=l,n.lanes=h,n}function As(e,n,s,l){return e=In(7,e,l,n),e.lanes=s,e}function Df(e,n,s){return e=In(6,e,null,n),e.lanes=s,e}function Cf(e,n,s){return n=In(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ua=[],ca=0,lu=null,ou=0,Kn=[],Yn=0,Ss=null,Wi=1,tr="";function Rs(e,n){ua[ca++]=ou,ua[ca++]=lu,lu=e,ou=n}function lg(e,n,s){Kn[Yn++]=Wi,Kn[Yn++]=tr,Kn[Yn++]=Ss,Ss=e;var l=Wi;e=tr;var f=32-ge(l)-1;l&=~(1<<f),s+=1;var h=32-ge(n)+f;if(30<h){var _=f-f%5;h=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Wi=1<<32-ge(n)+f|s<<f|l,tr=h+e}else Wi=1<<h|s<<f|l,tr=e}function xf(e){e.return!==null&&(Rs(e,1),lg(e,1,0))}function Nf(e){for(;e===lu;)lu=ua[--ca],ua[ca]=null,ou=ua[--ca],ua[ca]=null;for(;e===Ss;)Ss=Kn[--Yn],Kn[Yn]=null,tr=Kn[--Yn],Kn[Yn]=null,Wi=Kn[--Yn],Kn[Yn]=null}var _n=null,ye=null,Qt=!1,ws=null,Ai=!1,If=Error(a(519));function Ds(e){var n=Error(a(418,""));throw _l(Qn(n,e)),If}function og(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Wt]=e,n[Gt]=l,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<Hl.length;s++)Mt(Hl[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),fs(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ys(n);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),hs(n,l.value,l.defaultValue,l.children),Ys(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Ry(n.textContent,s)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=qu),n=!0):n=!1,n||Ds(e)}function ug(e){for(_n=e.return;_n;)switch(_n.tag){case 5:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:_n=_n.return}}function yl(e){if(e!==_n)return!1;if(!Qt)return ug(e),Qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Kh(e.type,e.memoizedProps)),s=!s),s&&ye&&Ds(e),ug(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){ye=oi(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}ye=null}}else n===27?(n=ye,zr(e.type)?(e=$h,$h=null,ye=e):ye=n):ye=_n?oi(e.stateNode.nextSibling):null;return!0}function vl(){ye=_n=null,Qt=!1}function cg(){var e=ws;return e!==null&&(wn===null?wn=e:wn.push.apply(wn,e),ws=null),e}function _l(e){ws===null?ws=[e]:ws.push(e)}var Vf=$(null),Cs=null,er=null;function br(e,n,s){it(Vf,n._currentValue),n._currentValue=s}function nr(e){e._currentValue=Vf.current,ct(Vf)}function Of(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Mf(e,n,s,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var _=f.child;h=h.firstContext;t:for(;h!==null;){var T=h;h=f;for(var x=0;x<n.length;x++)if(T.context===n[x]){h.lanes|=s,T=h.alternate,T!==null&&(T.lanes|=s),Of(h.return,s,e),l||(_=null);break t}h=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=s,h=_.alternate,h!==null&&(h.lanes|=s),Of(_,s,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function El(e,n,s,l){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=f.type;Nn(f.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(f===he.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Xl):e=[Xl])}f=f.return}e!==null&&Mf(n,e,s,l),n.flags|=262144}function uu(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xs(e){Cs=e,er=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ln(e){return fg(Cs,e)}function cu(e,n){return Cs===null&&xs(e),fg(e,n)}function fg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},er===null){if(e===null)throw Error(a(308));er=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else er=er.next=n;return s}var cT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},fT=r.unstable_scheduleCallback,hT=r.unstable_NormalPriority,Ue={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new cT,data:new Map,refCount:0}}function Tl(e){e.refCount--,e.refCount===0&&fT(hT,function(){e.controller.abort()})}var bl=null,Lf=0,fa=0,ha=null;function dT(e,n){if(bl===null){var s=bl=[];Lf=0,fa=Ph(),ha={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Lf++,n.then(hg,hg),n}function hg(){if(--Lf===0&&bl!==null){ha!==null&&(ha.status="fulfilled");var e=bl;bl=null,fa=0,ha=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function mT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var dg=Y.S;Y.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&dT(e,n),dg!==null&&dg(e,n)};var Ns=$(null);function zf(){var e=Ns.current;return e!==null?e:ae.pooledCache}function fu(e,n){n===null?it(Ns,Ns.current):it(Ns,n.pool)}function mg(){var e=zf();return e===null?null:{parent:Ue._currentValue,pool:e}}var Al=Error(a(460)),gg=Error(a(474)),hu=Error(a(542)),Pf={then:function(){}};function pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function du(){}function yg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(du,du),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_g(e),e;default:if(typeof n.status=="string")n.then(du,du);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_g(e),e}throw Sl=n,Al}}var Sl=null;function vg(){if(Sl===null)throw Error(a(459));var e=Sl;return Sl=null,e}function _g(e){if(e===Al||e===hu)throw Error(a(483))}var Ar=!1;function kf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=su(e),sg(e,null,s),n}return ru(e,l,n,s),su(e)}function Rl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,An(e,s)}}function jf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?f=h=_:h=h.next=_,s=s.next}while(s!==null);h===null?f=h=n:h=h.next=n}else f=h=n;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var qf=!1;function wl(){if(qf){var e=ha;if(e!==null)throw e}}function Dl(e,n,s,l){qf=!1;var f=e.updateQueue;Ar=!1;var h=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var x=T,j=x.next;x.next=null,_===null?h=j:_.next=j,_=x;var X=e.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=j:T.next=j,X.lastBaseUpdate=x))}if(h!==null){var et=f.baseState;_=0,X=j=x=null,T=h;do{var G=T.lane&-536870913,Q=G!==T.lane;if(Q?(Bt&G)===G:(l&G)===G){G!==0&&G===fa&&(qf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var bt=e,Et=T;G=n;var ie=s;switch(Et.tag){case 1:if(bt=Et.payload,typeof bt=="function"){et=bt.call(ie,et,G);break t}et=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Et.payload,G=typeof bt=="function"?bt.call(ie,et,G):bt,G==null)break t;et=E({},et,G);break t;case 2:Ar=!0}}G=T.callback,G!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(j=X=Q,x=et):X=X.next=Q,_|=G;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);X===null&&(x=et),f.baseState=x,f.firstBaseUpdate=j,f.lastBaseUpdate=X,h===null&&(f.shared.lanes=0),Or|=_,e.lanes=_,e.memoizedState=et}}function Eg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Tg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Eg(s[e],n)}var da=$(null),mu=$(0);function bg(e,n){e=ur,it(mu,e),it(da,n),ur=e|n.baseLanes}function Hf(){it(mu,ur),it(da,da.current)}function Gf(){ur=mu.current,ct(da),ct(mu)}var wr=0,xt=null,ee=null,Ce=null,gu=!1,ma=!1,Is=!1,pu=0,Cl=0,ga=null,gT=0;function Te(){throw Error(a(321))}function Qf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Nn(e[s],n[s]))return!1;return!0}function Ff(e,n,s,l,f,h){return wr=h,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=e===null||e.memoizedState===null?sp:ap,Is=!1,h=s(l,f),Is=!1,ma&&(h=Sg(n,s,l,f)),Ag(e),h}function Ag(e){Y.H=bu;var n=ee!==null&&ee.next!==null;if(wr=0,Ce=ee=xt=null,gu=!1,Cl=0,ga=null,n)throw Error(a(300));e===null||Ge||(e=e.dependencies,e!==null&&uu(e)&&(Ge=!0))}function Sg(e,n,s,l){xt=e;var f=0;do{if(ma&&(ga=null),Cl=0,ma=!1,25<=f)throw Error(a(301));if(f+=1,Ce=ee=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}Y.H=bT,h=n(s,l)}while(ma);return h}function pT(){var e=Y.H,n=e.useState()[0];return n=typeof n.then=="function"?xl(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(xt.flags|=1024),n}function Kf(){var e=pu!==0;return pu=0,e}function Yf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Xf(e){if(gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}gu=!1}wr=0,Ce=ee=xt=null,ma=!1,Cl=pu=0,ga=null}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?xt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function xe(){if(ee===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Ce===null?xt.memoizedState:Ce.next;if(n!==null)Ce=n,ee=e;else{if(e===null)throw xt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ce===null?xt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(e){var n=Cl;return Cl+=1,ga===null&&(ga=[]),e=yg(ga,e,n),n=xt,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?sp:ap),e}function yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xl(e);if(e.$$typeof===H)return ln(e)}throw Error(a(438,String(e)))}function $f(e){var n=null,s=xt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Zf(),xt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=I;return n.index++,s}function ir(e,n){return typeof n=="function"?n(e):n}function vu(e){var n=xe();return Jf(n,ee,e)}function Jf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=e.baseQueue,h=l.pending;if(h!==null){if(f!==null){var _=f.next;f.next=h.next,h.next=_}n.baseQueue=f=h,l.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var T=_=null,x=null,j=n,X=!1;do{var et=j.lane&-536870913;if(et!==j.lane?(Bt&et)===et:(wr&et)===et){var G=j.revertLane;if(G===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),et===fa&&(X=!0);else if((wr&G)===G){j=j.next,G===fa&&(X=!0);continue}else et={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=et,_=h):x=x.next=et,xt.lanes|=G,Or|=G;et=j.action,Is&&s(h,et),h=j.hasEagerState?j.eagerState:s(h,et)}else G={lane:et,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=G,_=h):x=x.next=G,xt.lanes|=et,Or|=et;j=j.next}while(j!==null&&j!==n);if(x===null?_=h:x.next=T,!Nn(h,e.memoizedState)&&(Ge=!0,X&&(s=ha,s!==null)))throw s;e.memoizedState=h,e.baseState=_,e.baseQueue=x,l.lastRenderedState=h}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Wf(e){var n=xe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,f=s.pending,h=n.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do h=e(h,_.action),_=_.next;while(_!==f);Nn(h,n.memoizedState)||(Ge=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),s.lastRenderedState=h}return[h,l]}function Rg(e,n,s){var l=xt,f=xe(),h=Qt;if(h){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!Nn((ee||f).memoizedState,s);_&&(f.memoizedState=s,Ge=!0),f=f.queue;var T=Cg.bind(null,l,f,e);if(Nl(2048,8,T,[e]),f.getSnapshot!==n||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,pa(9,_u(),Dg.bind(null,l,f,s,n),null),ae===null)throw Error(a(349));h||(wr&124)!==0||wg(l,n,s)}return s}function wg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xt.updateQueue,n===null?(n=Zf(),xt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Dg(e,n,s,l){n.value=s,n.getSnapshot=l,xg(n)&&Ng(e)}function Cg(e,n,s){return s(function(){xg(n)&&Ng(e)})}function xg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Nn(e,s)}catch{return!0}}function Ng(e){var n=la(e,2);n!==null&&Ln(n,e,2)}function th(e){var n=Sn();if(typeof e=="function"){var s=e;if(e=s(),Is){Re(!0);try{s()}finally{Re(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:e},n}function Ig(e,n,s,l){return e.baseState=s,Jf(e,ee,typeof l=="function"?l:ir)}function yT(e,n,s,l,f){if(Tu(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};Y.T!==null?s(!0):h.isTransition=!1,l(h),s=n.pending,s===null?(h.next=n.pending=h,Vg(n,h)):(h.next=s.next,n.pending=s.next=h)}}function Vg(e,n){var s=n.action,l=n.payload,f=e.state;if(n.isTransition){var h=Y.T,_={};Y.T=_;try{var T=s(f,l),x=Y.S;x!==null&&x(_,T),Og(e,n,T)}catch(j){eh(e,n,j)}finally{Y.T=h}}else try{h=s(f,l),Og(e,n,h)}catch(j){eh(e,n,j)}}function Og(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Mg(e,n,l)},function(l){return eh(e,n,l)}):Mg(e,n,s)}function Mg(e,n,s){n.status="fulfilled",n.value=s,Ug(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Vg(e,s)))}function eh(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Ug(n),n=n.next;while(n!==l)}e.action=null}function Ug(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Lg(e,n){return n}function zg(e,n){if(Qt){var s=ae.formState;if(s!==null){t:{var l=xt;if(Qt){if(ye){e:{for(var f=ye,h=Ai;f.nodeType!==8;){if(!h){f=null;break e}if(f=oi(f.nextSibling),f===null){f=null;break e}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){ye=oi(f.nextSibling),l=f.data==="F!";break t}}Ds(l)}l=!1}l&&(n=s[0])}}return s=Sn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lg,lastRenderedState:n},s.queue=l,s=np.bind(null,xt,l),l.dispatch=s,l=th(!1),h=ah.bind(null,xt,!1,l.queue),l=Sn(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,s=yT.bind(null,xt,f,h,s),f.dispatch=s,l.memoizedState=e,[n,s,!1]}function Pg(e){var n=xe();return kg(n,ee,e)}function kg(e,n,s){if(n=Jf(e,n,Lg)[0],e=vu(ir)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=xl(n)}catch(_){throw _===Al?hu:_}else l=n;n=xe();var f=n.queue,h=f.dispatch;return s!==n.memoizedState&&(xt.flags|=2048,pa(9,_u(),vT.bind(null,f,s),null)),[l,h,e]}function vT(e,n){e.action=n}function Bg(e){var n=xe(),s=ee;if(s!==null)return kg(n,s,e);xe(),n=n.memoizedState,s=xe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function pa(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=xt.updateQueue,n===null&&(n=Zf(),xt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function _u(){return{destroy:void 0,resource:void 0}}function jg(){return xe().memoizedState}function Eu(e,n,s,l){var f=Sn();l=l===void 0?null:l,xt.flags|=e,f.memoizedState=pa(1|n,_u(),s,l)}function Nl(e,n,s,l){var f=xe();l=l===void 0?null:l;var h=f.memoizedState.inst;ee!==null&&l!==null&&Qf(l,ee.memoizedState.deps)?f.memoizedState=pa(n,h,s,l):(xt.flags|=e,f.memoizedState=pa(1|n,h,s,l))}function qg(e,n){Eu(8390656,8,e,n)}function Hg(e,n){Nl(2048,8,e,n)}function Gg(e,n){return Nl(4,2,e,n)}function Qg(e,n){return Nl(4,4,e,n)}function Fg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Kg(e,n,s){s=s!=null?s.concat([e]):null,Nl(4,4,Fg.bind(null,n,e),s)}function nh(){}function Yg(e,n){var s=xe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Qf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Xg(e,n){var s=xe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Qf(n,l[1]))return l[0];if(l=e(),Is){Re(!0);try{e()}finally{Re(!1)}}return s.memoizedState=[l,n],l}function ih(e,n,s){return s===void 0||(wr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Jp(),xt.lanes|=e,Or|=e,s)}function Zg(e,n,s,l){return Nn(s,n)?s:da.current!==null?(e=ih(e,s,l),Nn(e,n)||(Ge=!0),e):(wr&42)===0?(Ge=!0,e.memoizedState=s):(e=Jp(),xt.lanes|=e,Or|=e,n)}function $g(e,n,s,l,f){var h=ot.p;ot.p=h!==0&&8>h?h:8;var _=Y.T,T={};Y.T=T,ah(e,!1,n,s);try{var x=f(),j=Y.S;if(j!==null&&j(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var X=mT(x,l);Il(e,n,X,Un(e))}else Il(e,n,l,Un(e))}catch(et){Il(e,n,{then:function(){},status:"rejected",reason:et},Un())}finally{ot.p=h,Y.T=_}}function _T(){}function rh(e,n,s,l){if(e.tag!==5)throw Error(a(476));var f=Jg(e).queue;$g(e,f,n,ut,s===null?_T:function(){return Wg(e),s(l)})}function Jg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Wg(e){var n=Jg(e).next.queue;Il(e,n,{},Un())}function sh(){return ln(Xl)}function tp(){return xe().memoizedState}function ep(){return xe().memoizedState}function ET(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Un();e=Sr(s);var l=Rr(n,e,s);l!==null&&(Ln(l,n,s),Rl(l,n,s)),n={cache:Uf()},e.payload=n;return}n=n.return}}function TT(e,n,s){var l=Un();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Tu(e)?ip(n,s):(s=Rf(e,n,s,l),s!==null&&(Ln(s,e,l),rp(s,n,l)))}function np(e,n,s){var l=Un();Il(e,n,s,l)}function Il(e,n,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))ip(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var _=n.lastRenderedState,T=h(_,s);if(f.hasEagerState=!0,f.eagerState=T,Nn(T,_))return ru(e,n,f,0),ae===null&&iu(),!1}catch{}finally{}if(s=Rf(e,n,f,l),s!==null)return Ln(s,e,l),rp(s,n,l),!0}return!1}function ah(e,n,s,l){if(l={lane:2,revertLane:Ph(),action:l,hasEagerState:!1,eagerState:null,next:null},Tu(e)){if(n)throw Error(a(479))}else n=Rf(e,s,l,2),n!==null&&Ln(n,e,2)}function Tu(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function ip(e,n){ma=gu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function rp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,An(e,s)}}var bu={readContext:ln,use:yu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te},sp={readContext:ln,use:yu,useCallback:function(e,n){return Sn().memoizedState=[e,n===void 0?null:n],e},useContext:ln,useEffect:qg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Eu(4194308,4,Fg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Eu(4194308,4,e,n)},useInsertionEffect:function(e,n){Eu(4,2,e,n)},useMemo:function(e,n){var s=Sn();n=n===void 0?null:n;var l=e();if(Is){Re(!0);try{e()}finally{Re(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=Sn();if(s!==void 0){var f=s(n);if(Is){Re(!0);try{s(n)}finally{Re(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=TT.bind(null,xt,e),[l.memoizedState,e]},useRef:function(e){var n=Sn();return e={current:e},n.memoizedState=e},useState:function(e){e=th(e);var n=e.queue,s=np.bind(null,xt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:nh,useDeferredValue:function(e,n){var s=Sn();return ih(s,e,n)},useTransition:function(){var e=th(!1);return e=$g.bind(null,xt,e.queue,!0,!1),Sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=xt,f=Sn();if(Qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ae===null)throw Error(a(349));(Bt&124)!==0||wg(l,n,s)}f.memoizedState=s;var h={value:s,getSnapshot:n};return f.queue=h,qg(Cg.bind(null,l,h,e),[e]),l.flags|=2048,pa(9,_u(),Dg.bind(null,l,h,s,n),null),s},useId:function(){var e=Sn(),n=ae.identifierPrefix;if(Qt){var s=tr,l=Wi;s=(l&~(1<<32-ge(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=pu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=gT++,n="«"+n+"r"+s.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:sh,useFormState:zg,useActionState:zg,useOptimistic:function(e){var n=Sn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=ah.bind(null,xt,!0,s),s.dispatch=n,[e,n]},useMemoCache:$f,useCacheRefresh:function(){return Sn().memoizedState=ET.bind(null,xt)}},ap={readContext:ln,use:yu,useCallback:Yg,useContext:ln,useEffect:Hg,useImperativeHandle:Kg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:Xg,useReducer:vu,useRef:jg,useState:function(){return vu(ir)},useDebugValue:nh,useDeferredValue:function(e,n){var s=xe();return Zg(s,ee.memoizedState,e,n)},useTransition:function(){var e=vu(ir)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:xl(e),n]},useSyncExternalStore:Rg,useId:tp,useHostTransitionStatus:sh,useFormState:Pg,useActionState:Pg,useOptimistic:function(e,n){var s=xe();return Ig(s,ee,e,n)},useMemoCache:$f,useCacheRefresh:ep},bT={readContext:ln,use:yu,useCallback:Yg,useContext:ln,useEffect:Hg,useImperativeHandle:Kg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:Xg,useReducer:Wf,useRef:jg,useState:function(){return Wf(ir)},useDebugValue:nh,useDeferredValue:function(e,n){var s=xe();return ee===null?ih(s,e,n):Zg(s,ee.memoizedState,e,n)},useTransition:function(){var e=Wf(ir)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:xl(e),n]},useSyncExternalStore:Rg,useId:tp,useHostTransitionStatus:sh,useFormState:Bg,useActionState:Bg,useOptimistic:function(e,n){var s=xe();return ee!==null?Ig(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:$f,useCacheRefresh:ep},ya=null,Vl=0;function Au(e){var n=Vl;return Vl+=1,ya===null&&(ya=[]),yg(ya,e,n)}function Ol(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Su(e,n){throw n.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lp(e){var n=e._init;return n(e._payload)}function op(e){function n(L,M){if(e){var B=L.deletions;B===null?(L.deletions=[M],L.flags|=16):B.push(M)}}function s(L,M){if(!e)return null;for(;M!==null;)n(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function f(L,M){return L=Ji(L,M),L.index=0,L.sibling=null,L}function h(L,M,B){return L.index=B,e?(B=L.alternate,B!==null?(B=B.index,B<M?(L.flags|=67108866,M):B):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,B,Z){return M===null||M.tag!==6?(M=Df(B,L.mode,Z),M.return=L,M):(M=f(M,B),M.return=L,M)}function x(L,M,B,Z){var dt=B.type;return dt===K?X(L,M,B.props.children,Z,B.key):M!==null&&(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&lp(dt)===M.type)?(M=f(M,B.props),Ol(M,B),M.return=L,M):(M=au(B.type,B.key,B.props,null,L.mode,Z),Ol(M,B),M.return=L,M)}function j(L,M,B,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Cf(B,L.mode,Z),M.return=L,M):(M=f(M,B.children||[]),M.return=L,M)}function X(L,M,B,Z,dt){return M===null||M.tag!==7?(M=As(B,L.mode,Z,dt),M.return=L,M):(M=f(M,B),M.return=L,M)}function et(L,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Df(""+M,L.mode,B),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case D:return B=au(M.type,M.key,M.props,null,L.mode,B),Ol(B,M),B.return=L,B;case O:return M=Cf(M,L.mode,B),M.return=L,M;case A:var Z=M._init;return M=Z(M._payload),et(L,M,B)}if(Yt(M)||U(M))return M=As(M,L.mode,B,null),M.return=L,M;if(typeof M.then=="function")return et(L,Au(M),B);if(M.$$typeof===H)return et(L,cu(L,M),B);Su(L,M)}return null}function G(L,M,B,Z){var dt=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return dt!==null?null:T(L,M,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case D:return B.key===dt?x(L,M,B,Z):null;case O:return B.key===dt?j(L,M,B,Z):null;case A:return dt=B._init,B=dt(B._payload),G(L,M,B,Z)}if(Yt(B)||U(B))return dt!==null?null:X(L,M,B,Z,null);if(typeof B.then=="function")return G(L,M,Au(B),Z);if(B.$$typeof===H)return G(L,M,cu(L,B),Z);Su(L,B)}return null}function Q(L,M,B,Z,dt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,T(M,L,""+Z,dt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:return L=L.get(Z.key===null?B:Z.key)||null,x(M,L,Z,dt);case O:return L=L.get(Z.key===null?B:Z.key)||null,j(M,L,Z,dt);case A:var It=Z._init;return Z=It(Z._payload),Q(L,M,B,Z,dt)}if(Yt(Z)||U(Z))return L=L.get(B)||null,X(M,L,Z,dt,null);if(typeof Z.then=="function")return Q(L,M,B,Au(Z),dt);if(Z.$$typeof===H)return Q(L,M,B,cu(M,Z),dt);Su(M,Z)}return null}function bt(L,M,B,Z){for(var dt=null,It=null,yt=M,Tt=M=0,Fe=null;yt!==null&&Tt<B.length;Tt++){yt.index>Tt?(Fe=yt,yt=null):Fe=yt.sibling;var Ht=G(L,yt,B[Tt],Z);if(Ht===null){yt===null&&(yt=Fe);break}e&&yt&&Ht.alternate===null&&n(L,yt),M=h(Ht,M,Tt),It===null?dt=Ht:It.sibling=Ht,It=Ht,yt=Fe}if(Tt===B.length)return s(L,yt),Qt&&Rs(L,Tt),dt;if(yt===null){for(;Tt<B.length;Tt++)yt=et(L,B[Tt],Z),yt!==null&&(M=h(yt,M,Tt),It===null?dt=yt:It.sibling=yt,It=yt);return Qt&&Rs(L,Tt),dt}for(yt=l(yt);Tt<B.length;Tt++)Fe=Q(yt,L,Tt,B[Tt],Z),Fe!==null&&(e&&Fe.alternate!==null&&yt.delete(Fe.key===null?Tt:Fe.key),M=h(Fe,M,Tt),It===null?dt=Fe:It.sibling=Fe,It=Fe);return e&&yt.forEach(function(qr){return n(L,qr)}),Qt&&Rs(L,Tt),dt}function Et(L,M,B,Z){if(B==null)throw Error(a(151));for(var dt=null,It=null,yt=M,Tt=M=0,Fe=null,Ht=B.next();yt!==null&&!Ht.done;Tt++,Ht=B.next()){yt.index>Tt?(Fe=yt,yt=null):Fe=yt.sibling;var qr=G(L,yt,Ht.value,Z);if(qr===null){yt===null&&(yt=Fe);break}e&&yt&&qr.alternate===null&&n(L,yt),M=h(qr,M,Tt),It===null?dt=qr:It.sibling=qr,It=qr,yt=Fe}if(Ht.done)return s(L,yt),Qt&&Rs(L,Tt),dt;if(yt===null){for(;!Ht.done;Tt++,Ht=B.next())Ht=et(L,Ht.value,Z),Ht!==null&&(M=h(Ht,M,Tt),It===null?dt=Ht:It.sibling=Ht,It=Ht);return Qt&&Rs(L,Tt),dt}for(yt=l(yt);!Ht.done;Tt++,Ht=B.next())Ht=Q(yt,L,Tt,Ht.value,Z),Ht!==null&&(e&&Ht.alternate!==null&&yt.delete(Ht.key===null?Tt:Ht.key),M=h(Ht,M,Tt),It===null?dt=Ht:It.sibling=Ht,It=Ht);return e&&yt.forEach(function(Ab){return n(L,Ab)}),Qt&&Rs(L,Tt),dt}function ie(L,M,B,Z){if(typeof B=="object"&&B!==null&&B.type===K&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case D:t:{for(var dt=B.key;M!==null;){if(M.key===dt){if(dt=B.type,dt===K){if(M.tag===7){s(L,M.sibling),Z=f(M,B.props.children),Z.return=L,L=Z;break t}}else if(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&lp(dt)===M.type){s(L,M.sibling),Z=f(M,B.props),Ol(Z,B),Z.return=L,L=Z;break t}s(L,M);break}else n(L,M);M=M.sibling}B.type===K?(Z=As(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=au(B.type,B.key,B.props,null,L.mode,Z),Ol(Z,B),Z.return=L,L=Z)}return _(L);case O:t:{for(dt=B.key;M!==null;){if(M.key===dt)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){s(L,M.sibling),Z=f(M,B.children||[]),Z.return=L,L=Z;break t}else{s(L,M);break}else n(L,M);M=M.sibling}Z=Cf(B,L.mode,Z),Z.return=L,L=Z}return _(L);case A:return dt=B._init,B=dt(B._payload),ie(L,M,B,Z)}if(Yt(B))return bt(L,M,B,Z);if(U(B)){if(dt=U(B),typeof dt!="function")throw Error(a(150));return B=dt.call(B),Et(L,M,B,Z)}if(typeof B.then=="function")return ie(L,M,Au(B),Z);if(B.$$typeof===H)return ie(L,M,cu(L,B),Z);Su(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(s(L,M.sibling),Z=f(M,B),Z.return=L,L=Z):(s(L,M),Z=Df(B,L.mode,Z),Z.return=L,L=Z),_(L)):s(L,M)}return function(L,M,B,Z){try{Vl=0;var dt=ie(L,M,B,Z);return ya=null,dt}catch(yt){if(yt===Al||yt===hu)throw yt;var It=In(29,yt,null,L.mode);return It.lanes=Z,It.return=L,It}finally{}}}var va=op(!0),up=op(!1),Xn=$(null),Si=null;function Dr(e){var n=e.alternate;it(Le,Le.current&1),it(Xn,e),Si===null&&(n===null||da.current!==null||n.memoizedState!==null)&&(Si=e)}function cp(e){if(e.tag===22){if(it(Le,Le.current),it(Xn,e),Si===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Si=e)}}else Cr()}function Cr(){it(Le,Le.current),it(Xn,Xn.current)}function rr(e){ct(Xn),Si===e&&(Si=null),ct(Le)}var Le=$(0);function Ru(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Zh(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function lh(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var oh={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Un(),f=Sr(l);f.payload=n,s!=null&&(f.callback=s),n=Rr(e,f,l),n!==null&&(Ln(n,e,l),Rl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Un(),f=Sr(l);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Rr(e,f,l),n!==null&&(Ln(n,e,l),Rl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Un(),l=Sr(s);l.tag=2,n!=null&&(l.callback=n),n=Rr(e,l,s),n!==null&&(Ln(n,e,s),Rl(n,e,s))}};function fp(e,n,s,l,f,h,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,_):n.prototype&&n.prototype.isPureReactComponent?!gl(s,l)||!gl(f,h):!0}function hp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&oh.enqueueReplaceState(n,n.state,null)}function Vs(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=E({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function dp(e){wu(e)}function mp(e){console.error(e)}function gp(e){wu(e)}function Du(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function pp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function uh(e,n,s){return s=Sr(s),s.tag=3,s.payload={element:null},s.callback=function(){Du(e,n)},s}function yp(e){return e=Sr(e),e.tag=3,e}function vp(e,n,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var h=l.value;e.payload=function(){return f(h)},e.callback=function(){pp(n,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){pp(n,s,l),typeof f!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function AT(e,n,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&El(n,s,f,!0),s=Xn.current,s!==null){switch(s.tag){case 13:return Si===null?Oh():s.alternate===null&&ve===0&&(ve=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Pf?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Uh(e,l,f)),!1;case 22:return s.flags|=65536,l===Pf?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Uh(e,l,f)),!1}throw Error(a(435,s.tag))}return Uh(e,l,f),Oh(),!1}if(Qt)return n=Xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==If&&(e=Error(a(422),{cause:l}),_l(Qn(e,s)))):(l!==If&&(n=Error(a(423),{cause:l}),_l(Qn(n,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Qn(l,s),f=uh(e.stateNode,l,f),jf(e,f),ve!==4&&(ve=2)),!1;var h=Error(a(520),{cause:l});if(h=Qn(h,s),Bl===null?Bl=[h]:Bl.push(h),ve!==4&&(ve=2),n===null)return!0;l=Qn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=uh(s.stateNode,l,e),jf(s,e),!1;case 1:if(n=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Mr===null||!Mr.has(h))))return s.flags|=65536,f&=-f,s.lanes|=f,f=yp(f),vp(f,e,s,l),jf(s,f),!1}s=s.return}while(s!==null);return!1}var _p=Error(a(461)),Ge=!1;function We(e,n,s,l){n.child=e===null?up(n,null,s,l):va(n,e.child,s,l)}function Ep(e,n,s,l,f){s=s.render;var h=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return xs(n),l=Ff(e,n,s,_,h,f),T=Kf(),e!==null&&!Ge?(Yf(e,n,f),sr(e,n,f)):(Qt&&T&&xf(n),n.flags|=1,We(e,n,l,f),n.child)}function Tp(e,n,s,l,f){if(e===null){var h=s.type;return typeof h=="function"&&!wf(h)&&h.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=h,bp(e,n,h,l,f)):(e=au(s.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!yh(e,f)){var _=h.memoizedProps;if(s=s.compare,s=s!==null?s:gl,s(_,l)&&e.ref===n.ref)return sr(e,n,f)}return n.flags|=1,e=Ji(h,l),e.ref=n.ref,e.return=n,n.child=e}function bp(e,n,s,l,f){if(e!==null){var h=e.memoizedProps;if(gl(h,l)&&e.ref===n.ref)if(Ge=!1,n.pendingProps=l=h,yh(e,f))(e.flags&131072)!==0&&(Ge=!0);else return n.lanes=e.lanes,sr(e,n,f)}return ch(e,n,s,l,f)}function Ap(e,n,s){var l=n.pendingProps,f=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|s:s,e!==null){for(f=n.child=e.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return Sp(e,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&fu(n,h!==null?h.cachePool:null),h!==null?bg(n,h):Hf(),cp(n);else return n.lanes=n.childLanes=536870912,Sp(e,n,h!==null?h.baseLanes|s:s,s)}else h!==null?(fu(n,h.cachePool),bg(n,h),Cr(),n.memoizedState=null):(e!==null&&fu(n,null),Hf(),Cr());return We(e,n,f,s),n.child}function Sp(e,n,s,l){var f=zf();return f=f===null?null:{parent:Ue._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&fu(n,null),Hf(),cp(n),e!==null&&El(e,n,l,!0),null}function Cu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function ch(e,n,s,l,f){return xs(n),s=Ff(e,n,s,l,void 0,f),l=Kf(),e!==null&&!Ge?(Yf(e,n,f),sr(e,n,f)):(Qt&&l&&xf(n),n.flags|=1,We(e,n,s,f),n.child)}function Rp(e,n,s,l,f,h){return xs(n),n.updateQueue=null,s=Sg(n,l,s,f),Ag(e),l=Kf(),e!==null&&!Ge?(Yf(e,n,h),sr(e,n,h)):(Qt&&l&&xf(n),n.flags|=1,We(e,n,s,h),n.child)}function wp(e,n,s,l,f){if(xs(n),n.stateNode===null){var h=oa,_=s.contextType;typeof _=="object"&&_!==null&&(h=ln(_)),h=new s(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=oh,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},kf(n),_=s.contextType,h.context=typeof _=="object"&&_!==null?ln(_):oa,h.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(lh(n,s,_,l),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&oh.enqueueReplaceState(h,h.state,null),Dl(n,l,h,f),wl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){h=n.stateNode;var T=n.memoizedProps,x=Vs(s,T);h.props=x;var j=h.context,X=s.contextType;_=oa,typeof X=="object"&&X!==null&&(_=ln(X));var et=s.getDerivedStateFromProps;X=typeof et=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,X||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||j!==_)&&hp(n,h,l,_),Ar=!1;var G=n.memoizedState;h.state=G,Dl(n,l,h,f),wl(),j=n.memoizedState,T||G!==j||Ar?(typeof et=="function"&&(lh(n,s,et,l),j=n.memoizedState),(x=Ar||fp(n,s,x,l,G,j,_))?(X||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),h.props=l,h.state=j,h.context=_,l=x):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Bf(e,n),_=n.memoizedProps,X=Vs(s,_),h.props=X,et=n.pendingProps,G=h.context,j=s.contextType,x=oa,typeof j=="object"&&j!==null&&(x=ln(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==et||G!==x)&&hp(n,h,l,x),Ar=!1,G=n.memoizedState,h.state=G,Dl(n,l,h,f),wl();var Q=n.memoizedState;_!==et||G!==Q||Ar||e!==null&&e.dependencies!==null&&uu(e.dependencies)?(typeof T=="function"&&(lh(n,s,T,l),Q=n.memoizedState),(X=Ar||fp(n,s,X,l,G,Q,x)||e!==null&&e.dependencies!==null&&uu(e.dependencies))?(j||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,Q,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,Q,x)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),h.props=l,h.state=Q,h.context=x,l=X):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),l=!1)}return h=l,Cu(e,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&l?(n.child=va(n,e.child,null,f),n.child=va(n,null,s,f)):We(e,n,s,f),n.memoizedState=h.state,e=n.child):e=sr(e,n,f),e}function Dp(e,n,s,l){return vl(),n.flags|=256,We(e,n,s,l),n.child}var fh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hh(e){return{baseLanes:e,cachePool:mg()}}function dh(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Zn),e}function Cp(e,n,s){var l=n.pendingProps,f=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),_&&(f=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qt){if(f?Dr(n):Cr(),Qt){var T=ye,x;if(x=T){t:{for(x=T,T=Ai;x.nodeType!==8;){if(!T){T=null;break t}if(x=oi(x.nextSibling),x===null){T=null;break t}}T=x}T!==null?(n.memoizedState={dehydrated:T,treeContext:Ss!==null?{id:Wi,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},x=In(18,null,null,0),x.stateNode=T,x.return=n,n.child=x,_n=n,ye=null,x=!0):x=!1}x||Ds(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Zh(T)?n.lanes=32:n.lanes=536870912,null;rr(n)}return T=l.children,l=l.fallback,f?(Cr(),f=n.mode,T=xu({mode:"hidden",children:T},f),l=As(l,f,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,f=n.child,f.memoizedState=hh(s),f.childLanes=dh(e,_,s),n.memoizedState=fh,l):(Dr(n),mh(n,T))}if(x=e.memoizedState,x!==null&&(T=x.dehydrated,T!==null)){if(h)n.flags&256?(Dr(n),n.flags&=-257,n=gh(e,n,s)):n.memoizedState!==null?(Cr(),n.child=e.child,n.flags|=128,n=null):(Cr(),f=l.fallback,T=n.mode,l=xu({mode:"visible",children:l.children},T),f=As(f,T,s,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,va(n,e.child,null,s),l=n.child,l.memoizedState=hh(s),l.childLanes=dh(e,_,s),n.memoizedState=fh,n=f);else if(Dr(n),Zh(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(a(419)),l.stack="",l.digest=_,_l({value:l,source:null,stack:null}),n=gh(e,n,s)}else if(Ge||El(e,n,s,!1),_=(s&e.childLanes)!==0,Ge||_){if(_=ae,_!==null&&(l=s&-s,l=(l&42)!==0?1:_e(l),l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,la(e,l),Ln(_,e,l),_p;T.data==="$?"||Oh(),n=gh(e,n,s)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ye=oi(T.nextSibling),_n=n,Qt=!0,ws=null,Ai=!1,e!==null&&(Kn[Yn++]=Wi,Kn[Yn++]=tr,Kn[Yn++]=Ss,Wi=e.id,tr=e.overflow,Ss=n),n=mh(n,l.children),n.flags|=4096);return n}return f?(Cr(),f=l.fallback,T=n.mode,x=e.child,j=x.sibling,l=Ji(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,j!==null?f=Ji(j,f):(f=As(f,T,s,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,T=e.child.memoizedState,T===null?T=hh(s):(x=T.cachePool,x!==null?(j=Ue._currentValue,x=x.parent!==j?{parent:j,pool:j}:x):x=mg(),T={baseLanes:T.baseLanes|s,cachePool:x}),f.memoizedState=T,f.childLanes=dh(e,_,s),n.memoizedState=fh,l):(Dr(n),s=e.child,e=s.sibling,s=Ji(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=s,n.memoizedState=null,s)}function mh(e,n){return n=xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function xu(e,n){return e=In(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function gh(e,n,s){return va(n,e.child,null,s),e=mh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function xp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Of(e.return,n,s)}function ph(e,n,s,l,f){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=s,h.tailMode=f)}function Np(e,n,s){var l=n.pendingProps,f=l.revealOrder,h=l.tail;if(We(e,n,l.children,s),l=Le.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xp(e,s,n);else if(e.tag===19)xp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(it(Le,l),f){case"forwards":for(s=n.child,f=null;s!==null;)e=s.alternate,e!==null&&Ru(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),ph(n,!1,f,s,h);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Ru(e)===null){n.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}ph(n,!0,s,null,h);break;case"together":ph(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function sr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Or|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(El(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ji(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ji(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function yh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&uu(e)))}function ST(e,n,s){switch(n.tag){case 3:zt(n,n.stateNode.containerInfo),br(n,Ue,e.memoizedState.cache),vl();break;case 27:case 5:Vt(n);break;case 4:zt(n,n.stateNode.containerInfo);break;case 10:br(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Dr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Cp(e,n,s):(Dr(n),e=sr(e,n,s),e!==null?e.sibling:null);Dr(n);break;case 19:var f=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(El(e,n,s,!1),l=(s&n.childLanes)!==0),f){if(l)return Np(e,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),it(Le,Le.current),l)break;return null;case 22:case 23:return n.lanes=0,Ap(e,n,s);case 24:br(n,Ue,e.memoizedState.cache)}return sr(e,n,s)}function Ip(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ge=!0;else{if(!yh(e,s)&&(n.flags&128)===0)return Ge=!1,ST(e,n,s);Ge=(e.flags&131072)!==0}else Ge=!1,Qt&&(n.flags&1048576)!==0&&lg(n,ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")wf(l)?(e=Vs(l,e),n.tag=1,n=wp(null,n,l,e,s)):(n.tag=0,n=ch(null,n,l,e,s));else{if(l!=null){if(f=l.$$typeof,f===at){n.tag=11,n=Ep(null,n,l,e,s);break t}else if(f===R){n.tag=14,n=Tp(null,n,l,e,s);break t}}throw n=Kt(l)||l,Error(a(306,n,""))}}return n;case 0:return ch(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,f=Vs(l,n.pendingProps),wp(e,n,l,f,s);case 3:t:{if(zt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var h=n.memoizedState;f=h.element,Bf(e,n),Dl(n,l,null,s);var _=n.memoizedState;if(l=_.cache,br(n,Ue,l),l!==h.cache&&Mf(n,[Ue],s,!0),wl(),l=_.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Dp(e,n,l,s);break t}else if(l!==f){f=Qn(Error(a(424)),n),_l(f),n=Dp(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ye=oi(e.firstChild),_n=n,Qt=!0,ws=null,Ai=!0,s=up(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(vl(),l===f){n=sr(e,n,s);break t}We(e,n,l,s)}n=n.child}return n;case 26:return Cu(e,n),e===null?(s=Uy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Qt||(s=n.type,e=n.pendingProps,l=Hu(gt.current).createElement(s),l[Wt]=n,l[Gt]=e,en(l,s,e),Ee(l),n.stateNode=l):n.memoizedState=Uy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Vt(n),e===null&&Qt&&(l=n.stateNode=Vy(n.type,n.pendingProps,gt.current),_n=n,Ai=!0,f=ye,zr(n.type)?($h=f,ye=oi(l.firstChild)):ye=f),We(e,n,n.pendingProps.children,s),Cu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qt&&((f=l=ye)&&(l=JT(l,n.type,n.pendingProps,Ai),l!==null?(n.stateNode=l,_n=n,ye=oi(l.firstChild),Ai=!1,f=!0):f=!1),f||Ds(n)),Vt(n),f=n.type,h=n.pendingProps,_=e!==null?e.memoizedProps:null,l=h.children,Kh(f,h)?l=null:_!==null&&Kh(f,_)&&(n.flags|=32),n.memoizedState!==null&&(f=Ff(e,n,pT,null,null,s),Xl._currentValue=f),Cu(e,n),We(e,n,l,s),n.child;case 6:return e===null&&Qt&&((e=s=ye)&&(s=WT(s,n.pendingProps,Ai),s!==null?(n.stateNode=s,_n=n,ye=null,e=!0):e=!1),e||Ds(n)),null;case 13:return Cp(e,n,s);case 4:return zt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=va(n,null,l,s):We(e,n,l,s),n.child;case 11:return Ep(e,n,n.type,n.pendingProps,s);case 7:return We(e,n,n.pendingProps,s),n.child;case 8:return We(e,n,n.pendingProps.children,s),n.child;case 12:return We(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,br(n,n.type,l.value),We(e,n,l.children,s),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,xs(n),f=ln(f),l=l(f),n.flags|=1,We(e,n,l,s),n.child;case 14:return Tp(e,n,n.type,n.pendingProps,s);case 15:return bp(e,n,n.type,n.pendingProps,s);case 19:return Np(e,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},e===null?(s=xu(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ji(e.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Ap(e,n,s);case 24:return xs(n),l=ln(Ue),e===null?(f=zf(),f===null&&(f=ae,h=Uf(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=s),f=h),n.memoizedState={parent:l,cache:f},kf(n),br(n,Ue,f)):((e.lanes&s)!==0&&(Bf(e,n),Dl(n,null,null,s),wl()),f=e.memoizedState,h=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),br(n,Ue,l)):(l=h.cache,br(n,Ue,l),l!==f.cache&&Mf(n,[Ue],s,!0))),We(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ar(e){e.flags|=4}function Vp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!By(n)){if(n=Xn.current,n!==null&&((Bt&4194048)===Bt?Si!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||n!==Si))throw Sl=Pf,gg;e.flags|=8192}}function Nu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ls():536870912,e.lanes|=n,ba|=n)}function Ml(e,n){if(!Qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function RT(e,n,s){var l=n.pendingProps;switch(Nf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),nr(Ue),Se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(yl(n)?ar(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cg())),de(n),null;case 26:return s=n.memoizedState,e===null?(ar(n),s!==null?(de(n),Vp(n,s)):(de(n),n.flags&=-16777217)):s?s!==e.memoizedState?(ar(n),de(n),Vp(n,s)):(de(n),n.flags&=-16777217):(e.memoizedProps!==l&&ar(n),de(n),n.flags&=-16777217),null;case 27:hn(n),s=gt.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ar(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return de(n),null}e=mt.current,yl(n)?og(n):(e=Vy(f,l,s),n.stateNode=e,ar(n))}return de(n),null;case 5:if(hn(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ar(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return de(n),null}if(e=mt.current,yl(n))og(n);else{switch(f=Hu(gt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}e[Wt]=n,e[Gt]=l;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(en(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ar(n)}}return de(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&ar(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=gt.current,yl(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,f=_n,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Wt]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Ry(e.nodeValue,s)),e||Ds(n)}else e=Hu(e).createTextNode(l),e[Wt]=n,n.stateNode=e}return de(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=yl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Wt]=n}else vl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),f=!1}else f=cg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(rr(n),n):(rr(n),null)}if(rr(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==f&&(l.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Nu(n,n.updateQueue),de(n),null;case 4:return Se(),e===null&&qh(n.stateNode.containerInfo),de(n),null;case 10:return nr(n.type),de(n),null;case 19:if(ct(Le),f=n.memoizedState,f===null)return de(n),null;if(l=(n.flags&128)!==0,h=f.rendering,h===null)if(l)Ml(f,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Ru(e),h!==null){for(n.flags|=128,Ml(f,!1),e=h.updateQueue,n.updateQueue=e,Nu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)ag(s,e),s=s.sibling;return it(Le,Le.current&1|2),n.child}e=e.sibling}f.tail!==null&&dn()>Ou&&(n.flags|=128,l=!0,Ml(f,!1),n.lanes=4194304)}else{if(!l)if(e=Ru(h),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Nu(n,e),Ml(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!Qt)return de(n),null}else 2*dn()-f.renderingStartTime>Ou&&s!==536870912&&(n.flags|=128,l=!0,Ml(f,!1),n.lanes=4194304);f.isBackwards?(h.sibling=n.child,n.child=h):(e=f.last,e!==null?e.sibling=h:n.child=h,f.last=h)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=dn(),n.sibling=null,e=Le.current,it(Le,l?e&1|2:e&1),n):(de(n),null);case 22:case 23:return rr(n),Gf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),s=n.updateQueue,s!==null&&Nu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&ct(Ns),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),nr(Ue),de(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function wT(e,n){switch(Nf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return nr(Ue),Se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return hn(n),null;case 13:if(rr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));vl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ct(Le),null;case 4:return Se(),null;case 10:return nr(n.type),null;case 22:case 23:return rr(n),Gf(),e!==null&&ct(Ns),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return nr(Ue),null;case 25:return null;default:return null}}function Op(e,n){switch(Nf(n),n.tag){case 3:nr(Ue),Se();break;case 26:case 27:case 5:hn(n);break;case 4:Se();break;case 13:rr(n);break;case 19:ct(Le);break;case 10:nr(n.type);break;case 22:case 23:rr(n),Gf(),e!==null&&ct(Ns);break;case 24:nr(Ue)}}function Ul(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&e)===e){l=void 0;var h=s.create,_=s.inst;l=h(),_.destroy=l}s=s.next}while(s!==f)}}catch(T){re(n,n.return,T)}}function xr(e,n,s){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var h=f.next;l=h;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=n;var x=s,j=T;try{j()}catch(X){re(f,x,X)}}}l=l.next}while(l!==h)}}catch(X){re(n,n.return,X)}}function Mp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Tg(n,s)}catch(l){re(e,e.return,l)}}}function Up(e,n,s){s.props=Vs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){re(e,n,l)}}function Ll(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(f){re(e,n,f)}}function Ri(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){re(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){re(e,n,f)}else s.current=null}function Lp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){re(e,e.return,f)}}function vh(e,n,s){try{var l=e.stateNode;KT(l,e.type,s,n),l[Gt]=n}catch(f){re(e,e.return,f)}}function zp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zr(e.type)||e.tag===4}function _h(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||zp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eh(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qu));else if(l!==4&&(l===27&&zr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Eh(e,n,s),e=e.sibling;e!==null;)Eh(e,n,s),e=e.sibling}function Iu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&zr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Iu(e,n,s),e=e.sibling;e!==null;)Iu(e,n,s),e=e.sibling}function Pp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);en(n,l,s),n[Wt]=e,n[Gt]=s}catch(h){re(e,e.return,h)}}var lr=!1,be=!1,Th=!1,kp=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function DT(e,n){if(e=e.containerInfo,Qh=Xu,e=Zm(e),_f(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break t}var _=0,T=-1,x=-1,j=0,X=0,et=e,G=null;e:for(;;){for(var Q;et!==s||f!==0&&et.nodeType!==3||(T=_+f),et!==h||l!==0&&et.nodeType!==3||(x=_+l),et.nodeType===3&&(_+=et.nodeValue.length),(Q=et.firstChild)!==null;)G=et,et=Q;for(;;){if(et===e)break e;if(G===s&&++j===f&&(T=_),G===h&&++X===l&&(x=_),(Q=et.nextSibling)!==null)break;et=G,G=et.parentNode}et=Q}s=T===-1||x===-1?null:{start:T,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(Fh={focusedElem:e,selectionRange:s},Xu=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,s=n,f=h.memoizedProps,h=h.memoizedState,l=s.stateNode;try{var bt=Vs(s.type,f,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(bt,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){re(s,s.return,Et)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Xh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function Bp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Nr(e,s),l&4&&Ul(5,s);break;case 1:if(Nr(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(_){re(s,s.return,_)}else{var f=Vs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){re(s,s.return,_)}}l&64&&Mp(s),l&512&&Ll(s,s.return);break;case 3:if(Nr(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Tg(e,n)}catch(_){re(s,s.return,_)}}break;case 27:n===null&&l&4&&Pp(s);case 26:case 5:Nr(e,s),n===null&&l&4&&Lp(s),l&512&&Ll(s,s.return);break;case 12:Nr(e,s);break;case 13:Nr(e,s),l&4&&Hp(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=LT.bind(null,s),tb(e,s))));break;case 22:if(l=s.memoizedState!==null||lr,!l){n=n!==null&&n.memoizedState!==null||be,f=lr;var h=be;lr=l,(be=n)&&!h?Ir(e,s,(s.subtreeFlags&8772)!==0):Nr(e,s),lr=f,be=h}break;case 30:break;default:Nr(e,s)}}function jp(e){var n=e.alternate;n!==null&&(e.alternate=null,jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&vr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,Rn=!1;function or(e,n,s){for(s=s.child;s!==null;)qp(e,n,s),s=s.sibling}function qp(e,n,s){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(le,s)}catch{}switch(s.tag){case 26:be||Ri(s,n),or(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||Ri(s,n);var l=ue,f=Rn;zr(s.type)&&(ue=s.stateNode,Rn=!1),or(e,n,s),Ql(s.stateNode),ue=l,Rn=f;break;case 5:be||Ri(s,n);case 6:if(l=ue,f=Rn,ue=null,or(e,n,s),ue=l,Rn=f,ue!==null)if(Rn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(h){re(s,n,h)}else try{ue.removeChild(s.stateNode)}catch(h){re(s,n,h)}break;case 18:ue!==null&&(Rn?(e=ue,Ny(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Wl(e)):Ny(ue,s.stateNode));break;case 4:l=ue,f=Rn,ue=s.stateNode.containerInfo,Rn=!0,or(e,n,s),ue=l,Rn=f;break;case 0:case 11:case 14:case 15:be||xr(2,s,n),be||xr(4,s,n),or(e,n,s);break;case 1:be||(Ri(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Up(s,n,l)),or(e,n,s);break;case 21:or(e,n,s);break;case 22:be=(l=be)||s.memoizedState!==null,or(e,n,s),be=l;break;default:or(e,n,s)}}function Hp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wl(e)}catch(s){re(n,n.return,s)}}function CT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new kp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new kp),n;default:throw Error(a(435,e.tag))}}function bh(e,n){var s=CT(e);n.forEach(function(l){var f=zT.bind(null,e,l);s.has(l)||(s.add(l),l.then(f,f))})}function Vn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],h=e,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(zr(T.type)){ue=T.stateNode,Rn=!1;break t}break;case 5:ue=T.stateNode,Rn=!1;break t;case 3:case 4:ue=T.stateNode.containerInfo,Rn=!0;break t}T=T.return}if(ue===null)throw Error(a(160));qp(h,_,f),ue=null,Rn=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Gp(n,e),n=n.sibling}var li=null;function Gp(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vn(n,e),On(e),l&4&&(xr(3,e,e.return),Ul(3,e),xr(5,e,e.return));break;case 1:Vn(n,e),On(e),l&512&&(be||s===null||Ri(s,s.return)),l&64&&lr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=li;if(Vn(n,e),On(e),l&512&&(be||s===null||Ri(s,s.return)),l&4){var h=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":h=f.getElementsByTagName("title")[0],(!h||h[ii]||h[Wt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(l),f.head.insertBefore(h,f.querySelector("head > title"))),en(h,l,s),h[Wt]=e,Ee(h),l=h;break t;case"link":var _=Py("link","href",f).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(h=_[T],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break e}}h=f.createElement(l),en(h,l,s),f.head.appendChild(h);break;case"meta":if(_=Py("meta","content",f).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(h=_[T],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break e}}h=f.createElement(l),en(h,l,s),f.head.appendChild(h);break;default:throw Error(a(468,l))}h[Wt]=e,Ee(h),l=h}e.stateNode=l}else ky(f,e.type,e.stateNode);else e.stateNode=zy(f,l,e.memoizedProps);else h!==l?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,l===null?ky(f,e.type,e.stateNode):zy(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&vh(e,e.memoizedProps,s.memoizedProps)}break;case 27:Vn(n,e),On(e),l&512&&(be||s===null||Ri(s,s.return)),s!==null&&l&4&&vh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Vn(n,e),On(e),l&512&&(be||s===null||Ri(s,s.return)),e.flags&32){f=e.stateNode;try{jn(f,"")}catch(Q){re(e,e.return,Q)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,vh(e,f,s!==null?s.memoizedProps:f)),l&1024&&(Th=!0);break;case 6:if(Vn(n,e),On(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(Q){re(e,e.return,Q)}}break;case 3:if(Fu=null,f=li,li=Gu(n.containerInfo),Vn(n,e),li=f,On(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Wl(n.containerInfo)}catch(Q){re(e,e.return,Q)}Th&&(Th=!1,Qp(e));break;case 4:l=li,li=Gu(e.stateNode.containerInfo),Vn(n,e),On(e),li=l;break;case 12:Vn(n,e),On(e);break;case 13:Vn(n,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ch=dn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bh(e,l)));break;case 22:f=e.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,j=lr,X=be;if(lr=j||f,be=X||x,Vn(n,e),be=X,lr=j,On(e),l&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||x||lr||be||Os(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(h=x.stateNode,f)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=x.stateNode;var et=x.memoizedProps.style,G=et!=null&&et.hasOwnProperty("display")?et.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Q){re(x,x.return,Q)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(Q){re(x,x.return,Q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,bh(e,s))));break;case 19:Vn(n,e),On(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bh(e,l)));break;case 30:break;case 21:break;default:Vn(n,e),On(e)}}function On(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(zp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,h=_h(e);Iu(e,h,f);break;case 5:var _=s.stateNode;s.flags&32&&(jn(_,""),s.flags&=-33);var T=_h(e);Iu(e,T,_);break;case 3:case 4:var x=s.stateNode.containerInfo,j=_h(e);Eh(e,j,x);break;default:throw Error(a(161))}}catch(X){re(e,e.return,X)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Qp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Nr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Bp(e,n.alternate,n),n=n.sibling}function Os(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xr(4,n,n.return),Os(n);break;case 1:Ri(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Up(n,n.return,s),Os(n);break;case 27:Ql(n.stateNode);case 26:case 5:Ri(n,n.return),Os(n);break;case 22:n.memoizedState===null&&Os(n);break;case 30:Os(n);break;default:Os(n)}e=e.sibling}}function Ir(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,h=n,_=h.flags;switch(h.tag){case 0:case 11:case 15:Ir(f,h,s),Ul(4,h);break;case 1:if(Ir(f,h,s),l=h,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){re(l,l.return,j)}if(l=h,f=l.updateQueue,f!==null){var T=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Eg(x[f],T)}catch(j){re(l,l.return,j)}}s&&_&64&&Mp(h),Ll(h,h.return);break;case 27:Pp(h);case 26:case 5:Ir(f,h,s),s&&l===null&&_&4&&Lp(h),Ll(h,h.return);break;case 12:Ir(f,h,s);break;case 13:Ir(f,h,s),s&&_&4&&Hp(f,h);break;case 22:h.memoizedState===null&&Ir(f,h,s),Ll(h,h.return);break;case 30:break;default:Ir(f,h,s)}n=n.sibling}}function Ah(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Tl(s))}function Sh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Tl(e))}function wi(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fp(e,n,s,l),n=n.sibling}function Fp(e,n,s,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:wi(e,n,s,l),f&2048&&Ul(9,n);break;case 1:wi(e,n,s,l);break;case 3:wi(e,n,s,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Tl(e)));break;case 12:if(f&2048){wi(e,n,s,l),e=n.stateNode;try{var h=n.memoizedProps,_=h.id,T=h.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){re(n,n.return,x)}}else wi(e,n,s,l);break;case 13:wi(e,n,s,l);break;case 23:break;case 22:h=n.stateNode,_=n.alternate,n.memoizedState!==null?h._visibility&2?wi(e,n,s,l):zl(e,n):h._visibility&2?wi(e,n,s,l):(h._visibility|=2,_a(e,n,s,l,(n.subtreeFlags&10256)!==0)),f&2048&&Ah(_,n);break;case 24:wi(e,n,s,l),f&2048&&Sh(n.alternate,n);break;default:wi(e,n,s,l)}}function _a(e,n,s,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,_=n,T=s,x=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:_a(h,_,T,x,f),Ul(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?_a(h,_,T,x,f):zl(h,_):(X._visibility|=2,_a(h,_,T,x,f)),f&&j&2048&&Ah(_.alternate,_);break;case 24:_a(h,_,T,x,f),f&&j&2048&&Sh(_.alternate,_);break;default:_a(h,_,T,x,f)}n=n.sibling}}function zl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,f=l.flags;switch(l.tag){case 22:zl(s,l),f&2048&&Ah(l.alternate,l);break;case 24:zl(s,l),f&2048&&Sh(l.alternate,l);break;default:zl(s,l)}n=n.sibling}}var Pl=8192;function Ea(e){if(e.subtreeFlags&Pl)for(e=e.child;e!==null;)Kp(e),e=e.sibling}function Kp(e){switch(e.tag){case 26:Ea(e),e.flags&Pl&&e.memoizedState!==null&&db(li,e.memoizedState,e.memoizedProps);break;case 5:Ea(e);break;case 3:case 4:var n=li;li=Gu(e.stateNode.containerInfo),Ea(e),li=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Pl,Pl=16777216,Ea(e),Pl=n):Ea(e));break;default:Ea(e)}}function Yp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function kl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Qe=l,Zp(l,e)}Yp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xp(e),e=e.sibling}function Xp(e){switch(e.tag){case 0:case 11:case 15:kl(e),e.flags&2048&&xr(9,e,e.return);break;case 3:kl(e);break;case 12:kl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Vu(e)):kl(e);break;default:kl(e)}}function Vu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Qe=l,Zp(l,e)}Yp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xr(8,n,n.return),Vu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Vu(n));break;default:Vu(n)}e=e.sibling}}function Zp(e,n){for(;Qe!==null;){var s=Qe;switch(s.tag){case 0:case 11:case 15:xr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Qe=l;else t:for(s=e;Qe!==null;){l=Qe;var f=l.sibling,h=l.return;if(jp(l),l===s){Qe=null;break t}if(f!==null){f.return=h,Qe=f;break t}Qe=h}}}var xT={getCacheForType:function(e){var n=ln(Ue),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},NT=typeof WeakMap=="function"?WeakMap:Map,$t=0,ae=null,Ot=null,Bt=0,Jt=0,Mn=null,Vr=!1,Ta=!1,Rh=!1,ur=0,ve=0,Or=0,Ms=0,wh=0,Zn=0,ba=0,Bl=null,wn=null,Dh=!1,Ch=0,Ou=1/0,Mu=null,Mr=null,tn=0,Ur=null,Aa=null,Sa=0,xh=0,Nh=null,$p=null,jl=0,Ih=null;function Un(){if(($t&2)!==0&&Bt!==0)return Bt&-Bt;if(Y.T!==null){var e=fa;return e!==0?e:Ph()}return Ve()}function Jp(){Zn===0&&(Zn=(Bt&536870912)===0||Qt?as():536870912);var e=Xn.current;return e!==null&&(e.flags|=32),Zn}function Ln(e,n,s){(e===ae&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),Lr(e,Bt,Zn,!1)),se(e,s),(($t&2)===0||e!==ae)&&(e===ae&&(($t&2)===0&&(Ms|=s),ve===4&&Lr(e,Bt,Zn,!1)),Di(e))}function Wp(e,n,s){if(($t&6)!==0)throw Error(a(327));var l=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Bi(e,n),f=l?OT(e,n):Mh(e,n,!0),h=l;do{if(f===0){Ta&&!l&&Lr(e,n,0,!1);break}else{if(s=e.current.alternate,h&&!IT(s)){f=Mh(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=e;f=Bl;var x=T.current.memoizedState.isDehydrated;if(x&&(Ra(T,_).flags|=256),_=Mh(T,_,!1),_!==2){if(Rh&&!x){T.errorRecoveryDisabledLanes|=h,Ms|=h,f=4;break t}h=wn,wn=f,h!==null&&(wn===null?wn=h:wn.push.apply(wn,h))}f=_}if(h=!1,f!==2)continue}}if(f===1){Ra(e,0),Lr(e,n,0,!0);break}t:{switch(l=e,h=f,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Lr(l,n,Zn,!Vr);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Ch+300-dn(),10<f)){if(Lr(l,n,Zn,!Vr),ki(l,0,!0)!==0)break t;l.timeoutHandle=Cy(ty.bind(null,l,s,wn,Mu,Dh,n,Zn,Ms,ba,Vr,h,2,-0,0),f);break t}ty(l,s,wn,Mu,Dh,n,Zn,Ms,ba,Vr,h,0,-0,0)}}break}while(!0);Di(e)}function ty(e,n,s,l,f,h,_,T,x,j,X,et,G,Q){if(e.timeoutHandle=-1,et=n.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:hb},Kp(n),et=mb(),et!==null)){e.cancelPendingCommit=et(ly.bind(null,e,n,h,s,l,f,_,T,x,X,1,G,Q)),Lr(e,h,_,!j);return}ly(e,n,h,s,l,f,_,T,x)}function IT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],h=f.getSnapshot;f=f.value;try{if(!Nn(h(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Lr(e,n,s,l){n&=~wh,n&=~Ms,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var h=31-ge(f),_=1<<h;l[h]=-1,f&=~_}s!==0&&oe(e,s,n)}function Uu(){return($t&6)===0?(ql(0),!1):!0}function Vh(){if(Ot!==null){if(Jt===0)var e=Ot.return;else e=Ot,er=Cs=null,Xf(e),ya=null,Vl=0,e=Ot;for(;e!==null;)Op(e.alternate,e),e=e.return;Ot=null}}function Ra(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,XT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Vh(),ae=e,Ot=s=Ji(e.current,null),Bt=n,Jt=0,Mn=null,Vr=!1,Ta=Bi(e,n),Rh=!1,ba=Zn=wh=Ms=Or=ve=0,wn=Bl=null,Dh=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-ge(l),h=1<<f;n|=e[f],l&=~h}return ur=n,iu(),s}function ey(e,n){xt=null,Y.H=bu,n===Al||n===hu?(n=vg(),Jt=3):n===gg?(n=vg(),Jt=4):Jt=n===_p?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mn=n,Ot===null&&(ve=1,Du(e,Qn(n,e.current)))}function ny(){var e=Y.H;return Y.H=bu,e===null?bu:e}function iy(){var e=Y.A;return Y.A=xT,e}function Oh(){ve=4,Vr||(Bt&4194048)!==Bt&&Xn.current!==null||(Ta=!0),(Or&134217727)===0&&(Ms&134217727)===0||ae===null||Lr(ae,Bt,Zn,!1)}function Mh(e,n,s){var l=$t;$t|=2;var f=ny(),h=iy();(ae!==e||Bt!==n)&&(Mu=null,Ra(e,n)),n=!1;var _=ve;t:do try{if(Jt!==0&&Ot!==null){var T=Ot,x=Mn;switch(Jt){case 8:Vh(),_=6;break t;case 3:case 2:case 9:case 6:Xn.current===null&&(n=!0);var j=Jt;if(Jt=0,Mn=null,wa(e,T,x,j),s&&Ta){_=0;break t}break;default:j=Jt,Jt=0,Mn=null,wa(e,T,x,j)}}VT(),_=ve;break}catch(X){ey(e,X)}while(!0);return n&&e.shellSuspendCounter++,er=Cs=null,$t=l,Y.H=f,Y.A=h,Ot===null&&(ae=null,Bt=0,iu()),_}function VT(){for(;Ot!==null;)ry(Ot)}function OT(e,n){var s=$t;$t|=2;var l=ny(),f=iy();ae!==e||Bt!==n?(Mu=null,Ou=dn()+500,Ra(e,n)):Ta=Bi(e,n);t:do try{if(Jt!==0&&Ot!==null){n=Ot;var h=Mn;e:switch(Jt){case 1:Jt=0,Mn=null,wa(e,n,h,1);break;case 2:case 9:if(pg(h)){Jt=0,Mn=null,sy(n);break}n=function(){Jt!==2&&Jt!==9||ae!==e||(Jt=7),Di(e)},h.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:pg(h)?(Jt=0,Mn=null,sy(n)):(Jt=0,Mn=null,wa(e,n,h,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var T=Ot;if(!_||By(_)){Jt=0,Mn=null;var x=T.sibling;if(x!==null)Ot=x;else{var j=T.return;j!==null?(Ot=j,Lu(j)):Ot=null}break e}}Jt=0,Mn=null,wa(e,n,h,5);break;case 6:Jt=0,Mn=null,wa(e,n,h,6);break;case 8:Vh(),ve=6;break t;default:throw Error(a(462))}}MT();break}catch(X){ey(e,X)}while(!0);return er=Cs=null,Y.H=l,Y.A=f,$t=s,Ot!==null?0:(ae=null,Bt=0,iu(),ve)}function MT(){for(;Ot!==null&&!Pn();)ry(Ot)}function ry(e){var n=Ip(e.alternate,e,ur);e.memoizedProps=e.pendingProps,n===null?Lu(e):Ot=n}function sy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Rp(s,n,n.pendingProps,n.type,void 0,Bt);break;case 11:n=Rp(s,n,n.pendingProps,n.type.render,n.ref,Bt);break;case 5:Xf(n);default:Op(s,n),n=Ot=ag(n,ur),n=Ip(s,n,ur)}e.memoizedProps=e.pendingProps,n===null?Lu(e):Ot=n}function wa(e,n,s,l){er=Cs=null,Xf(n),ya=null,Vl=0;var f=n.return;try{if(AT(e,f,n,s,Bt)){ve=1,Du(e,Qn(s,e.current)),Ot=null;return}}catch(h){if(f!==null)throw Ot=f,h;ve=1,Du(e,Qn(s,e.current)),Ot=null;return}n.flags&32768?(Qt||l===1?e=!0:Ta||(Bt&536870912)!==0?e=!1:(Vr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ay(n,e)):Lu(n)}function Lu(e){var n=e;do{if((n.flags&32768)!==0){ay(n,Vr);return}e=n.return;var s=RT(n.alternate,n,ur);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);ve===0&&(ve=5)}function ay(e,n){do{var s=wT(e.alternate,e);if(s!==null){s.flags&=32767,Ot=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=s}while(e!==null);ve=6,Ot=null}function ly(e,n,s,l,f,h,_,T,x){e.cancelPendingCommit=null;do zu();while(tn!==0);if(($t&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Sf,Ie(e,s,h,_,T,x),e===ae&&(Ot=ae=null,Bt=0),Aa=n,Ur=e,Sa=s,xh=h,Nh=f,$p=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,PT(kn,function(){return hy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=ot.p,ot.p=2,_=$t,$t|=4;try{DT(e,n,s)}finally{$t=_,ot.p=f,Y.T=l}}tn=1,oy(),uy(),cy()}}function oy(){if(tn===1){tn=0;var e=Ur,n=Aa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var l=ot.p;ot.p=2;var f=$t;$t|=4;try{Gp(n,e);var h=Fh,_=Zm(e.containerInfo),T=h.focusedElem,x=h.selectionRange;if(_!==T&&T&&T.ownerDocument&&Xm(T.ownerDocument.documentElement,T)){if(x!==null&&_f(T)){var j=x.start,X=x.end;if(X===void 0&&(X=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(X,T.value.length);else{var et=T.ownerDocument||document,G=et&&et.defaultView||window;if(G.getSelection){var Q=G.getSelection(),bt=T.textContent.length,Et=Math.min(x.start,bt),ie=x.end===void 0?Et:Math.min(x.end,bt);!Q.extend&&Et>ie&&(_=ie,ie=Et,Et=_);var L=Ym(T,Et),M=Ym(T,ie);if(L&&M&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var B=et.createRange();B.setStart(L.node,L.offset),Q.removeAllRanges(),Et>ie?(Q.addRange(B),Q.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),Q.addRange(B))}}}}for(et=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&et.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<et.length;T++){var Z=et[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Xu=!!Qh,Fh=Qh=null}finally{$t=f,ot.p=l,Y.T=s}}e.current=n,tn=2}}function uy(){if(tn===2){tn=0;var e=Ur,n=Aa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var l=ot.p;ot.p=2;var f=$t;$t|=4;try{Bp(e,n.alternate,n)}finally{$t=f,ot.p=l,Y.T=s}}tn=3}}function cy(){if(tn===4||tn===3){tn=0,Wn();var e=Ur,n=Aa,s=Sa,l=$p;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tn=5:(tn=0,Aa=Ur=null,fy(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Mr=null),we(s),n=n.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,f=ot.p,ot.p=2,Y.T=null;try{for(var h=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];h(T.value,{componentStack:T.stack})}}finally{Y.T=n,ot.p=f}}(Sa&3)!==0&&zu(),Di(e),f=e.pendingLanes,(s&4194090)!==0&&(f&42)!==0?e===Ih?jl++:(jl=0,Ih=e):jl=0,ql(0)}}function fy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Tl(n)))}function zu(e){return oy(),uy(),cy(),hy()}function hy(){if(tn!==5)return!1;var e=Ur,n=xh;xh=0;var s=we(Sa),l=Y.T,f=ot.p;try{ot.p=32>s?32:s,Y.T=null,s=Nh,Nh=null;var h=Ur,_=Sa;if(tn=0,Aa=Ur=null,Sa=0,($t&6)!==0)throw Error(a(331));var T=$t;if($t|=4,Xp(h.current),Fp(h,h.current,_,s),$t=T,ql(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(le,h)}catch{}return!0}finally{ot.p=f,Y.T=l,fy(e,n)}}function dy(e,n,s){n=Qn(s,n),n=uh(e.stateNode,n,2),e=Rr(e,n,2),e!==null&&(se(e,2),Di(e))}function re(e,n,s){if(e.tag===3)dy(e,e,s);else for(;n!==null;){if(n.tag===3){dy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mr===null||!Mr.has(l))){e=Qn(s,e),s=yp(2),l=Rr(n,s,2),l!==null&&(vp(s,l,n,e),se(l,2),Di(l));break}}n=n.return}}function Uh(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new NT;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(s)||(Rh=!0,f.add(s),e=UT.bind(null,e,n,s),n.then(e,e))}function UT(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ae===e&&(Bt&s)===s&&(ve===4||ve===3&&(Bt&62914560)===Bt&&300>dn()-Ch?($t&2)===0&&Ra(e,0):wh|=s,ba===Bt&&(ba=0)),Di(e)}function my(e,n){n===0&&(n=ls()),e=la(e,n),e!==null&&(se(e,n),Di(e))}function LT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),my(e,s)}function zT(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),my(e,s)}function PT(e,n){return bn(e,n)}var Pu=null,Da=null,Lh=!1,ku=!1,zh=!1,Us=0;function Di(e){e!==Da&&e.next===null&&(Da===null?Pu=Da=e:Da=Da.next=e),ku=!0,Lh||(Lh=!0,BT())}function ql(e,n){if(!zh&&ku){zh=!0;do for(var s=!1,l=Pu;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var h=0;else{var _=l.suspendedLanes,T=l.pingedLanes;h=(1<<31-ge(42|e)+1)-1,h&=f&~(_&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,vy(l,h))}else h=Bt,h=ki(l,l===ae?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Bi(l,h)||(s=!0,vy(l,h));l=l.next}while(s);zh=!1}}function kT(){gy()}function gy(){ku=Lh=!1;var e=0;Us!==0&&(YT()&&(e=Us),Us=0);for(var n=dn(),s=null,l=Pu;l!==null;){var f=l.next,h=py(l,n);h===0?(l.next=null,s===null?Pu=f:s.next=f,f===null&&(Da=s)):(s=l,(e!==0||(h&3)!==0)&&(ku=!0)),l=f}ql(e)}function py(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var _=31-ge(h),T=1<<_,x=f[_];x===-1?((T&s)===0||(T&l)!==0)&&(f[_]=yr(T,n)):x<=n&&(e.expiredLanes|=T),h&=~T}if(n=ae,s=Bt,s=ki(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Xe(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Bi(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Xe(l),we(s)){case 2:case 8:s=mn;break;case 32:s=kn;break;case 268435456:s=Li;break;default:s=kn}return l=yy.bind(null,e),s=bn(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Xe(l),e.callbackPriority=2,e.callbackNode=null,2}function yy(e,n){if(tn!==0&&tn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(zu()&&e.callbackNode!==s)return null;var l=Bt;return l=ki(e,e===ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Wp(e,l,n),py(e,dn()),e.callbackNode!=null&&e.callbackNode===s?yy.bind(null,e):null)}function vy(e,n){if(zu())return null;Wp(e,n,!0)}function BT(){ZT(function(){($t&6)!==0?bn(Ui,kT):gy()})}function Ph(){return Us===0&&(Us=as()),Us}function _y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xs(""+e)}function Ey(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function jT(e,n,s,l,f){if(n==="submit"&&s&&s.stateNode===f){var h=_y((f[Gt]||null).action),_=l.submitter;_&&(n=(n=_[Gt]||null)?_y(n.formAction):_.getAttribute("formAction"),n!==null&&(h=n,_=null));var T=new Zs("action","action",null,l,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var x=_?Ey(f,_):new FormData(f);rh(s,{pending:!0,data:x,method:f.method,action:h},null,x)}}else typeof h=="function"&&(T.preventDefault(),x=_?Ey(f,_):new FormData(f),rh(s,{pending:!0,data:x,method:f.method,action:h},h,x))},currentTarget:f}]})}}for(var kh=0;kh<Af.length;kh++){var Bh=Af[kh],qT=Bh.toLowerCase(),HT=Bh[0].toUpperCase()+Bh.slice(1);ai(qT,"on"+HT)}ai(Wm,"onAnimationEnd"),ai(tg,"onAnimationIteration"),ai(eg,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(aT,"onTransitionRun"),ai(lT,"onTransitionStart"),ai(oT,"onTransitionCancel"),ai(ng,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function Ty(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],f=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],x=T.instance,j=T.currentTarget;if(T=T.listener,x!==h&&f.isPropagationStopped())break t;h=T,f.currentTarget=j;try{h(f)}catch(X){wu(X)}f.currentTarget=null,h=x}else for(_=0;_<l.length;_++){if(T=l[_],x=T.instance,j=T.currentTarget,T=T.listener,x!==h&&f.isPropagationStopped())break t;h=T,f.currentTarget=j;try{h(f)}catch(X){wu(X)}f.currentTarget=null,h=x}}}}function Mt(e,n){var s=n[ni];s===void 0&&(s=n[ni]=new Set);var l=e+"__bubble";s.has(l)||(by(n,e,2,!1),s.add(l))}function jh(e,n,s){var l=0;n&&(l|=4),by(s,e,l,n)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function qh(e){if(!e[Bu]){e[Bu]=!0,el.forEach(function(s){s!=="selectionchange"&&(GT.has(s)||jh(s,!1,e),jh(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Bu]||(n[Bu]=!0,jh("selectionchange",!1,n))}}function by(e,n,s,l){switch(Fy(n)){case 2:var f=yb;break;case 8:f=vb;break;default:f=nd}s=f.bind(null,n,s,e),f=void 0,!Hn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,s,{capture:!0,passive:f}):e.addEventListener(n,s,!0):f!==void 0?e.addEventListener(n,s,{passive:f}):e.addEventListener(n,s,!1)}function Hh(e,n,s,l,f){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=qi(T),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=h=_;continue t}T=T.parentNode}}l=l.return}qo(function(){var j=h,X=qn(s),et=[];t:{var G=ig.get(e);if(G!==void 0){var Q=Zs,bt=e;switch(e){case"keypress":if(vi(s)===0)break t;case"keydown":case"keyup":Q=na;break;case"focusin":bt="focus",Q=Ws;break;case"focusout":bt="blur",Q=Ws;break;case"beforeblur":case"afterblur":Q=Ws;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Zo;break;case Wm:case tg:case eg:Q=ta;break;case ng:Q=Jo;break;case"scroll":case"scrollend":Q=Ho;break;case"wheel":Q=ia;break;case"copy":case"cut":case"paste":Q=ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=dl;break;case"toggle":case"beforetoggle":Q=tu}var Et=(n&4)!==0,ie=!Et&&(e==="scroll"||e==="scrollend"),L=Et?G!==null?G+"Capture":null:G;Et=[];for(var M=j,B;M!==null;){var Z=M;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=ms(M,L),Z!=null&&Et.push(Gl(M,Z,B))),ie)break;M=M.return}0<Et.length&&(G=new Q(G,bt,null,s,X),et.push({event:G,listeners:Et}))}}if((n&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",G&&s!==Fi&&(bt=s.relatedTarget||s.fromElement)&&(qi(bt)||bt[pe]))break t;if((Q||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(bt=s.relatedTarget||s.toElement,Q=j,bt=bt?qi(bt):null,bt!==null&&(ie=c(bt),Et=bt.tag,bt!==ie||Et!==5&&Et!==27&&Et!==6)&&(bt=null)):(Q=null,bt=j),Q!==bt)){if(Et=Gn,Z="onMouseLeave",L="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Et=dl,Z="onPointerLeave",L="onPointerEnter",M="pointer"),ie=Q==null?G:mi(Q),B=bt==null?G:mi(bt),G=new Et(Z,M+"leave",Q,s,X),G.target=ie,G.relatedTarget=B,Z=null,qi(X)===j&&(Et=new Et(L,M+"enter",bt,s,X),Et.target=B,Et.relatedTarget=ie,Z=Et),ie=Z,Q&&bt)e:{for(Et=Q,L=bt,M=0,B=Et;B;B=Ca(B))M++;for(B=0,Z=L;Z;Z=Ca(Z))B++;for(;0<M-B;)Et=Ca(Et),M--;for(;0<B-M;)L=Ca(L),B--;for(;M--;){if(Et===L||L!==null&&Et===L.alternate)break e;Et=Ca(Et),L=Ca(L)}Et=null}else Et=null;Q!==null&&Ay(et,G,Q,Et,!1),bt!==null&&ie!==null&&Ay(et,ie,bt,Et,!0)}}t:{if(G=j?mi(j):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var dt=qm;else if(Me(G))if(Hm)dt=iT;else{dt=eT;var It=tT}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?j&&al(j.elementType)&&(dt=qm):dt=nT;if(dt&&(dt=dt(e,j))){$i(et,dt,s,X);break t}It&&It(e,G,j),e==="focusout"&&j&&G.type==="number"&&j.memoizedProps.value!=null&&Er(G,"number",G.value)}switch(It=j?mi(j):window,e){case"focusin":(Me(It)||It.contentEditable==="true")&&(ra=It,Ef=j,pl=null);break;case"focusout":pl=Ef=ra=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,$m(et,s,X);break;case"selectionchange":if(sT)break;case"keydown":case"keyup":$m(et,s,X)}var yt;if(Ti)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Pt?F(e,s)&&(Tt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Tt="onCompositionStart");Tt&&(v&&s.locale!=="ko"&&(Pt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Pt&&(yt=ol()):(yi=X,Tr="value"in yi?yi.value:yi.textContent,Pt=!0)),It=ju(j,Tt),0<It.length&&(Tt=new fl(Tt,e,null,s,X),et.push({event:Tt,listeners:It}),yt?Tt.data=yt:(yt=ft(s),yt!==null&&(Tt.data=yt)))),(yt=g?Oe(e,s):kt(e,s))&&(Tt=ju(j,"onBeforeInput"),0<Tt.length&&(It=new fl("onBeforeInput","beforeinput",null,s,X),et.push({event:It,listeners:Tt}),It.data=yt)),jT(et,e,j,s,X)}Ty(et,n)})}function Gl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ju(e,n){for(var s=n+"Capture",l=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=ms(e,s),f!=null&&l.unshift(Gl(e,f,h)),f=ms(e,n),f!=null&&l.push(Gl(e,f,h))),e.tag===3)return l;e=e.return}return[]}function Ca(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ay(e,n,s,l,f){for(var h=n._reactName,_=[];s!==null&&s!==l;){var T=s,x=T.alternate,j=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||j===null||(x=j,f?(j=ms(s,h),j!=null&&_.unshift(Gl(s,j,x))):f||(j=ms(s,h),j!=null&&_.push(Gl(s,j,x)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var QT=/\r\n?/g,FT=/\u0000|\uFFFD/g;function Sy(e){return(typeof e=="string"?e:""+e).replace(QT,`
`).replace(FT,"")}function Ry(e,n){return n=Sy(n),Sy(e)===n}function qu(){}function ne(e,n,s,l,f,h){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||jn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&jn(e,""+l);break;case"className":gi(e,"class",l);break;case"tabIndex":gi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(e,s,l);break;case"style":sl(e,l,h);break;case"data":if(n!=="object"){gi(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Xs(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",f.name,f,null),ne(e,n,"formEncType",f.formEncType,f,null),ne(e,n,"formMethod",f.formMethod,f,null),ne(e,n,"formTarget",f.formTarget,f,null)):(ne(e,n,"encType",f.encType,f,null),ne(e,n,"method",f.method,f,null),ne(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Xs(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=qu);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Xs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),_r(e,"popover",l);break;case"xlinkActuate":$e(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$e(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$e(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$e(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$e(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$e(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$e(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_r(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=df.get(s)||s,_r(e,s,l))}}function Gh(e,n,s,l,f,h){switch(s){case"style":sl(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?jn(e,l):(typeof l=="number"||typeof l=="bigint")&&jn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),h=e[Gt]||null,h=h!=null?h[s]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof l=="function")){typeof h!="function"&&h!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,f);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):_r(e,s,l)}}}function en(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,f=!1,h;for(h in s)if(s.hasOwnProperty(h)){var _=s[h];if(_!=null)switch(h){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,h,_,s,null)}}f&&ne(e,n,"srcSet",s.srcSet,s,null),l&&ne(e,n,"src",s.src,s,null);return;case"input":Mt("invalid",e);var T=h=_=f=null,x=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var X=s[l];if(X!=null)switch(l){case"name":f=X;break;case"type":_=X;break;case"checked":x=X;break;case"defaultChecked":j=X;break;case"value":h=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,n));break;default:ne(e,n,l,X,s,null)}}fs(e,h,T,x,j,_,f,!1),Ys(e);return;case"select":Mt("invalid",e),l=_=h=null;for(f in s)if(s.hasOwnProperty(f)&&(T=s[f],T!=null))switch(f){case"value":h=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:ne(e,n,f,T,s,null)}n=h,s=_,e.multiple=!!l,n!=null?Qi(e,!!l,n,!1):s!=null&&Qi(e,!!l,s,!0);return;case"textarea":Mt("invalid",e),h=f=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":f=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ne(e,n,_,T,s,null)}hs(e,l,f,h),Ys(e);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(l=s[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ne(e,n,x,l,s,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Mt(Hl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,j,l,s,null)}return;default:if(al(n)){for(X in s)s.hasOwnProperty(X)&&(l=s[X],l!==void 0&&Gh(e,n,X,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&ne(e,n,T,l,s,null))}function KT(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,_=null,T=null,x=null,j=null,X=null;for(Q in s){var et=s[Q];if(s.hasOwnProperty(Q)&&et!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":x=et;default:l.hasOwnProperty(Q)||ne(e,n,Q,null,l,et)}}for(var G in l){var Q=l[G];if(et=s[G],l.hasOwnProperty(G)&&(Q!=null||et!=null))switch(G){case"type":h=Q;break;case"name":f=Q;break;case"checked":j=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Q!==et&&ne(e,n,G,Q,l,et)}}xn(e,_,T,x,j,X,h,f);return;case"select":Q=_=T=G=null;for(h in s)if(x=s[h],s.hasOwnProperty(h)&&x!=null)switch(h){case"value":break;case"multiple":Q=x;default:l.hasOwnProperty(h)||ne(e,n,h,null,l,x)}for(f in l)if(h=l[f],x=s[f],l.hasOwnProperty(f)&&(h!=null||x!=null))switch(f){case"value":G=h;break;case"defaultValue":T=h;break;case"multiple":_=h;default:h!==x&&ne(e,n,f,h,l,x)}n=T,s=_,l=Q,G!=null?Qi(e,!!s,G,!1):!!l!=!!s&&(n!=null?Qi(e,!!s,n,!0):Qi(e,!!s,s?[]:"",!1));return;case"textarea":Q=G=null;for(T in s)if(f=s[T],s.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ne(e,n,T,null,l,f)}for(_ in l)if(f=l[_],h=s[_],l.hasOwnProperty(_)&&(f!=null||h!=null))switch(_){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==h&&ne(e,n,_,f,l,h)}te(e,G,Q);return;case"option":for(var bt in s)if(G=s[bt],s.hasOwnProperty(bt)&&G!=null&&!l.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:ne(e,n,bt,null,l,G)}for(x in l)if(G=l[x],Q=s[x],l.hasOwnProperty(x)&&G!==Q&&(G!=null||Q!=null))switch(x){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ne(e,n,x,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)G=s[Et],s.hasOwnProperty(Et)&&G!=null&&!l.hasOwnProperty(Et)&&ne(e,n,Et,null,l,G);for(j in l)if(G=l[j],Q=s[j],l.hasOwnProperty(j)&&G!==Q&&(G!=null||Q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ne(e,n,j,G,l,Q)}return;default:if(al(n)){for(var ie in s)G=s[ie],s.hasOwnProperty(ie)&&G!==void 0&&!l.hasOwnProperty(ie)&&Gh(e,n,ie,void 0,l,G);for(X in l)G=l[X],Q=s[X],!l.hasOwnProperty(X)||G===Q||G===void 0&&Q===void 0||Gh(e,n,X,G,l,Q);return}}for(var L in s)G=s[L],s.hasOwnProperty(L)&&G!=null&&!l.hasOwnProperty(L)&&ne(e,n,L,null,l,G);for(et in l)G=l[et],Q=s[et],!l.hasOwnProperty(et)||G===Q||G==null&&Q==null||ne(e,n,et,G,l,Q)}var Qh=null,Fh=null;function Hu(e){return e.nodeType===9?e:e.ownerDocument}function wy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Kh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yh=null;function YT(){var e=window.event;return e&&e.type==="popstate"?e===Yh?!1:(Yh=e,!0):(Yh=null,!1)}var Cy=typeof setTimeout=="function"?setTimeout:void 0,XT=typeof clearTimeout=="function"?clearTimeout:void 0,xy=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof xy<"u"?function(e){return xy.resolve(null).then(e).catch($T)}:Cy;function $T(e){setTimeout(function(){throw e})}function zr(e){return e==="head"}function Ny(e,n){var s=n,l=0,f=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(0<l&&8>l){s=l;var _=e.ownerDocument;if(s&1&&Ql(_.documentElement),s&2&&Ql(_.body),s&4)for(s=_.head,Ql(s),_=s.firstChild;_;){var T=_.nextSibling,x=_.nodeName;_[ii]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(f===0){e.removeChild(h),Wl(n);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=h}while(s);Wl(n)}function Xh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Xh(s),vr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function JT(e,n,s,l){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=oi(e.nextSibling),e===null)break}return null}function WT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=oi(e.nextSibling),e===null))return null;return e}function Zh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function tb(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function oi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var $h=null;function Iy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function Vy(e,n,s){switch(n=Hu(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ql(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);vr(e)}var $n=new Map,Oy=new Set;function Gu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var cr=ot.d;ot.d={f:eb,r:nb,D:ib,C:rb,L:sb,m:ab,X:ob,S:lb,M:ub};function eb(){var e=cr.f(),n=Uu();return e||n}function nb(e){var n=di(e);n!==null&&n.tag===5&&n.type==="form"?Wg(n):cr.r(e)}var xa=typeof document>"u"?null:document;function My(e,n,s){var l=xa;if(l&&typeof n=="string"&&n){var f=De(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Oy.has(f)||(Oy.add(f),e={rel:e,crossOrigin:s,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),en(n,"link",e),Ee(n),l.head.appendChild(n)))}}function ib(e){cr.D(e),My("dns-prefetch",e,null)}function rb(e,n){cr.C(e,n),My("preconnect",e,n)}function sb(e,n,s){cr.L(e,n,s);var l=xa;if(l&&e&&n){var f='link[rel="preload"][as="'+De(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+De(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+De(s.imageSizes)+'"]')):f+='[href="'+De(e)+'"]';var h=f;switch(n){case"style":h=Na(e);break;case"script":h=Ia(e)}$n.has(h)||(e=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),$n.set(h,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(Fl(h))||n==="script"&&l.querySelector(Kl(h))||(n=l.createElement("link"),en(n,"link",e),Ee(n),l.head.appendChild(n)))}}function ab(e,n){cr.m(e,n);var s=xa;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+De(l)+'"][href="'+De(e)+'"]',h=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ia(e)}if(!$n.has(h)&&(e=E({rel:"modulepreload",href:e},n),$n.set(h,e),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Kl(h)))return}l=s.createElement("link"),en(l,"link",e),Ee(l),s.head.appendChild(l)}}}function lb(e,n,s){cr.S(e,n,s);var l=xa;if(l&&e){var f=pn(l).hoistableStyles,h=Na(e);n=n||"default";var _=f.get(h);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Fl(h)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},s),(s=$n.get(h))&&Jh(e,s);var x=_=l.createElement("link");Ee(x),en(x,"link",e),x._p=new Promise(function(j,X){x.onload=j,x.onerror=X}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Qu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(h,_)}}}function ob(e,n){cr.X(e,n);var s=xa;if(s&&e){var l=pn(s).hoistableScripts,f=Ia(e),h=l.get(f);h||(h=s.querySelector(Kl(f)),h||(e=E({src:e,async:!0},n),(n=$n.get(f))&&Wh(e,n),h=s.createElement("script"),Ee(h),en(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function ub(e,n){cr.M(e,n);var s=xa;if(s&&e){var l=pn(s).hoistableScripts,f=Ia(e),h=l.get(f);h||(h=s.querySelector(Kl(f)),h||(e=E({src:e,async:!0,type:"module"},n),(n=$n.get(f))&&Wh(e,n),h=s.createElement("script"),Ee(h),en(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function Uy(e,n,s,l){var f=(f=gt.current)?Gu(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Na(s.href),s=pn(f).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Na(s.href);var h=pn(f).hoistableStyles,_=h.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,_),(h=f.querySelector(Fl(e)))&&!h._p&&(_.instance=h,_.state.loading=5),$n.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},$n.set(e,s),h||cb(f,e,s,_.state))),n&&l===null)throw Error(a(528,""));return _}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ia(s),s=pn(f).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Na(e){return'href="'+De(e)+'"'}function Fl(e){return'link[rel="stylesheet"]['+e+"]"}function Ly(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function cb(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),en(n,"link",s),Ee(n),e.head.appendChild(n))}function Ia(e){return'[src="'+De(e)+'"]'}function Kl(e){return"script[async]"+e}function zy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+De(s.href)+'"]');if(l)return n.instance=l,Ee(l),l;var f=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),en(l,"style",f),Qu(l,s.precedence,e),n.instance=l;case"stylesheet":f=Na(s.href);var h=e.querySelector(Fl(f));if(h)return n.state.loading|=4,n.instance=h,Ee(h),h;l=Ly(s),(f=$n.get(f))&&Jh(l,f),h=(e.ownerDocument||e).createElement("link"),Ee(h);var _=h;return _._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),en(h,"link",l),n.state.loading|=4,Qu(h,s.precedence,e),n.instance=h;case"script":return h=Ia(s.src),(f=e.querySelector(Kl(h)))?(n.instance=f,Ee(f),f):(l=s,(f=$n.get(h))&&(l=E({},s),Wh(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ee(f),en(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Qu(l,s.precedence,e));return n.instance}function Qu(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,h=f,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)h=T;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Jh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Wh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Fu=null;function Py(e,n,s){if(Fu===null){var l=new Map,f=Fu=new Map;f.set(s,l)}else f=Fu,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var h=s[f];if(!(h[ii]||h[Wt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(n)||"";_=e+_;var T=l.get(_);T?T.push(h):l.set(_,[h])}}return l}function ky(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function fb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function By(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Yl=null;function hb(){}function db(e,n,s){if(Yl===null)throw Error(a(475));var l=Yl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Na(s.href),h=e.querySelector(Fl(f));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Ku.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=h,Ee(h);return}h=e.ownerDocument||e,s=Ly(s),(f=$n.get(f))&&Jh(s,f),h=h.createElement("link"),Ee(h);var _=h;_._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),en(h,"link",s),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ku.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function mb(){if(Yl===null)throw Error(a(475));var e=Yl;return e.stylesheets&&e.count===0&&td(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&td(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Ku(){if(this.count--,this.count===0){if(this.stylesheets)td(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yu=null;function td(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yu=new Map,n.forEach(gb,e),Yu=null,Ku.call(e))}function gb(e,n){if(!(n.state.loading&4)){var s=Yu.get(e);if(s)var l=s.get(null);else{s=new Map,Yu.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var _=f[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}f=n.instance,_=f.getAttribute("data-precedence"),h=s.get(_)||l,h===l&&s.set(null,f),s.set(_,f),this.count++,l=Ku.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Xl={$$typeof:H,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function pb(e,n,s,l,f,h,_,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function jy(e,n,s,l,f,h,_,T,x,j,X,et){return e=new pb(e,n,s,_,T,x,j,et),n=1,h===!0&&(n|=24),h=In(3,null,null,n),e.current=h,h.stateNode=e,n=Uf(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:s,cache:n},kf(h),e}function qy(e){return e?(e=oa,e):oa}function Hy(e,n,s,l,f,h){f=qy(f),l.context===null?l.context=f:l.pendingContext=f,l=Sr(n),l.payload={element:s},h=h===void 0?null:h,h!==null&&(l.callback=h),s=Rr(e,l,n),s!==null&&(Ln(s,e,n),Rl(s,e,n))}function Gy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function ed(e,n){Gy(e,n),(e=e.alternate)&&Gy(e,n)}function Qy(e){if(e.tag===13){var n=la(e,67108864);n!==null&&Ln(n,e,67108864),ed(e,67108864)}}var Xu=!0;function yb(e,n,s,l){var f=Y.T;Y.T=null;var h=ot.p;try{ot.p=2,nd(e,n,s,l)}finally{ot.p=h,Y.T=f}}function vb(e,n,s,l){var f=Y.T;Y.T=null;var h=ot.p;try{ot.p=8,nd(e,n,s,l)}finally{ot.p=h,Y.T=f}}function nd(e,n,s,l){if(Xu){var f=id(l);if(f===null)Hh(e,n,l,Zu,s),Ky(e,l);else if(Eb(f,e,n,s,l))l.stopPropagation();else if(Ky(e,l),n&4&&-1<_b.indexOf(e)){for(;f!==null;){var h=di(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=gn(h.pendingLanes);if(_!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var x=1<<31-ge(_);T.entanglements[1]|=x,_&=~x}Di(h),($t&6)===0&&(Ou=dn()+500,ql(0))}}break;case 13:T=la(h,2),T!==null&&Ln(T,h,2),Uu(),ed(h,2)}if(h=id(l),h===null&&Hh(e,n,l,Zu,s),h===f)break;f=h}f!==null&&l.stopPropagation()}else Hh(e,n,l,null,s)}}function id(e){return e=qn(e),rd(e)}var Zu=null;function rd(e){if(Zu=null,e=qi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Zu=e,null}function Fy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qs()){case Ui:return 2;case mn:return 8;case kn:case gr:return 32;case Li:return 268435456;default:return 32}default:return 32}}var sd=!1,Pr=null,kr=null,Br=null,Zl=new Map,$l=new Map,jr=[],_b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ky(e,n){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(n.pointerId)}}function Jl(e,n,s,l,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[f]},n!==null&&(n=di(n),n!==null&&Qy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Eb(e,n,s,l,f){switch(n){case"focusin":return Pr=Jl(Pr,e,n,s,l,f),!0;case"dragenter":return kr=Jl(kr,e,n,s,l,f),!0;case"mouseover":return Br=Jl(Br,e,n,s,l,f),!0;case"pointerover":var h=f.pointerId;return Zl.set(h,Jl(Zl.get(h)||null,e,n,s,l,f)),!0;case"gotpointercapture":return h=f.pointerId,$l.set(h,Jl($l.get(h)||null,e,n,s,l,f)),!0}return!1}function Yy(e){var n=qi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ei(e.priority,function(){if(s.tag===13){var l=Un();l=_e(l);var f=la(s,l);f!==null&&Ln(f,s,l),ed(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $u(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=id(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Fi=l,s.target.dispatchEvent(l),Fi=null}else return n=di(s),n!==null&&Qy(n),e.blockedOn=s,!1;n.shift()}return!0}function Xy(e,n,s){$u(e)&&s.delete(n)}function Tb(){sd=!1,Pr!==null&&$u(Pr)&&(Pr=null),kr!==null&&$u(kr)&&(kr=null),Br!==null&&$u(Br)&&(Br=null),Zl.forEach(Xy),$l.forEach(Xy)}function Ju(e,n){e.blockedOn===n&&(e.blockedOn=null,sd||(sd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tb)))}var Wu=null;function Zy(e){Wu!==e&&(Wu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wu===e&&(Wu=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(rd(l||s)===null)continue;break}var h=di(s);h!==null&&(e.splice(n,3),n-=3,rh(h,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Wl(e){function n(x){return Ju(x,e)}Pr!==null&&Ju(Pr,e),kr!==null&&Ju(kr,e),Br!==null&&Ju(Br,e),Zl.forEach(n),$l.forEach(n);for(var s=0;s<jr.length;s++){var l=jr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<jr.length&&(s=jr[0],s.blockedOn===null);)Yy(s),s.blockedOn===null&&jr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],h=s[l+1],_=f[Gt]||null;if(typeof h=="function")_||Zy(s);else if(_){var T=null;if(h&&h.hasAttribute("formAction")){if(f=h,_=h[Gt]||null)T=_.formAction;else if(rd(f)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Zy(s)}}}function ad(e){this._internalRoot=e}tc.prototype.render=ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Un();Hy(s,l,e,n,null,null)},tc.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hy(e.current,2,null,e,null,null),Uu(),n[pe]=null}};function tc(e){this._internalRoot=e}tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ve();e={blockedOn:null,target:e,priority:n};for(var s=0;s<jr.length&&n!==0&&n<jr[s].priority;s++);jr.splice(s,0,e),s===0&&Yy(e)}};var $y=t.version;if($y!=="19.1.0")throw Error(a(527,$y,"19.1.0"));ot.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var bb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{le=ec.inject(bb),Ut=ec}catch{}}return eo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",f=dp,h=mp,_=gp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=jy(e,1,!1,null,null,s,l,f,h,_,T,null),e[pe]=n.current,qh(e),new ad(n)},eo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,f="",h=dp,_=mp,T=gp,x=null,j=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks),s.formState!==void 0&&(j=s.formState)),n=jy(e,1,!0,n,s??null,l,f,h,_,T,x,j),n.context=qy(null),s=n.current,l=Un(),l=_e(l),f=Sr(l),f.callback=null,Rr(s,f,l),s=l,n.current.lanes=s,se(n,s),Di(n),e[pe]=n.current,qh(e),new tc(n)},eo.version="19.1.0",eo}var lv;function Ib(){if(lv)return ud.exports;lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ud.exports=Nb(),ud.exports}var Vb=Ib();const Ob=V_(Vb),Mb=()=>{};var ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ub=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],m=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},U_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,m=d?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=c>>2,S=(c&3)<<4|m>>4;let D=(m&15)<<2|y>>6,O=y&63;p||(O=64,d||(D=64)),a.push(i[E],i[S],i[D],i[O])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(M_(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Ub(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||S==null)throw new Lb;const D=c<<2|m>>4;if(a.push(D),y!==64){const O=m<<4&240|y>>2;if(a.push(O),S!==64){const K=y<<6&192|S;a.push(K)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zb=function(r){const t=M_(r);return U_.encodeByteArray(t,!0)},gc=function(r){return zb(r).replace(/\./g,"")},Pb=function(r){try{return U_.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=()=>kb().__FIREBASE_DEFAULTS__,jb=()=>{if(typeof process>"u"||typeof ov>"u")return;const r=ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Pb(r[1]);return t&&JSON.parse(t)},nm=()=>{try{return Mb()||Bb()||jb()||qb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Hb=r=>{var t,i;return(i=(t=nm())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},Gb=r=>{const t=Hb(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},L_=()=>{var r;return(r=nm())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[gc(JSON.stringify(i)),gc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yb(){var r;const t=(r=nm())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xb(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zb(){try{return typeof indexedDB=="object"}catch{return!1}}function $b(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="FirebaseError";class Ka extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Jb,Object.setPrototypeOf(this,Ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,z_.prototype.create)}}class z_{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?Wb(c,a):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Ka(o,m,a)}}function Wb(r,t){return r.replace(tA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const tA=/\{\$([^}]+)}/g;function pc(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(uv(c)&&uv(d)){if(!pc(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function uv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(r){return r&&r._delegate?r._delegate:r}class po{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Qb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iA(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&d.resolve(o)}return o}onInit(t,i){var a;const o=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&t(d,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:nA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nA(r){return r===Ls?void 0:r}function iA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new eA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qt||(qt={}));const sA={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},aA=qt.INFO,lA={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},oA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=lA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class P_{constructor(t){this.name=t,this._logLevel=aA,this._logHandler=oA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const uA=(r,t)=>t.some(i=>r instanceof i);let cv,fv;function cA(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fA(){return fv||(fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k_=new WeakMap,wd=new WeakMap,B_=new WeakMap,dd=new WeakMap,im=new WeakMap;function hA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Qr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&k_.set(i,r)}).catch(()=>{}),im.set(t,r),t}function dA(r){if(wd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});wd.set(r,t)}let Dd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return wd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||B_.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function mA(r){Dd=r(Dd)}function gA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(md(this),t,...i);return B_.set(a,t.sort?t.sort():[t]),Qr(a)}:fA().includes(r)?function(...t){return r.apply(md(this),t),Qr(k_.get(this))}:function(...t){return Qr(r.apply(md(this),t))}}function pA(r){return typeof r=="function"?gA(r):(r instanceof IDBTransaction&&dA(r),uA(r,cA())?new Proxy(r,Dd):r)}function Qr(r){if(r instanceof IDBRequest)return hA(r);if(dd.has(r))return dd.get(r);const t=pA(r);return t!==r&&(dd.set(r,t),im.set(t,r)),t}const md=r=>im.get(r);function yA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),m=Qr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Qr(d.result),p.oldVersion,p.newVersion,Qr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const vA=["get","getKey","getAll","getAllKeys","count"],_A=["put","add","delete","clear"],gd=new Map;function hv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(gd.get(t))return gd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=_A.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||vA.includes(i)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return gd.set(t,c),c}mA(r=>({...r,get:(t,i,a)=>hv(t,i)||r.get(t,i,a),has:(t,i)=>!!hv(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(TA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function TA(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Cd="@firebase/app",dv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new P_("@firebase/app"),bA="@firebase/app-compat",AA="@firebase/analytics-compat",SA="@firebase/analytics",RA="@firebase/app-check-compat",wA="@firebase/app-check",DA="@firebase/auth",CA="@firebase/auth-compat",xA="@firebase/database",NA="@firebase/data-connect",IA="@firebase/database-compat",VA="@firebase/functions",OA="@firebase/functions-compat",MA="@firebase/installations",UA="@firebase/installations-compat",LA="@firebase/messaging",zA="@firebase/messaging-compat",PA="@firebase/performance",kA="@firebase/performance-compat",BA="@firebase/remote-config",jA="@firebase/remote-config-compat",qA="@firebase/storage",HA="@firebase/storage-compat",GA="@firebase/firestore",QA="@firebase/vertexai",FA="@firebase/firestore-compat",KA="firebase",YA="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",XA={[Cd]:"fire-core",[bA]:"fire-core-compat",[SA]:"fire-analytics",[AA]:"fire-analytics-compat",[wA]:"fire-app-check",[RA]:"fire-app-check-compat",[DA]:"fire-auth",[CA]:"fire-auth-compat",[xA]:"fire-rtdb",[NA]:"fire-data-connect",[IA]:"fire-rtdb-compat",[VA]:"fire-fn",[OA]:"fire-fn-compat",[MA]:"fire-iid",[UA]:"fire-iid-compat",[LA]:"fire-fcm",[zA]:"fire-fcm-compat",[PA]:"fire-perf",[kA]:"fire-perf-compat",[BA]:"fire-rc",[jA]:"fire-rc-compat",[qA]:"fire-gcs",[HA]:"fire-gcs-compat",[GA]:"fire-fst",[FA]:"fire-fst-compat",[QA]:"fire-vertex","fire-js":"fire-js",[KA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new Map,ZA=new Map,Nd=new Map;function mv(r,t){try{r.container.addComponent(t)}catch(i){hr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function vc(r){const t=r.name;if(Nd.has(t))return hr.debug(`There were multiple attempts to register component ${t}.`),!1;Nd.set(t,r);for(const i of yc.values())mv(i,r);for(const i of ZA.values())mv(i,r);return!0}function $A(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function JA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new z_("app","Firebase",WA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=YA;function j_(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:xd,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(i||(i=L_()),!i)throw Fr.create("no-options");const c=yc.get(o);if(c){if(pc(i,c.options)&&pc(a,c.config))return c;throw Fr.create("duplicate-app",{appName:o})}const d=new rA(o);for(const p of Nd.values())d.addComponent(p);const m=new tS(i,a,d);return yc.set(o,m),m}function nS(r=xd){const t=yc.get(r);if(!t&&r===xd&&L_())return j_();if(!t)throw Fr.create("no-app",{appName:r});return t}function La(r,t,i){var a;let o=(a=XA[r])!==null&&a!==void 0?a:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${t}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hr.warn(m.join(" "));return}vc(new po(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firebase-heartbeat-database",rS=1,yo="firebase-heartbeat-store";let pd=null;function q_(){return pd||(pd=yA(iS,rS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(yo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fr.create("idb-open",{originalErrorMessage:r.message})})),pd}async function sS(r){try{const i=(await q_()).transaction(yo),a=await i.objectStore(yo).get(H_(r));return await i.done,a}catch(t){if(t instanceof Ka)hr.warn(t.message);else{const i=Fr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});hr.warn(i.message)}}}async function gv(r,t){try{const a=(await q_()).transaction(yo,"readwrite");await a.objectStore(yo).put(t,H_(r)),await a.done}catch(i){if(i instanceof Ka)hr.warn(i.message);else{const a=Fr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});hr.warn(a.message)}}}function H_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=1024,lS=30;class oS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new cS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=pv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>lS){const d=fS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){hr.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=pv(),{heartbeatsToSend:a,unsentEntries:o}=uS(this._heartbeatsCache.heartbeats),c=gc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return hr.warn(i),""}}}function pv(){return new Date().toISOString().substring(0,10)}function uS(r,t=aS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),yv(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),yv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class cS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zb()?$b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return gv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return gv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function yv(r){return gc(JSON.stringify({version:2,heartbeats:r})).length}function fS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(r){vc(new po("platform-logger",t=>new EA(t),"PRIVATE")),vc(new po("heartbeat",t=>new oS(t),"PRIVATE")),La(Cd,dv,r),La(Cd,dv,"esm2017"),La("fire-js","")}hS("");var dS="firebase",mS="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */La(dS,mS,"app");var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,G_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(R,A){function w(){}w.prototype=A.prototype,R.D=A.prototype,R.prototype=new w,R.prototype.constructor=R,R.C=function(I,N,U){for(var C=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)C[Kt-2]=arguments[Kt];return A.prototype[N].apply(I,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,w){w||(w=0);var I=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)I[N]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(N=0;16>N;++N)I[N]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=R.g[0],w=R.g[1],N=R.g[2];var U=R.g[3],C=A+(U^w&(N^U))+I[0]+3614090360&4294967295;A=w+(C<<7&4294967295|C>>>25),C=U+(N^A&(w^N))+I[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=N+(w^U&(A^w))+I[2]+606105819&4294967295,N=U+(C<<17&4294967295|C>>>15),C=w+(A^N&(U^A))+I[3]+3250441966&4294967295,w=N+(C<<22&4294967295|C>>>10),C=A+(U^w&(N^U))+I[4]+4118548399&4294967295,A=w+(C<<7&4294967295|C>>>25),C=U+(N^A&(w^N))+I[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=N+(w^U&(A^w))+I[6]+2821735955&4294967295,N=U+(C<<17&4294967295|C>>>15),C=w+(A^N&(U^A))+I[7]+4249261313&4294967295,w=N+(C<<22&4294967295|C>>>10),C=A+(U^w&(N^U))+I[8]+1770035416&4294967295,A=w+(C<<7&4294967295|C>>>25),C=U+(N^A&(w^N))+I[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=N+(w^U&(A^w))+I[10]+4294925233&4294967295,N=U+(C<<17&4294967295|C>>>15),C=w+(A^N&(U^A))+I[11]+2304563134&4294967295,w=N+(C<<22&4294967295|C>>>10),C=A+(U^w&(N^U))+I[12]+1804603682&4294967295,A=w+(C<<7&4294967295|C>>>25),C=U+(N^A&(w^N))+I[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=N+(w^U&(A^w))+I[14]+2792965006&4294967295,N=U+(C<<17&4294967295|C>>>15),C=w+(A^N&(U^A))+I[15]+1236535329&4294967295,w=N+(C<<22&4294967295|C>>>10),C=A+(N^U&(w^N))+I[1]+4129170786&4294967295,A=w+(C<<5&4294967295|C>>>27),C=U+(w^N&(A^w))+I[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=N+(A^w&(U^A))+I[11]+643717713&4294967295,N=U+(C<<14&4294967295|C>>>18),C=w+(U^A&(N^U))+I[0]+3921069994&4294967295,w=N+(C<<20&4294967295|C>>>12),C=A+(N^U&(w^N))+I[5]+3593408605&4294967295,A=w+(C<<5&4294967295|C>>>27),C=U+(w^N&(A^w))+I[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=N+(A^w&(U^A))+I[15]+3634488961&4294967295,N=U+(C<<14&4294967295|C>>>18),C=w+(U^A&(N^U))+I[4]+3889429448&4294967295,w=N+(C<<20&4294967295|C>>>12),C=A+(N^U&(w^N))+I[9]+568446438&4294967295,A=w+(C<<5&4294967295|C>>>27),C=U+(w^N&(A^w))+I[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=N+(A^w&(U^A))+I[3]+4107603335&4294967295,N=U+(C<<14&4294967295|C>>>18),C=w+(U^A&(N^U))+I[8]+1163531501&4294967295,w=N+(C<<20&4294967295|C>>>12),C=A+(N^U&(w^N))+I[13]+2850285829&4294967295,A=w+(C<<5&4294967295|C>>>27),C=U+(w^N&(A^w))+I[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=N+(A^w&(U^A))+I[7]+1735328473&4294967295,N=U+(C<<14&4294967295|C>>>18),C=w+(U^A&(N^U))+I[12]+2368359562&4294967295,w=N+(C<<20&4294967295|C>>>12),C=A+(w^N^U)+I[5]+4294588738&4294967295,A=w+(C<<4&4294967295|C>>>28),C=U+(A^w^N)+I[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=N+(U^A^w)+I[11]+1839030562&4294967295,N=U+(C<<16&4294967295|C>>>16),C=w+(N^U^A)+I[14]+4259657740&4294967295,w=N+(C<<23&4294967295|C>>>9),C=A+(w^N^U)+I[1]+2763975236&4294967295,A=w+(C<<4&4294967295|C>>>28),C=U+(A^w^N)+I[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=N+(U^A^w)+I[7]+4139469664&4294967295,N=U+(C<<16&4294967295|C>>>16),C=w+(N^U^A)+I[10]+3200236656&4294967295,w=N+(C<<23&4294967295|C>>>9),C=A+(w^N^U)+I[13]+681279174&4294967295,A=w+(C<<4&4294967295|C>>>28),C=U+(A^w^N)+I[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=N+(U^A^w)+I[3]+3572445317&4294967295,N=U+(C<<16&4294967295|C>>>16),C=w+(N^U^A)+I[6]+76029189&4294967295,w=N+(C<<23&4294967295|C>>>9),C=A+(w^N^U)+I[9]+3654602809&4294967295,A=w+(C<<4&4294967295|C>>>28),C=U+(A^w^N)+I[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=N+(U^A^w)+I[15]+530742520&4294967295,N=U+(C<<16&4294967295|C>>>16),C=w+(N^U^A)+I[2]+3299628645&4294967295,w=N+(C<<23&4294967295|C>>>9),C=A+(N^(w|~U))+I[0]+4096336452&4294967295,A=w+(C<<6&4294967295|C>>>26),C=U+(w^(A|~N))+I[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=N+(A^(U|~w))+I[14]+2878612391&4294967295,N=U+(C<<15&4294967295|C>>>17),C=w+(U^(N|~A))+I[5]+4237533241&4294967295,w=N+(C<<21&4294967295|C>>>11),C=A+(N^(w|~U))+I[12]+1700485571&4294967295,A=w+(C<<6&4294967295|C>>>26),C=U+(w^(A|~N))+I[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=N+(A^(U|~w))+I[10]+4293915773&4294967295,N=U+(C<<15&4294967295|C>>>17),C=w+(U^(N|~A))+I[1]+2240044497&4294967295,w=N+(C<<21&4294967295|C>>>11),C=A+(N^(w|~U))+I[8]+1873313359&4294967295,A=w+(C<<6&4294967295|C>>>26),C=U+(w^(A|~N))+I[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=N+(A^(U|~w))+I[6]+2734768916&4294967295,N=U+(C<<15&4294967295|C>>>17),C=w+(U^(N|~A))+I[13]+1309151649&4294967295,w=N+(C<<21&4294967295|C>>>11),C=A+(N^(w|~U))+I[4]+4149444226&4294967295,A=w+(C<<6&4294967295|C>>>26),C=U+(w^(A|~N))+I[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=N+(A^(U|~w))+I[2]+718787259&4294967295,N=U+(C<<15&4294967295|C>>>17),C=w+(U^(N|~A))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+U&4294967295}a.prototype.u=function(R,A){A===void 0&&(A=R.length);for(var w=A-this.blockSize,I=this.B,N=this.h,U=0;U<A;){if(N==0)for(;U<=w;)o(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<A;)if(I[N++]=R.charCodeAt(U++),N==this.blockSize){o(this,I),N=0;break}}else for(;U<A;)if(I[N++]=R[U++],N==this.blockSize){o(this,I),N=0;break}}this.h=N,this.o+=A},a.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;var w=8*this.o;for(A=R.length-8;A<R.length;++A)R[A]=w&255,w/=256;for(this.u(R),R=Array(16),A=w=0;4>A;++A)for(var I=0;32>I;I+=8)R[w++]=this.g[A]>>>I&255;return R};function c(R,A){var w=m;return Object.prototype.hasOwnProperty.call(w,R)?w[R]:w[R]=A(R)}function d(R,A){this.h=A;for(var w=[],I=!0,N=R.length-1;0<=N;N--){var U=R[N]|0;I&&U==A||(w[N]=U,I=!1)}this.g=w}var m={};function p(R){return-128<=R&&128>R?c(R,function(A){return new d([A|0],0>A?-1:0)}):new d([R|0],0>R?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return S;if(0>R)return k(y(-R));for(var A=[],w=1,I=0;R>=w;I++)A[I]=R/w|0,w*=4294967296;return new d(A,0)}function E(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return k(E(R.substring(1),A));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(A,8)),I=S,N=0;N<R.length;N+=8){var U=Math.min(8,R.length-N),C=parseInt(R.substring(N,N+U),A);8>U?(U=y(Math.pow(A,U)),I=I.j(U).add(y(C))):(I=I.j(w),I=I.add(y(C)))}return I}var S=p(0),D=p(1),O=p(16777216);r=d.prototype,r.m=function(){if(q(this))return-k(this).m();for(var R=0,A=1,w=0;w<this.g.length;w++){var I=this.i(w);R+=(0<=I?I:4294967296+I)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(K(this))return"0";if(q(this))return"-"+k(this).toString(R);for(var A=y(Math.pow(R,6)),w=this,I="";;){var N=at(w,A).g;w=st(w,N.j(A));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(R);if(w=N,K(w))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function K(R){if(R.h!=0)return!1;for(var A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function q(R){return R.h==-1}r.l=function(R){return R=st(this,R),q(R)?-1:K(R)?0:1};function k(R){for(var A=R.g.length,w=[],I=0;I<A;I++)w[I]=~R.g[I];return new d(w,~R.h).add(D)}r.abs=function(){return q(this)?k(this):this},r.add=function(R){for(var A=Math.max(this.g.length,R.g.length),w=[],I=0,N=0;N<=A;N++){var U=I+(this.i(N)&65535)+(R.i(N)&65535),C=(U>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);I=C>>>16,U&=65535,C&=65535,w[N]=C<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function st(R,A){return R.add(k(A))}r.j=function(R){if(K(this)||K(R))return S;if(q(this))return q(R)?k(this).j(k(R)):k(k(this).j(R));if(q(R))return k(this.j(k(R)));if(0>this.l(O)&&0>R.l(O))return y(this.m()*R.m());for(var A=this.g.length+R.g.length,w=[],I=0;I<2*A;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<R.g.length;N++){var U=this.i(I)>>>16,C=this.i(I)&65535,Kt=R.i(N)>>>16,Yt=R.i(N)&65535;w[2*I+2*N]+=C*Yt,lt(w,2*I+2*N),w[2*I+2*N+1]+=U*Yt,lt(w,2*I+2*N+1),w[2*I+2*N+1]+=C*Kt,lt(w,2*I+2*N+1),w[2*I+2*N+2]+=U*Kt,lt(w,2*I+2*N+2)}for(I=0;I<A;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=A;I<2*A;I++)w[I]=0;return new d(w,0)};function lt(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function H(R,A){this.g=R,this.h=A}function at(R,A){if(K(A))throw Error("division by zero");if(K(R))return new H(S,S);if(q(R))return A=at(k(R),A),new H(k(A.g),k(A.h));if(q(A))return A=at(R,k(A)),new H(k(A.g),A.h);if(30<R.g.length){if(q(R)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var w=D,I=A;0>=I.l(R);)w=tt(w),I=tt(I);var N=W(w,1),U=W(I,1);for(I=W(I,2),w=W(w,2);!K(I);){var C=U.add(I);0>=C.l(R)&&(N=N.add(w),U=C),I=W(I,1),w=W(w,1)}return A=st(R,N.j(A)),new H(N,A)}for(N=S;0<=R.l(A);){for(w=Math.max(1,Math.floor(R.m()/A.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=y(w),C=U.j(A);q(C)||0<C.l(R);)w-=I,U=y(w),C=U.j(A);K(U)&&(U=D),N=N.add(U),R=st(R,C)}return new H(N,R)}r.A=function(R){return at(this,R).h},r.and=function(R){for(var A=Math.max(this.g.length,R.g.length),w=[],I=0;I<A;I++)w[I]=this.i(I)&R.i(I);return new d(w,this.h&R.h)},r.or=function(R){for(var A=Math.max(this.g.length,R.g.length),w=[],I=0;I<A;I++)w[I]=this.i(I)|R.i(I);return new d(w,this.h|R.h)},r.xor=function(R){for(var A=Math.max(this.g.length,R.g.length),w=[],I=0;I<A;I++)w[I]=this.i(I)^R.i(I);return new d(w,this.h^R.h)};function tt(R){for(var A=R.g.length+1,w=[],I=0;I<A;I++)w[I]=R.i(I)<<1|R.i(I-1)>>>31;return new d(w,R.h)}function W(R,A){var w=A>>5;A%=32;for(var I=R.g.length-w,N=[],U=0;U<I;U++)N[U]=0<A?R.i(U+w)>>>A|R.i(U+w+1)<<32-A:R.i(U+w);return new d(N,R.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,G_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Kr=d}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Q_,no,F_,oc,Id,K_,Y_,X_;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nc=="object"&&nc];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,g){if(g)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var P=u[b];if(!(P in v))break t;v=v[P]}u=u[u.length-1],b=v[u],g=g(b),g!=b&&g!=null&&t(v,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var v=0,b=!1,P={next:function(){if(!b&&v<u.length){var F=v++;return{value:g(F,u[F]),done:!1}}return b=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,v){return u.call.apply(u.bind,arguments)}function S(u,g,v){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,b),u.apply(g,P)}}return function(){return u.apply(g,arguments)}}function D(u,g,v){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,D.apply(null,arguments)}function O(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function K(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(b,P,F){for(var ft=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)ft[Pt-2]=arguments[Pt];return g.prototype[P].apply(b,ft)}}function q(u){const g=u.length;if(0<g){const v=Array(g);for(let b=0;b<g;b++)v[b]=u[b];return v}return[]}function k(u,g){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const P=u.length||0,F=b.length||0;u.length=P+F;for(let ft=0;ft<F;ft++)u[P+ft]=b[ft]}else u.push(b)}}class st{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function lt(u){return/^[\s\xa0]*$/.test(u)}function H(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function at(u){return at[" "](u),u}at[" "]=function(){};var tt=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function W(u,g,v){for(const b in u)g.call(v,u[b],b,u)}function R(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function A(u){const g={};for(const v in u)g[v]=u[v];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,g){let v,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(v in b)u[v]=b[v];for(let F=0;F<w.length;F++)v=w[F],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function N(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function U(u){m.setTimeout(()=>{throw u},0)}function C(){var u=pt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Kt{constructor(){this.h=this.g=null}add(g,v){const b=Yt.get();b.set(g,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Yt=new st(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ut=!1,pt=new Kt,V=()=>{const u=m.Promise.resolve(void 0);ot=()=>{u.then($)}};var $=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){U(v)}var g=Yt;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ut=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return u}();function Rt(u,g){if(it.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(tt){t:{try{at(g.nodeName);var P=!0;break t}catch{}P=!1}P||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:gt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}K(Rt,it);var gt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),zt=0;function Se(u,g,v,b,P){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!b,this.ha=P,this.key=++zt,this.da=this.fa=!1}function Vt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hn(u){this.src=u,this.g={},this.h=0}hn.prototype.add=function(u,g,v,b,P){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var ft=bn(u,g,b,P);return-1<ft?(g=u[ft],v||(g.fa=!1)):(g=new Se(g,this.src,F,!!b,P),g.fa=v,u.push(g)),g};function je(u,g){var v=g.type;if(v in u.g){var b=u.g[v],P=Array.prototype.indexOf.call(b,g,void 0),F;(F=0<=P)&&Array.prototype.splice.call(b,P,1),F&&(Vt(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bn(u,g,v,b){for(var P=0;P<u.length;++P){var F=u[P];if(!F.da&&F.listener==g&&F.capture==!!v&&F.ha==b)return P}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),Pn={};function Wn(u,g,v,b,P){if(Array.isArray(g)){for(var F=0;F<g.length;F++)Wn(u,g[F],v,b,P);return null}return v=Hs(v),u&&u[he]?u.K(g,v,y(b)?!!b.capture:!1,P):dn(u,g,v,!1,b,P)}function dn(u,g,v,b,P,F){if(!g)throw Error("Invalid event type");var ft=y(P)?!!P.capture:!!P,Pt=Li(u);if(Pt||(u[Xe]=Pt=new hn(u)),v=Pt.add(g,v,b,ft,F),v.proxy)return v;if(b=qs(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)mt||(P=ft),P===void 0&&(P=!1),u.addEventListener(g.toString(),b,P);else if(u.attachEvent)u.attachEvent(kn(g.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function qs(){function u(v){return g.call(u.src,u.listener,v)}const g=gr;return u}function Ui(u,g,v,b,P){if(Array.isArray(g))for(var F=0;F<g.length;F++)Ui(u,g[F],v,b,P);else b=y(b)?!!b.capture:!!b,v=Hs(v),u&&u[he]?(u=u.i,g=String(g).toString(),g in u.g&&(F=u.g[g],v=bn(F,v,b,P),-1<v&&(Vt(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete u.g[g],u.h--)))):u&&(u=Li(u))&&(g=u.g[g.toString()],u=-1,g&&(u=bn(g,v,b,P)),(v=-1<u?g[u]:null)&&mn(v))}function mn(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[he])je(g.i,u);else{var v=u.type,b=u.proxy;g.removeEventListener?g.removeEventListener(v,b,u.capture):g.detachEvent?g.detachEvent(kn(v),b):g.addListener&&g.removeListener&&g.removeListener(b),(v=Li(g))?(je(v,u),v.h==0&&(v.src=null,g[Xe]=null)):Vt(u)}}}function kn(u){return u in Pn?Pn[u]:Pn[u]="on"+u}function gr(u,g){if(u.da)u=!0;else{g=new Rt(g,this);var v=u.listener,b=u.ha||u.src;u.fa&&mn(u),u=v.call(b,g)}return u}function Li(u){return u=u[Xe],u instanceof hn?u:null}var pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hs(u){return typeof u=="function"?u:(u[pr]||(u[pr]=function(g){return u.handleEvent(g)}),u[pr])}function le(){ct.call(this),this.i=new hn(this),this.M=this,this.F=null}K(le,ct),le.prototype[he]=!0,le.prototype.removeEventListener=function(u,g,v,b){Ui(this,u,g,v,b)};function Ut(u,g){var v,b=u.F;if(b)for(v=[];b;b=b.F)v.push(b);if(u=u.M,b=g.type||g,typeof g=="string")g=new it(g,u);else if(g instanceof it)g.target=g.target||u;else{var P=g;g=new it(b,u),I(g,P)}if(P=!0,v)for(var F=v.length-1;0<=F;F--){var ft=g.g=v[F];P=Re(ft,b,!0,g)&&P}if(ft=g.g=u,P=Re(ft,b,!0,g)&&P,P=Re(ft,b,!1,g)&&P,v)for(F=0;F<v.length;F++)ft=g.g=v[F],P=Re(ft,b,!1,g)&&P}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],b=0;b<v.length;b++)Vt(v[b]);delete u.g[g],u.h--}}this.F=null},le.prototype.K=function(u,g,v,b){return this.i.add(String(u),g,!1,v,b)},le.prototype.L=function(u,g,v,b){return this.i.add(String(u),g,!0,v,b)};function Re(u,g,v,b){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var P=!0,F=0;F<g.length;++F){var ft=g[F];if(ft&&!ft.da&&ft.capture==v){var Pt=ft.listener,Oe=ft.ha||ft.src;ft.fa&&je(u.i,ft),P=Pt.call(Oe,b)!==!1&&P}}return P&&!b.defaultPrevented}function ge(u,g,v){if(typeof u=="function")v&&(u=D(u,v));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function ss(u){u.g=ge(()=>{u.g=null,u.i&&(u.i=!1,ss(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Bn extends ct{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ss(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(u){ct.call(this),this.h=u,this.g={}}K(fi,ct);var zi=[];function Pi(u){W(u.g,function(g,v){this.g.hasOwnProperty(v)&&mn(g)},u),u.g={}}fi.prototype.N=function(){fi.aa.N.call(this),Pi(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=m.JSON.stringify,ki=m.JSON.parse,Bi=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function yr(){}yr.prototype.h=null;function as(u){return u.h||(u.h=u.i())}function ls(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function se(){it.call(this,"d")}K(se,it);function Ie(){it.call(this,"c")}K(Ie,it);var oe={},An=null;function _e(){return An=An||new le}oe.La="serverreachability";function we(u){it.call(this,oe.La,u)}K(we,it);function Ve(u){const g=_e();Ut(g,new we(g))}oe.STAT_EVENT="statevent";function ei(u,g){it.call(this,oe.STAT_EVENT,u),this.stat=g}K(ei,it);function Dt(u){const g=_e();Ut(g,new ei(g,u))}oe.Ma="timingevent";function Wt(u,g){it.call(this,oe.Ma,u),this.size=g}K(Wt,it);function Gt(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function pe(){this.g=!0}pe.prototype.xa=function(){this.g=!1};function ni(u,g,v,b,P,F){u.info(function(){if(u.g)if(F)for(var ft="",Pt=F.split("&"),Oe=0;Oe<Pt.length;Oe++){var kt=Pt[Oe].split("=");if(1<kt.length){var He=kt[0];kt=kt[1];var Me=He.split("_");ft=2<=Me.length&&Me[1]=="type"?ft+(He+"="+kt+"&"):ft+(He+"=redacted&")}}else ft=null;else ft=F;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+g+`
`+v+`
`+ft})}function ji(u,g,v,b,P,F,ft){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+g+`
`+v+`
`+F+" "+ft})}function Ze(u,g,v,b){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+ii(u,v)+(b?" "+b:"")})}function hi(u,g){u.info(function(){return"TIMEOUT: "+g})}pe.prototype.info=function(){};function ii(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var b=v[u];if(!(2>b.length)){var P=b[1];if(Array.isArray(P)&&!(1>P.length)){var F=P[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ft=1;ft<P.length;ft++)P[ft]=""}}}}return gn(v)}catch{return g}}var vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function mi(){}K(mi,yr),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},di=new mi;function pn(u,g,v,b){this.j=u,this.i=g,this.l=v,this.R=b||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var el={},Gs={};function ri(u,g,v){u.L=1,u.v=hs(xn(g)),u.m=v,u.P=!0,Hi(u,null)}function Hi(u,g){u.F=Date.now(),os(u),u.A=xn(u.v);var v=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),ll(v.i,"t",b),u.C=0,v=u.j.J,u.h=new Ee,u.g=Jo(u.j,v?g:null,!u.m),0<u.O&&(u.M=new Bn(D(u.Y,u,u.g),u.O)),g=u.U,v=u.g,b=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(zi[0]=P.toString()),P=zi);for(var F=0;F<P.length;F++){var ft=Wn(v,P[F],b||g.handleEvent,!1,g.h||g);if(!ft)break;g.g[ft.key]=ft}g=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Ve(),ni(u.i,u.u,u.A,u.l,u.R,u.m)}pn.prototype.ca=function(u){u=u.target;const g=this.M;g&&Gn(u)==3?g.j():this.Y(u)},pn.prototype.Y=function(u){try{if(u==this.g)t:{const Me=Gn(this.g);var g=this.g.Ba();const $i=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||Go(this.g)))){this.J||Me!=4||g==7||(g==8||0>=$i?Ve(3):Ve(2)),_r(this);var v=this.g.Z();this.X=v;e:if(zo(this)){var b=Go(this.g);u="";var P=b.length,F=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),gi(this);var ft="";break e}this.h.i=new m.TextDecoder}for(g=0;g<P;g++)this.h.h=!0,u+=this.h.i.decode(b[g],{stream:!(F&&g==P-1)});b.length=0,this.h.g+=u,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=v==200,ji(this.i,this.u,this.A,this.l,this.R,Me,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Oe=this.g;if((Pt=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Pt)){var kt=Pt;break e}}kt=null}if(v=kt)Ze(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,us(this,v);else{this.o=!1,this.s=3,Dt(12),$e(this),gi(this);break t}}if(this.P){v=!0;let Je;for(;!this.J&&this.C<ft.length;)if(Je=Po(this,ft),Je==Gs){Me==4&&(this.s=4,Dt(14),v=!1),Ze(this.i,this.l,null,"[Incomplete Response]");break}else if(Je==el){this.s=4,Dt(15),Ze(this.i,this.l,ft,"[Invalid Chunk]"),v=!1;break}else Ze(this.i,this.l,Je,null),us(this,Je);if(zo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||ft.length!=0||this.h.h||(this.s=1,Dt(16),v=!1),this.o=this.o&&v,!v)Ze(this.i,this.l,ft,"[Invalid Chunked Response]"),$e(this),gi(this);else if(0<ft.length&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.ba&&!He.M&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),Es(He),He.M=!0,Dt(11))}}else Ze(this.i,this.l,ft,null),us(this,ft);Me==4&&$e(this),this.o&&!this.J&&(Me==4?Xo(this.j,this):(this.o=!1,os(this)))}else gf(this.g),v==400&&0<ft.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),$e(this),gi(this)}}}catch{}finally{}};function zo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Po(u,g){var v=u.C,b=g.indexOf(`
`,v);return b==-1?Gs:(v=Number(g.substring(v,b)),isNaN(v)?el:(b+=1,b+v>g.length?Gs:(g=g.slice(b,b+v),u.C=b+v,g)))}pn.prototype.cancel=function(){this.J=!0,$e(this)};function os(u){u.S=Date.now()+u.I,ko(u,u.I)}function ko(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Gt(D(u.ba,u),g)}function _r(u){u.B&&(m.clearTimeout(u.B),u.B=null)}pn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(hi(this.i,this.A),this.L!=2&&(Ve(),Dt(17)),$e(this),this.s=2,gi(this)):ko(this,this.S-u)};function gi(u){u.j.G==0||u.J||Xo(u.j,u)}function $e(u){_r(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Pi(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function us(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||nl(v.h,u))){if(!u.K&&nl(v.h,u)&&v.G==3){try{var b=v.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)na(v),ta(v);else break t;hl(v),Dt(18)}}else v.za=P[1],0<v.za-v.T&&37500>P[2]&&v.F&&v.v==0&&!v.C&&(v.C=Gt(D(v.Za,v),6e3));if(1>=Fs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Zi(v,11)}else if((u.K||v.g==u)&&na(v),!lt(g))for(P=v.Da.g.parse(g),g=0;g<P.length;g++){let kt=P[g];if(v.T=kt[0],kt=kt[1],v.G==2)if(kt[0]=="c"){v.K=kt[1],v.ia=kt[2];const He=kt[3];He!=null&&(v.la=He,v.j.info("VER="+v.la));const Me=kt[4];Me!=null&&(v.Aa=Me,v.j.info("SVER="+v.Aa));const $i=kt[5];$i!=null&&typeof $i=="number"&&0<$i&&(b=1.5*$i,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Je=u.g;if(Je){const bi=Je.g?Je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var F=b.h;F.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ks(F,F.h),F.h=null))}if(b.D){const ml=Je.g?Je.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(b.ya=ml,te(b.I,b.D,ml))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var ft=u;if(b.qa=$o(b,b.J?b.ia:null,b.W),ft.K){yn(b.h,ft);var Pt=ft,Oe=b.L;Oe&&(Pt.I=Oe),Pt.B&&(_r(Pt),os(Pt)),b.g=ft}else Ko(b);0<v.i.length&&ea(v)}else kt[0]!="stop"&&kt[0]!="close"||Zi(v,7);else v.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Zi(v,7):cl(v):kt[0]!="noop"&&v.l&&v.l.ta(kt),v.v=0)}}Ve(4)}catch{}}var Bo=class{constructor(u,g){this.g=u,this.map=g}};function Gi(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fs(u){return u.h?1:u.g?u.g.size:0}function nl(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Ks(u,g){u.g?u.g.add(g):u.h=g}function yn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Gi.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function il(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return q(u.i)}function ff(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],v=u.length,b=0;b<v;b++)g.push(u[b]);return g}g=[],v=0;for(b in u)g[v++]=u[b];return g}function Ys(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const b in u)g[v++]=b;return g}}}function rl(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=Ys(u),b=ff(u),P=b.length,F=0;F<P;F++)g.call(void 0,b[F],v&&v[F],u)}var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hf(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var b=u[v].indexOf("="),P=null;if(0<=b){var F=u[v].substring(0,b);P=u[v].substring(b+1)}else F=u[v];g(F,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function De(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof De){this.h=u.h,fs(this,u.j),this.o=u.o,this.g=u.g,Er(this,u.s),this.l=u.l;var g=u.i,v=new Fi;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Qi(this,v),this.m=u.m}else u&&(g=String(u).match(cs))?(this.h=!1,fs(this,g[1]||"",!0),this.o=jn(g[2]||""),this.g=jn(g[3]||"",!0),Er(this,g[4]),this.l=jn(g[5]||"",!0),Qi(this,g[6]||"",!0),this.m=jn(g[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}De.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ds(g,sl,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ds(g,sl,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ds(v,v.charAt(0)=="/"?df:al,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ds(v,Xs)),u.join("")};function xn(u){return new De(u)}function fs(u,g,v){u.j=v?jn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Er(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Qi(u,g,v){g instanceof Fi?(u.i=g,qo(u.i,u.h)):(v||(g=ds(g,mf)),u.i=new Fi(g,u.h))}function te(u,g,v){u.i.set(g,v)}function hs(u){return te(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function jn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ds(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,jo),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function jo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sl=/[#\/\?@]/g,al=/[#\?:]/g,df=/[#\?]/g,mf=/[#\?@]/g,Xs=/#/g;function Fi(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function qn(u){u.g||(u.g=new Map,u.h=0,u.i&&hf(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Fi.prototype,r.add=function(u,g){qn(this),this.i=null,u=pi(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function Ki(u,g){qn(u),g=pi(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Yi(u,g){return qn(u),g=pi(u,g),u.g.has(g)}r.forEach=function(u,g){qn(this),this.g.forEach(function(v,b){v.forEach(function(P){u.call(g,P,b,this)},this)},this)},r.na=function(){qn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let b=0;b<g.length;b++){const P=u[b];for(let F=0;F<P.length;F++)v.push(g[b])}return v},r.V=function(u){qn(this);let g=[];if(typeof u=="string")Yi(this,u)&&(g=g.concat(this.g.get(pi(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},r.set=function(u,g){return qn(this),this.i=null,u=pi(this,u),Yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function ll(u,g,v){Ki(u,g),0<v.length&&(u.i=null,u.g.set(pi(u,g),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var b=g[v];const F=encodeURIComponent(String(b)),ft=this.V(b);for(b=0;b<ft.length;b++){var P=F;ft[b]!==""&&(P+="="+encodeURIComponent(String(ft[b]))),u.push(P)}}return this.i=u.join("&")};function pi(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function qo(u,g){g&&!u.j&&(qn(u),u.i=null,u.g.forEach(function(v,b){var P=b.toLowerCase();b!=P&&(Ki(this,b),ll(this,P,v))},u)),u.j=g}function ms(u,g){const v=new pe;if(m.Image){const b=new Image;b.onload=O(Hn,v,"TestLoadImage: loaded",!0,g,b),b.onerror=O(Hn,v,"TestLoadImage: error",!1,g,b),b.onabort=O(Hn,v,"TestLoadImage: abort",!1,g,b),b.ontimeout=O(Hn,v,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else g(!1)}function si(u,g){const v=new pe,b=new AbortController,P=setTimeout(()=>{b.abort(),Hn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:b.signal}).then(F=>{clearTimeout(P),F.ok?Hn(v,"TestPingServer: ok",!0,g):Hn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Hn(v,"TestPingServer: error",!1,g)})}function Hn(u,g,v,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(v)}catch{}}function gs(){this.g=new Bi}function yi(u,g,v){const b=v||"";try{rl(u,function(P,F){let ft=P;y(P)&&(ft=gn(P)),g.push(b+F+"="+encodeURIComponent(ft))})}catch(P){throw g.push(b+"type="+encodeURIComponent("_badmap")),P}}function Tr(u){this.l=u.Ub||null,this.j=u.eb||!1}K(Tr,yr),Tr.prototype.g=function(){return new Xi(this.l,this.j)},Tr.prototype.i=function(u){return function(){return u}}({});function Xi(u,g){le.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(Xi,le),r=Xi.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,_i(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?vi(this):_i(this),this.readyState==3&&ol(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,vi(this))},r.Qa=function(u){this.g&&(this.response=u,vi(this))},r.ga=function(){this.g&&vi(this)};function vi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,_i(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function _i(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ul(u){let g="";return W(u,function(v,b){g+=b,g+=":",g+=v,g+=`\r
`}),g}function qe(u,g,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=ul(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):te(u,g,v))}function Xt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(Xt,le);var Zs=/^https?$/i,ps=["POST","PUT"];r=Xt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?as(this.o):as(di),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){Ho(this,F);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)v.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const F of b.keys())v.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),P=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ps,g,void 0))||b||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ft]of v)this.g.setRequestHeader(F,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ys(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Ho(this,F)}};function Ho(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,$s(u),Ei(u)}function $s(u){u.A||(u.A=!0,Ut(u,"complete"),Ut(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ut(this,"complete"),Ut(this,"abort"),Ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),Xt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},r.bb=function(){Js(this)};function Js(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Gn(u)!=4||u.Z()!=2)){if(u.u&&Gn(u)==4)ge(u.Ea,0,u);else if(Ut(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const ft=u.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var b;if(b=ft===0){var P=String(u.D).match(cs)[1]||null;!P&&m.self&&m.self.location&&(P=m.self.location.protocol.slice(0,-1)),b=!Zs.test(P?P.toLowerCase():"")}v=b}if(v)Ut(u,"complete"),Ut(u,"success");else{u.m=6;try{var F=2<Gn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",$s(u)}}finally{Ei(u)}}}}function Ei(u,g){if(u.g){ys(u);const v=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ut(u,"ready");try{v.onreadystatechange=b}catch{}}}function ys(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),ki(g)}};function Go(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gf(u){const g={};u=(u.g&&2<=Gn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(lt(u[b]))continue;var v=N(u[b]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=g[P]||[];g[P]=F,F.push(v)}R(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function Ws(u){this.Aa=0,this.i=[],this.j=new pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,u),this.cb=vs("retryDelaySeedMs",1e4,u),this.Wa=vs("forwardChannelMaxRetries",2,u),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Gi(u&&u.concurrentRequestLimit),this.Da=new gs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ws.prototype,r.la=8,r.G=1,r.connect=function(u,g,v,b){Dt(0),this.W=u,this.H=g||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=$o(this,null,this.W),ea(this)};function cl(u){if(Qo(u),u.G==3){var g=u.U++,v=xn(u.I);if(te(v,"SID",u.K),te(v,"RID",g),te(v,"TYPE","terminate"),_s(u,v),g=new pn(u,u.j,g),g.L=2,g.v=hs(xn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Jo(g.j,null),g.g.ea(g.v)),g.F=Date.now(),os(g)}Zo(u)}function ta(u){u.g&&(Es(u),u.g.cancel(),u.g=null)}function Qo(u){ta(u),u.u&&(m.clearTimeout(u.u),u.u=null),na(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function ea(u){if(!Qs(u.h)&&!u.s){u.s=!0;var g=u.Ga;ot||V(),ut||(ot(),ut=!0),pt.add(g,u),u.B=0}}function pf(u,g){return Fs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Gt(D(u.Ga,u,g),dl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new pn(this,this.j,u);let F=this.o;if(this.S&&(F?(F=A(F),I(F,this.S)):F=this.S),this.m!==null||this.O||(P.H=F,F=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Fo(this,P,g),v=xn(this.I),te(v,"RID",u),te(v,"CVER",22),this.D&&te(v,"X-HTTP-Session-Id",this.D),_s(this,v),F&&(this.O?g="headers="+encodeURIComponent(String(ul(F)))+"&"+g:this.m&&qe(v,this.m,F)),Ks(this.h,P),this.Ua&&te(v,"TYPE","init"),this.P?(te(v,"$req",g),te(v,"SID","null"),P.T=!0,ri(P,v,null)):ri(P,v,g),this.G=2}}else this.G==3&&(u?fl(this,u):this.i.length==0||Qs(this.h)||fl(this))};function fl(u,g){var v;g?v=g.l:v=u.U++;const b=xn(u.I);te(b,"SID",u.K),te(b,"RID",v),te(b,"AID",u.T),_s(u,b),u.m&&u.o&&qe(b,u.m,u.o),v=new pn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Fo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ks(u.h,v),ri(v,b,g)}function _s(u,g){u.H&&W(u.H,function(v,b){te(g,b,v)}),u.l&&rl({},function(v,b){te(g,b,v)})}function Fo(u,g,v){v=Math.min(u.i.length,v);var b=u.l?D(u.l.Na,u.l,u):null;t:{var P=u.i;let F=-1;for(;;){const ft=["count="+v];F==-1?0<v?(F=P[0].g,ft.push("ofs="+F)):F=0:ft.push("ofs="+F);let Pt=!0;for(let Oe=0;Oe<v;Oe++){let kt=P[Oe].g;const He=P[Oe].map;if(kt-=F,0>kt)F=Math.max(0,P[Oe].g-100),Pt=!1;else try{yi(He,ft,"req"+kt+"_")}catch{b&&b(He)}}if(Pt){b=ft.join("&");break t}}}return u=u.i.splice(0,v),g.D=u,b}function Ko(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ot||V(),ut||(ot(),ut=!0),pt.add(g,u),u.v=0}}function hl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Gt(D(u.Fa,u),dl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Yo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Gt(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),ta(this),Yo(this))};function Es(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Yo(u){u.g=new pn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=xn(u.qa);te(g,"RID","rpc"),te(g,"SID",u.K),te(g,"AID",u.T),te(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&te(g,"TO",u.ja),te(g,"TYPE","xmlhttp"),_s(u,g),u.m&&u.o&&qe(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=hs(xn(g)),v.m=null,v.P=!0,Hi(v,u)}r.Za=function(){this.C!=null&&(this.C=null,ta(this),hl(this),Dt(19))};function na(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Xo(u,g){var v=null;if(u.g==g){na(u),Es(u),u.g=null;var b=2}else if(nl(u.h,g))v=g.D,yn(u.h,g),b=1;else return;if(u.G!=0){if(g.o)if(b==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var P=u.B;b=_e(),Ut(b,new Wt(b,v)),ea(u)}else Ko(u);else if(P=g.s,P==3||P==0&&0<g.X||!(b==1&&pf(u,g)||b==2&&hl(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),P){case 1:Zi(u,5);break;case 4:Zi(u,10);break;case 3:Zi(u,6);break;default:Zi(u,2)}}}function dl(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function Zi(u,g){if(u.j.info("Error code "+g),g==2){var v=D(u.fb,u),b=u.Xa;const P=!b;b=new De(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||fs(b,"https"),hs(b),P?ms(b.toString(),v):si(b.toString(),v)}else Dt(2);u.G=0,u.l&&u.l.sa(g),Zo(u),Qo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Zo(u){if(u.G=0,u.ka=[],u.l){const g=il(u.h);(g.length!=0||u.i.length!=0)&&(k(u.ka,g),k(u.ka,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.ra()}}function $o(u,g,v){var b=v instanceof De?xn(v):new De(v);if(b.g!="")g&&(b.g=g+"."+b.g),Er(b,b.s);else{var P=m.location;b=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;var F=new De(null);b&&fs(F,b),g&&(F.g=g),P&&Er(F,P),v&&(F.l=v),b=F}return v=u.D,g=u.ya,v&&g&&te(b,v,g),te(b,"VER",u.la),_s(u,b),b}function Jo(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Xt(new Tr({eb:v})):new Xt(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wo(){}r=Wo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ia(){}ia.prototype.g=function(u,g){return new vn(u,g)};function vn(u,g){le.call(this),this.g=new Ws(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!lt(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!lt(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Ti(this)}K(vn,le),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){cl(this.g)},vn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=gn(u),u=v);g.i.push(new Bo(g.Ya++,u)),g.G==3&&ea(g)},vn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,vn.aa.N.call(this)};function tu(u){se.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const v in g){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}K(tu,se);function eu(){Ie.call(this),this.status=1}K(eu,Ie);function Ti(u){this.g=u}K(Ti,Wo),Ti.prototype.ua=function(){Ut(this.g,"a")},Ti.prototype.ta=function(u){Ut(this.g,new tu(u))},Ti.prototype.sa=function(u){Ut(this.g,new eu)},Ti.prototype.ra=function(){Ut(this.g,"b")},ia.prototype.createWebChannel=ia.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,X_=function(){return new ia},Y_=function(){return _e()},K_=oe,Id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,oc=vr,qi.COMPLETE="complete",F_=qi,ls.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",le.prototype.listen=le.prototype.K,no=ls,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,Q_=Xt}).apply(typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{});const _v="@firebase/firestore",Ev="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new P_("@firebase/firestore");function Va(){return Ps.logLevel}function ht(r,...t){if(Ps.logLevel<=qt.DEBUG){const i=t.map(rm);Ps.debug(`Firestore (${Ya}): ${r}`,...i)}}function dr(r,...t){if(Ps.logLevel<=qt.ERROR){const i=t.map(rm);Ps.error(`Firestore (${Ya}): ${r}`,...i)}}function ka(r,...t){if(Ps.logLevel<=qt.WARN){const i=t.map(rm);Ps.warn(`Firestore (${Ya}): ${r}`,...i)}}function rm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r="Unexpected state"){const t=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: `+r;throw dr(t),new Error(t)}function Zt(r,t){r||At()}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends Ka{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(cn.UNAUTHENTICATED))}shutdown(){}}class pS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class yS{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Yr,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Yr)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string"),new Z_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string"),new cn(t)}}class vS{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _S{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new vS(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ES{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,JA(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0);const a=c=>{c.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,ht("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>a(c))};const o=c=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Tv(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Zt(typeof i.token=="string"),this.R=i.token,new Tv(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=TS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Nt(r,t){return r<t?-1:r>t?1:0}function Vd(r,t){let i=0;for(;i<r.length&&i<t.length;){const a=r.codePointAt(i),o=t.codePointAt(i);if(a!==o){if(a<128&&o<128)return Nt(a,o);{const c=$_(),d=bS(c.encode(bv(r,i)),c.encode(bv(t,i)));return d!==0?d:Nt(a,o)}}i+=a>65535?2:1}return Nt(r.length,t.length)}function bv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function bS(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return Nt(r[i],t[i]);return Nt(r.length,t.length)}function Ba(r,t,i){return r.length===t.length&&r.every((a,o)=>i(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-62135596800,Sv=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(t){return ke.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Sv);return new ke(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new vt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new vt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Av)throw new vt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Av;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ke(0,0))}static max(){return new St(new ke(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="__name__";class Ci{constructor(t,i,a){i===void 0?i=0:i>t.length&&At(),a===void 0?a=t.length-i:a>t.length-i&&At(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ci.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const a=Ci.isNumericId(t),o=Ci.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):Vd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Kr.fromString(t.substring(4,t.length-2))}}class fe extends Ci{construct(t,i,a){return new fe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new vt(rt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new fe(i)}static emptyPath(){return new fe([])}}const AS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Ci{construct(t,i,a){return new sn(t,i,a)}static isValidIdentifier(t){return AS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rv}static keyField(){return new sn([Rv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new vt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new vt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new vt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(a+=m,o++):(c(),o++)}if(c(),d)throw new vt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(i)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(fe.fromString(t))}static fromName(t){return new _t(fe.fromString(t).popFirst(5))}static empty(){return new _t(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new fe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=-1;function SS(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(a===1e9?new ke(i+1,0):new ke(i,a));return new Zr(o,_t.empty(),t)}function RS(r){return new Zr(r.readTime,r.key,vo)}class Zr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Zr(St.min(),_t.empty(),vo)}static max(){return new Zr(St.max(),_t.empty(),vo)}}function wS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=_t.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r){if(r.code!==rt.FAILED_PRECONDITION||r.message!==DS)throw r;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new nt((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof nt?i:nt.resolve(i)}catch(i){return nt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):nt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):nt.reject(i)}static resolve(t){return new nt((i,a)=>{i(t)})}static reject(t){return new nt((i,a)=>{a(t)})}static waitFor(t){return new nt((i,a)=>{let o=0,c=0,d=!1;t.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&i()},p=>a(p))}),d=!0,c===o&&i()})}static or(t){let i=nt.resolve(!1);for(const a of t)i=i.next(o=>o?nt.resolve(o):a());return i}static forEach(t,i){const a=[];return t.forEach((o,c)=>{a.push(i.call(this,o,c))}),this.waitFor(a)}static mapArray(t,i){return new nt((a,o)=>{const c=t.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(t[y]).next(E=>{d[y]=E,++m,m===c&&a(d)},E=>o(E))}})}static doWhile(t,i){return new nt((a,o)=>{const c=()=>{t()===!0?i().next(()=>{c()},o):a()};c()})}}function xS(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Za(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Pc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=-1;function kc(r){return r==null}function _c(r){return r===0&&1/r==-1/0}function NS(r){return typeof r=="number"&&Number.isInteger(r)&&!_c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="";function IS(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=wv(t)),t=VS(r.get(i),t);return wv(t)}function VS(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case W_:i+="";break;default:i+=c}}return i}function wv(r){return r+W_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function is(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function t0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,i){this.comparator=t,this.root=i||rn.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ic(this.root,t,this.comparator,!0)}}class ic{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rn{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??rn.RED,this.left=o??rn.EMPTY,this.right=c??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new rn(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const t=this.left.check();if(t!==this.right.check())throw At();return t+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(t,i,a,o,c){return this}insert(t,i,a){return new rn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Cv(this.data.getIterator())}getIteratorFrom(t){return new Cv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Be(this.comparator);return i.data=t,i}}class Cv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new zn([])}unionWith(t){let i=new Be(sn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new zn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ba(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new e0("Invalid base64 string: "+c):c}}(t);return new an(i)}static fromUint8Array(t){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(t);return new an(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const OS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(r){if(Zt(!!r),typeof r=="string"){let t=0;const i=OS.exec(r);if(Zt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(r.seconds),nanos:Ae(r.nanos)}}function Ae(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Jr(r){return typeof r=="string"?an.fromBase64String(r):an.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="server_timestamp",i0="__type__",r0="__previous_value__",s0="__local_write_time__";function am(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[i0])===null||i===void 0?void 0:i.stringValue)===n0}function Bc(r){const t=r.mapValue.fields[r0];return am(t)?Bc(t):t}function _o(r){const t=$r(r.mapValue.fields[s0].timestampValue);return new ke(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,i,a,o,c,d,m,p,y){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Ec="(default)";class Eo{constructor(t,i){this.projectId=t,this.database=i||Ec}static empty(){return new Eo("","")}get isDefaultDatabase(){return this.database===Ec}isEqual(t){return t instanceof Eo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="__type__",US="__max__",rc={mapValue:{}},l0="__vector__",Tc="value";function Wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?am(r)?4:zS(r)?9007199254740991:LS(r)?10:11:At()}function Oi(r,t){if(r===t)return!0;const i=Wr(r);if(i!==Wr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return _o(r).isEqual(_o(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=$r(o.timestampValue),m=$r(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Jr(o.bytesValue).isEqual(Jr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return Ae(o.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(o.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Ae(o.integerValue)===Ae(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ae(o.doubleValue),m=Ae(c.doubleValue);return d===m?_c(d)===_c(m):isNaN(d)&&isNaN(m)}return!1}(r,t);case 9:return Ba(r.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Dv(d)!==Dv(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!Oi(d[p],m[p])))return!1;return!0}(r,t);default:return At()}}function To(r,t){return(r.values||[]).find(i=>Oi(i,t))!==void 0}function ja(r,t){if(r===t)return 0;const i=Wr(r),a=Wr(t);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const m=Ae(c.integerValue||c.doubleValue),p=Ae(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return xv(r.timestampValue,t.timestampValue);case 4:return xv(_o(r),_o(t));case 5:return Vd(r.stringValue,t.stringValue);case 6:return function(c,d){const m=Jr(c),p=Jr(d);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Nt(m[y],p[y]);if(E!==0)return E}return Nt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const m=Nt(Ae(c.latitude),Ae(d.latitude));return m!==0?m:Nt(Ae(c.longitude),Ae(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Nv(r.arrayValue,t.arrayValue);case 10:return function(c,d){var m,p,y,E;const S=c.fields||{},D=d.fields||{},O=(m=S[Tc])===null||m===void 0?void 0:m.arrayValue,K=(p=D[Tc])===null||p===void 0?void 0:p.arrayValue,q=Nt(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((E=K==null?void 0:K.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:Nv(O,K)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===rc.mapValue&&d===rc.mapValue)return 0;if(c===rc.mapValue)return 1;if(d===rc.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const D=Vd(p[S],E[S]);if(D!==0)return D;const O=ja(m[p[S]],y[E[S]]);if(O!==0)return O}return Nt(p.length,E.length)}(r.mapValue,t.mapValue);default:throw At()}}function xv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=$r(r),a=$r(t),o=Nt(i.seconds,a.seconds);return o!==0?o:Nt(i.nanos,a.nanos)}function Nv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=ja(i[o],a[o]);if(c)return c}return Nt(i.length,a.length)}function qa(r){return Od(r)}function Od(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=$r(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Jr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return _t.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=Od(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${Od(i.fields[d])}`;return o+"}"}(r.mapValue):At()}function uc(r){switch(Wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bc(r);return t?16+uc(t):16;case 5:return 2*r.stringValue.length;case 6:return Jr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,c)=>o+uc(c),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return is(a.fields,(c,d)=>{o+=c.length+uc(d)}),o}(r.mapValue);default:throw At()}}function Md(r){return!!r&&"integerValue"in r}function lm(r){return!!r&&"arrayValue"in r}function Iv(r){return!!r&&"nullValue"in r}function Vv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function cc(r){return!!r&&"mapValue"in r}function LS(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[a0])===null||i===void 0?void 0:i.stringValue)===l0}function lo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return is(r.mapValue.fields,(i,a)=>t.mapValue.fields[i]=lo(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=lo(r.arrayValue.values[i]);return t}return Object.assign({},r)}function zS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===US}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.value=t}static empty(){return new Cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=lo(i)}setAll(t){let i=sn.emptyPath(),a={},o=[];t.forEach((d,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,a,o),a={},o=[],i=m.popLast()}d?a[m.lastSegment()]=lo(d):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){is(i,(o,c)=>t[o]=c);for(const o of a)delete t[o]}clone(){return new Cn(lo(this.value))}}function o0(r){const t=[];return is(r.fields,(i,a)=>{const o=new sn([i]);if(cc(a)){const c=o0(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)}),new zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,i,a,o,c,d,m){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(t){return new fn(t,0,St.min(),St.min(),St.min(),Cn.empty(),0)}static newFoundDocument(t,i,a,o){return new fn(t,1,i,St.min(),a,o,0)}static newNoDocument(t,i){return new fn(t,2,i,St.min(),St.min(),Cn.empty(),0)}static newUnknownDocument(t,i){return new fn(t,3,i,St.min(),St.min(),Cn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,i){this.position=t,this.inclusive=i}}function Ov(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=_t.comparator(_t.fromName(d.referenceValue),i.key):a=ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Mv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Oi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,i="asc"){this.field=t,this.dir=i}}function PS(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{}class Pe extends u0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new BS(t,i,a):i==="array-contains"?new HS(t,a):i==="in"?new GS(t,a):i==="not-in"?new QS(t,a):i==="array-contains-any"?new FS(t,a):new Pe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new jS(t,a):new qS(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ja(i,this.value)):i!==null&&Wr(this.value)===Wr(i)&&this.matchesComparison(ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends u0{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new Mi(t,i)}matches(t){return c0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function c0(r){return r.op==="and"}function f0(r){return kS(r)&&c0(r)}function kS(r){for(const t of r.filters)if(t instanceof Mi)return!1;return!0}function Ud(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+qa(r.value);if(f0(r))return r.filters.map(t=>Ud(t)).join(",");{const t=r.filters.map(i=>Ud(i)).join(",");return`${r.op}(${t})`}}function h0(r,t){return r instanceof Pe?function(a,o){return o instanceof Pe&&a.op===o.op&&a.field.isEqual(o.field)&&Oi(a.value,o.value)}(r,t):r instanceof Mi?function(a,o){return o instanceof Mi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((c,d,m)=>c&&h0(d,o.filters[m]),!0):!1}(r,t):void At()}function d0(r){return r instanceof Pe?function(i){return`${i.field.canonicalString()} ${i.op} ${qa(i.value)}`}(r):r instanceof Mi?function(i){return i.op.toString()+" {"+i.getFilters().map(d0).join(" ,")+"}"}(r):"Filter"}class BS extends Pe{constructor(t,i,a){super(t,i,a),this.key=_t.fromName(a.referenceValue)}matches(t){const i=_t.comparator(t.key,this.key);return this.matchesComparison(i)}}class jS extends Pe{constructor(t,i){super(t,"in",i),this.keys=m0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class qS extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=m0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function m0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>_t.fromName(a.referenceValue))}class HS extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return lm(i)&&To(i.arrayValue,this.value)}}class GS extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&To(this.value.arrayValue,i)}}class QS extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!To(this.value.arrayValue,i)}}class FS extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>To(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t,i=null,a=[],o=[],c=null,d=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.le=null}}function Uv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new KS(r,t,i,a,o,c,d)}function om(r){const t=wt(r);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>Ud(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),kc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>qa(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>qa(a)).join(",")),t.le=i}return t.le}function um(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!PS(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!h0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Mv(r.startAt,t.startAt)&&Mv(r.endAt,t.endAt)}function Ld(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i=null,a=[],o=[],c=null,d="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function YS(r,t,i,a,o,c,d,m){return new jc(r,t,i,a,o,c,d,m)}function qc(r){return new jc(r)}function Lv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function XS(r){return r.collectionGroup!==null}function oo(r){const t=wt(r);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Be(sn.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new Ac(c,a))}),i.has(sn.keyField().canonicalString())||t.he.push(new Ac(sn.keyField(),a))}return t.he}function xi(r){const t=wt(r);return t.Pe||(t.Pe=ZS(t,oo(r))),t.Pe}function ZS(r,t){if(r.limitType==="F")return Uv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Ac(o.field,c)});const i=r.endAt?new bc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new bc(r.startAt.position,r.startAt.inclusive):null;return Uv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function zd(r,t,i){return new jc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Hc(r,t){return um(xi(r),xi(t))&&r.limitType===t.limitType}function g0(r){return`${om(xi(r))}|lt:${r.limitType}`}function Oa(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>d0(o)).join(", ")}]`),kc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>qa(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>qa(o)).join(",")),`Target(${a})`}(xi(r))}; limitType=${r.limitType})`}function Gc(r,t){return t.isFoundDocument()&&function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):_t.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,t)&&function(a,o){for(const c of oo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(a,o){return!(a.startAt&&!function(d,m,p){const y=Ov(d,m,p);return d.inclusive?y<=0:y<0}(a.startAt,oo(a),o)||a.endAt&&!function(d,m,p){const y=Ov(d,m,p);return d.inclusive?y>=0:y>0}(a.endAt,oo(a),o))}(r,t)}function $S(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function p0(r){return(t,i)=>{let a=!1;for(const o of oo(r)){const c=JS(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function JS(r,t,i){const a=r.field.isKeyField()?_t.comparator(t.key,i.key):function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?ja(p,y):At()}(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return At()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){is(this.inner,(i,a)=>{for(const[o,c]of a)t(o,c)})}isEmpty(){return t0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=new me(_t.comparator);function mr(){return WS}const y0=new me(_t.comparator);function io(...r){let t=y0;for(const i of r)t=t.insert(i.key,i);return t}function v0(r){let t=y0;return r.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function zs(){return uo()}function _0(){return uo()}function uo(){return new Bs(r=>r.toString(),(r,t)=>r.isEqual(t))}const t1=new me(_t.comparator),e1=new Be(_t.comparator);function Lt(...r){let t=e1;for(const i of r)t=t.add(i);return t}const n1=new Be(Nt);function i1(){return n1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(t)?"-0":t}}function E0(r){return{integerValue:""+r}}function r1(r,t){return NS(t)?E0(t):cm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this._=void 0}}function s1(r,t,i){return r instanceof Sc?function(o,c){const d={fields:{[i0]:{stringValue:n0},[s0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&am(c)&&(c=Bc(c)),c&&(d.fields[r0]=c),{mapValue:d}}(i,t):r instanceof bo?b0(r,t):r instanceof Ao?A0(r,t):function(o,c){const d=T0(o,c),m=zv(d)+zv(o.Ie);return Md(d)&&Md(o.Ie)?E0(m):cm(o.serializer,m)}(r,t)}function a1(r,t,i){return r instanceof bo?b0(r,t):r instanceof Ao?A0(r,t):i}function T0(r,t){return r instanceof Rc?function(a){return Md(a)||function(c){return!!c&&"doubleValue"in c}(a)}(t)?t:{integerValue:0}:null}class Sc extends Qc{}class bo extends Qc{constructor(t){super(),this.elements=t}}function b0(r,t){const i=S0(t);for(const a of r.elements)i.some(o=>Oi(o,a))||i.push(a);return{arrayValue:{values:i}}}class Ao extends Qc{constructor(t){super(),this.elements=t}}function A0(r,t){let i=S0(t);for(const a of r.elements)i=i.filter(o=>!Oi(o,a));return{arrayValue:{values:i}}}class Rc extends Qc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function zv(r){return Ae(r.integerValue||r.doubleValue)}function S0(r){return lm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function l1(r,t){return r.field.isEqual(t.field)&&function(a,o){return a instanceof bo&&o instanceof bo||a instanceof Ao&&o instanceof Ao?Ba(a.elements,o.elements,Oi):a instanceof Rc&&o instanceof Rc?Oi(a.Ie,o.Ie):a instanceof Sc&&o instanceof Sc}(r.transform,t.transform)}class o1{constructor(t,i){this.version=t,this.transformResults=i}}class Ni{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ni}static exists(t){return new Ni(void 0,t)}static updateTime(t){return new Ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Fc{}function R0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new D0(r.key,Ni.none()):new Do(r.key,r.data,Ni.none());{const i=r.data,a=Cn.empty();let o=new Be(sn.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new rs(r.key,a,new zn(o.toArray()),Ni.none())}}function u1(r,t,i){r instanceof Do?function(o,c,d){const m=o.value.clone(),p=kv(o.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,t,i):r instanceof rs?function(o,c,d){if(!fc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=kv(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(w0(o)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function co(r,t,i,a){return r instanceof Do?function(c,d,m,p){if(!fc(c.precondition,d))return m;const y=c.value.clone(),E=Bv(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,t,i,a):r instanceof rs?function(c,d,m,p){if(!fc(c.precondition,d))return m;const y=Bv(c.fieldTransforms,p,d),E=d.data;return E.setAll(w0(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,t,i,a):function(c,d,m){return fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,t,i)}function c1(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=T0(a.transform,o||null);c!=null&&(i===null&&(i=Cn.empty()),i.set(a.field,c))}return i||null}function Pv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ba(a,o,(c,d)=>l1(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Do extends Fc{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rs extends Fc{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function w0(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}}),t}function kv(r,t,i){const a=new Map;Zt(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,m=t.data.field(c.field);a.set(c.field,a1(d,m,i[o]))}return a}function Bv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,s1(c,d,t))}return a}class D0 extends Fc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f1 extends Fc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&u1(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=co(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=co(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=_0();return this.mutations.forEach(o=>{const c=t.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=i.has(o.key)?null:m;const p=R0(d,m);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(St.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Ba(this.mutations,t.mutations,(i,a)=>Pv(i,a))&&Ba(this.baseMutations,t.baseMutations,(i,a)=>Pv(i,a))}}class fm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Zt(t.mutations.length===a.length);let o=function(){return t1}();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new fm(t,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,jt;function g1(r){switch(r){case rt.OK:return At();case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return At()}}function C0(r){if(r===void 0)return dr("GRPC error has no .code"),rt.UNKNOWN;switch(r){case Ne.OK:return rt.OK;case Ne.CANCELLED:return rt.CANCELLED;case Ne.UNKNOWN:return rt.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return rt.INTERNAL;case Ne.UNAVAILABLE:return rt.UNAVAILABLE;case Ne.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Ne.NOT_FOUND:return rt.NOT_FOUND;case Ne.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Ne.ABORTED:return rt.ABORTED;case Ne.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Ne.DATA_LOSS:return rt.DATA_LOSS;default:return At()}}(jt=Ne||(Ne={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Kr([4294967295,4294967295],0);function jv(r){const t=$_().encode(r),i=new G_;return i.update(t),new Uint8Array(i.digest())}function qv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Kr([i,a],0),new Kr([o,c],0)]}class hm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ro(`Invalid padding: ${i}`);if(a<0)throw new ro(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new ro(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Kr.fromNumber(this.Ee)}Ae(t,i,a){let o=t.add(i.multiply(Kr.fromNumber(a)));return o.compare(p1)===1&&(o=new Kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=jv(t),[a,o]=qv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(a,o,c);if(!this.Re(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new hm(c,o,i);return a.forEach(m=>d.insert(m)),d}insert(t){if(this.Ee===0)return;const i=jv(t),[a,o]=qv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(a,o,c);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Co.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Kc(St.min(),o,new me(Nt),mr(),Lt())}}class Co{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Co(a,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,i,a,o){this.me=t,this.removedTargetIds=i,this.key=a,this.fe=o}}class x0{constructor(t,i){this.targetId=t,this.ge=i}}class N0{constructor(t,i,a=an.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Hv{constructor(){this.pe=0,this.ye=Gv(),this.we=an.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Lt(),i=Lt(),a=Lt();return this.ye.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:At()}}),new Co(this.we,this.Se,t,i,a)}Me(){this.be=!1,this.ye=Gv()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Zt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class y1{constructor(t){this.ke=t,this.qe=new Map,this.Qe=mr(),this.$e=sc(),this.Ue=sc(),this.Ke=new me(Nt)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const a=this.He(i);switch(t.state){case 0:this.Je(i)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(t.resumeToken));break;default:At()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((a,o)=>{this.Je(o)&&i(o)})}Ze(t){const i=t.targetId,a=t.ge.count,o=this.Xe(i);if(o){const c=o.target;if(Ld(c))if(a===0){const d=new _t(c.path);this.ze(i,d,fn.newNoDocument(d,St.min()))}else Zt(a===1);else{const d=this.et(i);if(d!==a){const m=this.tt(t),p=m?this.nt(m,t,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,m;try{d=Jr(a).toUint8Array()}catch(p){if(p instanceof e0)return ka("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new hm(d,o,c)}catch(p){return ka(p instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,i,a){return i.ge.count===a-this.st(t,i.targetId)?0:2}st(t,i){const a=this.ke.getRemoteKeysForTarget(i);let o=0;return a.forEach(c=>{const d=this.ke.it(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(t){const i=new Map;this.qe.forEach((c,d)=>{const m=this.Xe(d);if(m){if(c.current&&Ld(m.target)){const p=new _t(m.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,fn.newNoDocument(p,t))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let a=Lt();this.Ue.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const o=new Kc(t,i,this.Ke,this.Qe,a);return this.Qe=mr(),this.$e=sc(),this.Ue=sc(),this.Ke=new me(Nt),o}Ge(t,i){if(!this.Je(t))return;const a=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,a){if(!this.Je(t))return;const o=this.He(t);this.ut(t,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new Hv,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new Be(Nt),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new Be(Nt),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Hv),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function sc(){return new me(_t.comparator)}function Gv(){return new me(_t.comparator)}const v1={asc:"ASCENDING",desc:"DESCENDING"},_1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E1={and:"AND",or:"OR"};class T1{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Pd(r,t){return r.useProto3Json||kc(t)?t:{value:t}}function wc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function I0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function b1(r,t){return wc(r,t.toTimestamp())}function Ii(r){return Zt(!!r),St.fromTimestamp(function(i){const a=$r(i);return new ke(a.seconds,a.nanos)}(r))}function dm(r,t){return kd(r,t).canonicalString()}function kd(r,t){const i=function(o){return new fe(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function V0(r){const t=fe.fromString(r);return Zt(z0(t)),t}function Bd(r,t){return dm(r.databaseId,t.path)}function yd(r,t){const i=V0(t);if(i.get(1)!==r.databaseId.projectId)throw new vt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new vt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new _t(M0(i))}function O0(r,t){return dm(r.databaseId,t)}function A1(r){const t=V0(r);return t.length===4?fe.emptyPath():M0(t)}function jd(r){return new fe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function M0(r){return Zt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Qv(r,t,i){return{name:Bd(r,t),fields:i.value.mapValue.fields}}function S1(r,t){let i;if("targetChange"in t){t.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:At()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Zt(E===void 0||typeof E=="string"),an.fromBase64String(E||"")):(Zt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),an.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,m=d&&function(y){const E=y.code===void 0?rt.UNKNOWN:C0(y.code);return new vt(E,y.message||"")}(d);i=new N0(a,o,c,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=yd(r,a.document.name),c=Ii(a.document.updateTime),d=a.document.createTime?Ii(a.document.createTime):St.min(),m=new Cn({mapValue:{fields:a.document.fields}}),p=fn.newFoundDocument(o,c,d,m),y=a.targetIds||[],E=a.removedTargetIds||[];i=new hc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=yd(r,a.document),c=a.readTime?Ii(a.readTime):St.min(),d=fn.newNoDocument(o,c),m=a.removedTargetIds||[];i=new hc([],m,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=yd(r,a.document),c=a.removedTargetIds||[];i=new hc([],c,o,null)}else{if(!("filter"in t))return At();{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new m1(o,c),m=a.targetId;i=new x0(m,d)}}return i}function R1(r,t){let i;if(t instanceof Do)i={update:Qv(r,t.key,t.value)};else if(t instanceof D0)i={delete:Bd(r,t.key)};else if(t instanceof rs)i={update:Qv(r,t.key,t.data),updateMask:M1(t.fieldMask)};else{if(!(t instanceof f1))return At();i={verify:Bd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(c,d){const m=d.transform;if(m instanceof Sc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ao)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rc)return{fieldPath:d.field.canonicalString(),increment:m.Ie};throw At()}(0,a))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:b1(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:At()}(r,t.precondition)),i}function w1(r,t){return r&&r.length>0?(Zt(t!==void 0),r.map(i=>function(o,c){let d=o.updateTime?Ii(o.updateTime):Ii(c);return d.isEqual(St.min())&&(d=Ii(c)),new o1(d,o.transformResults||[])}(i,t))):[]}function D1(r,t){return{documents:[O0(r,t.path)]}}function C1(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=O0(r,o);const c=function(y){if(y.length!==0)return L0(Mi.create(y,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(D){return{field:Ma(D.field),direction:I1(D.dir)}}(E))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const m=Pd(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:i,parent:o}}function x1(r){let t=A1(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Zt(a===1);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=function(S){const D=U0(S);return D instanceof Mi&&f0(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(D=>function(K){return new Ac(Ua(K.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction))}(D))}(i.orderBy));let m=null;i.limit&&(m=function(S){let D;return D=typeof S=="object"?S.value:S,kc(D)?null:D}(i.limit));let p=null;i.startAt&&(p=function(S){const D=!!S.before,O=S.values||[];return new bc(O,D)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const D=!S.before,O=S.values||[];return new bc(O,D)}(i.endAt)),YS(t,o,d,c,m,"F",p,y)}function N1(r,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function U0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ua(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ua(i.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});default:return At()}}(r):r.fieldFilter!==void 0?function(i){return Pe.create(Ua(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Mi.create(i.compositeFilter.filters.map(a=>U0(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At()}}(i.compositeFilter.op))}(r):At()}function I1(r){return v1[r]}function V1(r){return _1[r]}function O1(r){return E1[r]}function Ma(r){return{fieldPath:r.canonicalString()}}function Ua(r){return sn.fromServerFormat(r.fieldPath)}function L0(r){return r instanceof Pe?function(i){if(i.op==="=="){if(Vv(i.value))return{unaryFilter:{field:Ma(i.field),op:"IS_NAN"}};if(Iv(i.value))return{unaryFilter:{field:Ma(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Vv(i.value))return{unaryFilter:{field:Ma(i.field),op:"IS_NOT_NAN"}};if(Iv(i.value))return{unaryFilter:{field:Ma(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(i.field),op:V1(i.op),value:i.value}}}(r):r instanceof Mi?function(i){const a=i.getFilters().map(o=>L0(o));return a.length===1?a[0]:{compositeFilter:{op:O1(i.op),filters:a}}}(r):At()}function M1(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function z0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,i,a,o,c=St.min(),d=St.min(),m=an.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t){this.Tt=t}}function L1(r){const t=x1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.Tn=new P1}addToCollectionParentIndex(t,i){return this.Tn.add(i),nt.resolve()}getCollectionParents(t,i){return nt.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return nt.resolve()}deleteFieldIndex(t,i){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,i){return nt.resolve()}getDocumentsMatchingTarget(t,i){return nt.resolve(null)}getIndexType(t,i){return nt.resolve(0)}getFieldIndexes(t,i){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,i){return nt.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,i){return nt.resolve(Zr.min())}updateCollectionGroup(t,i,a){return nt.resolve()}updateIndexEntries(t,i){return nt.resolve()}}class P1{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Be(fe.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Be(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P0=41943040;class Dn{static withCacheSize(t){return new Dn(t,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(P0,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Ha(0)}static Kn(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="LruGarbageCollector",k1=1048576;function Yv([r,t],[i,a]){const o=Nt(r,i);return o===0?Nt(t,a):o}class B1{constructor(t){this.Hn=t,this.buffer=new Be(Yv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Yv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class j1{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ht(Kv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Za(i)?ht(Kv,"Ignoring IndexedDB error during garbage collection: ",i):await Xa(i)}await this.er(3e5)})}}class q1{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return nt.resolve(Pc.ae);const a=new B1(i);return this.tr.forEachTarget(t,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.tr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(Fv)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fv):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let a,o,c,d,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(a=S,m=Date.now(),this.removeTargets(t,a,i))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(S=>(y=Date.now(),Va()<=qt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function H1(r,t){return new q1(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.changes=new Bs(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?nt.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(a!==null&&co(a.mutation,o,zn.empty(),ke.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Lt()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Lt()){const o=zs();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,a).next(c=>{let d=io();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const a=zs();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Lt()))}populateOverlays(t,i,a){const o=[];return a.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((d,m)=>{i.set(d,m)})})}computeViews(t,i,a,o){let c=mr();const d=uo(),m=function(){return uo()}();return i.forEach((p,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof rs)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),co(E.mutation,y,E.mutation.getFieldMask(),ke.now())):d.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var S;return m.set(y,new Q1(E,(S=d.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,i){const a=uo();let o=new me((d,m)=>d-m),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const m of d)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=a.get(p)||zn.empty();E=m.applyToLocalView(y,E),a.set(p,E);const S=(o.get(m.batchId)||Lt()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=_0();E.forEach(D=>{if(!c.has(D)){const O=R0(i.get(D),a.get(D));O!==null&&S.set(D,O),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return nt.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,o){return function(d){return _t.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):XS(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):nt.resolve(zs());let m=vo,p=c;return d.next(y=>nt.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(t,E).next(D=>{p=p.insert(E,D)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,p,y,Lt())).next(E=>({batchId:m,changes:v0(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new _t(i)).next(a=>{let o=io();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=io();return this.indexManager.getCollectionParents(t,c).next(m=>nt.forEach(m,p=>{const y=function(S,D){return new jc(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next(E=>{E.forEach((S,D)=>{d=d.insert(S,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,fn.newInvalidDocument(E)))});let m=io();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&co(E.mutation,y,zn.empty(),ke.now()),Gc(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return nt.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}}(i)),nt.resolve()}getNamedQuery(t,i){return nt.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:L1(o.bundledQuery),readTime:Ii(o.readTime)}}(i)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this.overlays=new me(_t.comparator),this.Rr=new Map}getOverlay(t,i){return nt.resolve(this.overlays.get(i))}getOverlays(t,i){const a=zs();return nt.forEach(i,o=>this.getOverlay(t,o).next(c=>{c!==null&&a.set(o,c)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((o,c)=>{this.Et(t,i,c)}),nt.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(a)),nt.resolve()}getOverlaysForCollection(t,i,a){const o=zs(),c=i.length+1,d=new _t(i.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>a&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new me((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=zs(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=zs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return nt.resolve(m)}Et(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new d1(i,a));let c=this.Rr.get(i);c===void 0&&(c=Lt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this.Vr=new Be(Ke.mr),this.gr=new Be(Ke.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const a=new Ke(t,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.wr(new Ke(t,i))}Sr(t,i){t.forEach(a=>this.removeReference(a,i))}br(t){const i=new _t(new fe([])),a=new Ke(i,t),o=new Ke(i,t+1),c=[];return this.gr.forEachInRange([a,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new _t(new fe([])),a=new Ke(i,t),o=new Ke(i,t+1);let c=Lt();return this.gr.forEachInRange([a,o],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Ke(t,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ke{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return _t.comparator(t.key,i.key)||Nt(t.Cr,i.Cr)}static pr(t,i){return Nt(t.Cr,i.Cr)||_t.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Be(Ke.mr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new h1(c,i,a,o);this.mutationQueue.push(d);for(const m of o)this.Mr=this.Mr.add(new Ke(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(d)}lookupMutationBatch(t,i){return nt.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Nr(a),c=o<0?0:o;return nt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?sm:this.Fr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ke(i,0),o=new Ke(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([a,o],d=>{const m=this.Or(d.Cr);c.push(m)}),nt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Be(Nt);return i.forEach(o=>{const c=new Ke(o,0),d=new Ke(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],m=>{a=a.add(m.Cr)})}),nt.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;_t.isDocumentKey(c)||(c=c.child(""));const d=new Ke(new _t(c),0);let m=new Be(Nt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},d),nt.resolve(this.Br(m))}Br(t){const i=[];return t.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Zt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return nt.forEach(i.mutations,o=>{const c=new Ke(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,i){const a=new Ke(i,0),o=this.Mr.firstAfterOrEqual(a);return nt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(t){this.kr=t,this.docs=function(){return new me(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return nt.resolve(a?a.document.mutableCopy():fn.newInvalidDocument(i))}getEntries(t,i){let a=mr();return i.forEach(o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():fn.newInvalidDocument(o))}),nt.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=mr();const d=i.path,m=new _t(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||wS(RS(E),a)<=0||(o.has(E.key)||Gc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return nt.resolve(c)}getAllFromCollectionGroup(t,i,a,o){At()}qr(t,i){return nt.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new J1(this)}getSize(t){return nt.resolve(this.size)}}class J1 extends G1{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(a)}),nt.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.persistence=t,this.Qr=new Bs(i=>om(i),um),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.$r=0,this.Ur=new mm,this.targetCount=0,this.Kr=Ha.Un()}forEachTarget(t,i){return this.Qr.forEach((a,o)=>i(o)),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),nt.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new Ha(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,nt.resolve()}updateTargetData(t,i){return this.zn(i),nt.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.Qr.forEach((d,m)=>{m.sequenceNumber<=i&&a.get(m.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),nt.waitFor(c).next(()=>o)}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,i){const a=this.Qr.get(i)||null;return nt.resolve(a)}addMatchingKeys(t,i,a){return this.Ur.yr(i,a),nt.resolve()}removeMatchingKeys(t,i,a){this.Ur.Sr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(t,d))}),nt.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),nt.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Ur.vr(i);return nt.resolve(a)}containsKey(t,i){return nt.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Pc(0),this.zr=!1,this.zr=!0,this.jr=new X1,this.referenceDelegate=t(this),this.Hr=new W1(this),this.indexManager=new z1,this.remoteDocumentCache=function(o){return new $1(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new U1(i),this.Yr=new K1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Y1,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.Wr[t.toKey()];return a||(a=new Z1(i,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,a){ht("MemoryPersistence","Starting transaction:",t);const o=new tR(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(t,i){return nt.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,i)))}}class tR extends CS{constructor(t){super(),this.currentSequenceNumber=t}}class gm{constructor(t){this.persistence=t,this.ti=new mm,this.ni=null}static ri(t){return new gm(t)}get ii(){if(this.ni)return this.ni;throw At()}addReference(t,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),nt.resolve()}removeReference(t,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),nt.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),nt.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>a.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.ii,a=>{const o=_t.fromPath(a);return this.si(t,o).next(c=>{c||i.removeEntry(o,St.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return nt.or([()=>nt.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class Dc{constructor(t,i){this.persistence=t,this.oi=new Bs(a=>IS(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=H1(this,i)}static ri(t,i){return new Dc(t,i)}Zr(){}Xr(t){return nt.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(o=>a+o))}sr(t){let i=0;return this.rr(t,a=>{i++}).next(()=>i)}rr(t,i){return nt.forEach(this.oi,(a,o)=>this.ar(t,a,o).next(c=>c?nt.resolve():i(o)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(t,d=>this.ar(t,d,i).next(m=>{m||(a++,c.removeEntry(d,St.min()))})).next(()=>c.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),nt.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.oi.set(a,t.currentSequenceNumber),nt.resolve()}removeReference(t,i,a){return this.oi.set(a,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),nt.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=uc(t.data.value)),i}ar(t,i,a){return nt.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.oi.get(i);return nt.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(t,i){let a=Lt(),o=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new pm(t,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Xb()?8:xS(Kb())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,i,o,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new eR;return this._s(t,i,d).next(m=>{if(c.result=m,this.Xi)return this.us(t,i,d,m.size)})}).next(()=>c.result)}us(t,i,a,o){return a.documentReadCount<this.es?(Va()<=qt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Oa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),nt.resolve()):(Va()<=qt.DEBUG&&ht("QueryEngine","Query:",Oa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(Va()<=qt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Oa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(i))):nt.resolve())}rs(t,i){if(Lv(i))return nt.resolve(null);let a=xi(i);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=zd(i,null,"F"),a=xi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(c=>{const d=Lt(...c);return this.ns.getDocuments(t,d).next(m=>this.indexManager.getMinOffset(t,a).next(p=>{const y=this.cs(i,m);return this.ls(i,y,d,p.readTime)?this.rs(t,zd(i,null,"F")):this.hs(t,y,i,p)}))})))}ss(t,i,a,o){return Lv(i)||o.isEqual(St.min())?nt.resolve(null):this.ns.getDocuments(t,a).next(c=>{const d=this.cs(i,c);return this.ls(i,d,a,o)?nt.resolve(null):(Va()<=qt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Oa(i)),this.hs(t,d,i,SS(o,vo)).next(m=>m))})}cs(t,i){let a=new Be(p0(t));return i.forEach((o,c)=>{Gc(t,c)&&(a=a.add(c))}),a}ls(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(t,i,a){return Va()<=qt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Oa(i)),this.ns.getDocumentsMatchingQuery(t,i,Zr.min(),a)}hs(t,i,a,o){return this.ns.getDocumentsMatchingQuery(t,a,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="LocalStore",iR=3e8;class rR{constructor(t,i,a,o){this.persistence=t,this.Ps=i,this.serializer=o,this.Ts=new me(Nt),this.Is=new Bs(c=>om(c),um),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new F1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function sR(r,t,i,a){return new rR(r,t,i,a)}async function B0(r,t){const i=wt(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(c=>(o=c,i.As(t),i.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],m=[];let p=Lt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(a,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:m}))})})}function aR(r,t){const i=wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const S=y.batch,D=S.keys();let O=nt.resolve();return D.forEach(K=>{O=O.next(()=>E.getEntry(p,K)).next(q=>{const k=y.docVersions.get(K);Zt(k!==null),q.version.compareTo(k)<0&&(S.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),E.addEntry(q)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(i,a,t,c).next(()=>c.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Lt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>i.localDocuments.getDocuments(a,o))})}function j0(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function lR(r,t){const i=wt(r),a=t.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];t.targetChanges.forEach((E,S)=>{const D=o.get(S);if(!D)return;m.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,S)));let O=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?O=O.withResumeToken(an.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,a)),o=o.insert(S,O),function(q,k,st){return q.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=iR?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0}(D,O,E)&&m.push(i.Hr.updateTargetData(c,O))});let p=mr(),y=Lt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(oR(c,d,t.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!a.isEqual(St.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,a));m.push(E)}return nt.waitFor(m).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function oR(r,t,i){let a=Lt(),o=Lt();return i.forEach(c=>a=a.add(c)),t.getEntries(r,a).next(c=>{let d=mr();return i.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),d=d.insert(m,p)):ht(ym,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function uR(r,t){const i=wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=sm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function cR(r,t){const i=wt(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Hr.getTargetData(a,t).next(c=>c?(o=c,nt.resolve(o)):i.Hr.allocateTargetId(a).next(d=>(o=new Gr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(t,a.targetId)),a})}async function qd(r,t,i){const a=wt(r),o=a.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Za(d))throw d;ht(ym,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ts=a.Ts.remove(t),a.Is.delete(o.target)}function Xv(r,t,i){const a=wt(r);let o=St.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const S=wt(p),D=S.Is.get(E);return D!==void 0?nt.resolve(S.Ts.get(D)):S.Hr.getTargetData(y,E)}(a,d,xi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,t,i?o:St.min(),i?c:Lt())).next(m=>(fR(a,$S(t),m),{documents:m,gs:c})))}function fR(r,t,i){let a=r.Es.get(t)||St.min();i.forEach((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),r.Es.set(t,a)}class Zv{constructor(){this.activeTargetIds=i1()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hR{constructor(){this.ho=new Zv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,a){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Zv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="ConnectivityMonitor";class Jv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ht($v,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ht($v,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function Hd(){return ac===null?ac=function(){return 268435456+Math.round(2147483648*Math.random())}():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="RestConnection",mR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gR{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Ec?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(t,i,a,o,c){const d=Hd(),m=this.bo(t,i.toUriEncodedString());ht(vd,`Sending RPC '${t}' ${d}:`,m,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(t,m,p,a).then(y=>(ht(vd,`Received RPC '${t}' ${d}: `,y),y),y=>{throw ka(vd,`RPC '${t}' ${d} failed with error: `,y,"url: ",m,"request:",a),y})}Co(t,i,a,o,c,d){return this.So(t,i,a,o,c)}Do(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ya}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>t[c]=o),a&&a.headers.forEach((o,c)=>t[c]=o)}bo(t,i){const a=mR[t];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class yR extends gR{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,a,o){const c=Hd();return new Promise((d,m)=>{const p=new Q_;p.setWithCredentials(!0),p.listenOnce(F_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case oc.NO_ERROR:const E=p.getResponseJson();ht(un,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case oc.TIMEOUT:ht(un,`RPC '${t}' ${c} timed out`),m(new vt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const S=p.getStatus();if(ht(un,`RPC '${t}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const O=D==null?void 0:D.error;if(O&&O.status&&O.message){const K=function(k){const st=k.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(st)>=0?st:rt.UNKNOWN}(O.status);m(new vt(K,O.message))}else m(new vt(rt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new vt(rt.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{ht(un,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(o);ht(un,`RPC '${t}' ${c} sending request:`,o),p.send(i,"POST",y,a,15)})}Wo(t,i,a){const o=Hd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=X_(),m=Y_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const E=c.join("");ht(un,`Creating RPC '${t}' stream ${o}: ${E}`,p);const S=d.createWebChannel(E,p);let D=!1,O=!1;const K=new pR({Fo:k=>{O?ht(un,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(D||(ht(un,`Opening RPC '${t}' stream ${o} transport.`),S.open(),D=!0),ht(un,`RPC '${t}' stream ${o} sending:`,k),S.send(k))},Mo:()=>S.close()}),q=(k,st,lt)=>{k.listen(st,H=>{try{lt(H)}catch(at){setTimeout(()=>{throw at},0)}})};return q(S,no.EventType.OPEN,()=>{O||(ht(un,`RPC '${t}' stream ${o} transport opened.`),K.Qo())}),q(S,no.EventType.CLOSE,()=>{O||(O=!0,ht(un,`RPC '${t}' stream ${o} transport closed`),K.Uo())}),q(S,no.EventType.ERROR,k=>{O||(O=!0,ka(un,`RPC '${t}' stream ${o} transport errored:`,k),K.Uo(new vt(rt.UNAVAILABLE,"The operation could not be completed")))}),q(S,no.EventType.MESSAGE,k=>{var st;if(!O){const lt=k.data[0];Zt(!!lt);const H=lt,at=(H==null?void 0:H.error)||((st=H[0])===null||st===void 0?void 0:st.error);if(at){ht(un,`RPC '${t}' stream ${o} received error:`,at);const tt=at.status;let W=function(w){const I=Ne[w];if(I!==void 0)return C0(I)}(tt),R=at.message;W===void 0&&(W=rt.INTERNAL,R="Unknown error status: "+tt+" with message "+at.message),O=!0,K.Uo(new vt(W,R)),S.close()}else ht(un,`RPC '${t}' stream ${o} received:`,lt),K.Ko(lt)}}),q(m,K_.STAT_EVENT,k=>{k.stat===Id.PROXY?ht(un,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===Id.NOPROXY&&ht(un,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{K.$o()},0),K}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r){return new T1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=a,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="PersistentStream";class H0{constructor(t,i,a,o,c,d,m,p){this.Ti=t,this.n_=a,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new q0(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===rt.RESOURCE_EXHAUSTED?(dr(i.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{t(()=>{const o=new vt(rt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(t,i){const a=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ht(Wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(ht(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vR extends H0{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=S1(this.serializer,t),a=function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Ii(d.readTime):St.min()}(t);return this.listener.p_(i,a)}y_(t){const i={};i.database=jd(this.serializer),i.addTarget=function(c,d){let m;const p=d.target;if(m=Ld(p)?{documents:D1(c,p)}:{query:C1(c,p).ht},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=I0(c,d.resumeToken);const y=Pd(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){m.readTime=wc(c,d.snapshotVersion.toTimestamp());const y=Pd(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const a=N1(this.serializer,t);a&&(i.labels=a),this.I_(i)}w_(t){const i={};i.database=jd(this.serializer),i.removeTarget=t,this.I_(i)}}class _R extends H0{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Zt(!!t.streamToken),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Zt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=w1(t.writeResults,t.commitTime),a=Ii(t.commitTime);return this.listener.v_(a,i)}C_(){const t={};t.database=jd(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>R1(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{}class TR extends ER{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new vt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(t,kd(i,a),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new vt(rt.UNKNOWN,c.toString())})}Co(t,i,a,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Co(t,kd(i,a),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new vt(rt.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(dr(i),this.N_=!1):ht("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class AR{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{a.enqueueAndForget(async()=>{js(this)&&(ht(ks,"Restarting streams for network reachability change."),await async function(p){const y=wt(p);y.W_.add(4),await xo(y),y.j_.set("Unknown"),y.W_.delete(4),await Xc(y)}(this))})}),this.j_=new bR(a,o)}}async function Xc(r){if(js(r))for(const t of r.G_)await t(!0)}async function xo(r){for(const t of r.G_)await t(!1)}function G0(r,t){const i=wt(r);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),Tm(i)?Em(i):$a(i).c_()&&_m(i,t))}function vm(r,t){const i=wt(r),a=$a(i);i.K_.delete(t),a.c_()&&Q0(i,t),i.K_.size===0&&(a.c_()?a.P_():js(i)&&i.j_.set("Unknown"))}function _m(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}$a(r).y_(t)}function Q0(r,t){r.H_.Ne(t),$a(r).w_(t)}function Em(r){r.H_=new y1({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),$a(r).start(),r.j_.B_()}function Tm(r){return js(r)&&!$a(r).u_()&&r.K_.size>0}function js(r){return wt(r).W_.size===0}function F0(r){r.H_=void 0}async function SR(r){r.j_.set("Online")}async function RR(r){r.K_.forEach((t,i)=>{_m(r,t)})}async function wR(r,t){F0(r),Tm(r)?(r.j_.q_(t),Em(r)):r.j_.set("Unknown")}async function DR(r,t,i){if(r.j_.set("Online"),t instanceof N0&&t.state===2&&t.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.K_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(a){ht(ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Cc(r,a)}else if(t instanceof hc?r.H_.We(t):t instanceof x0?r.H_.Ze(t):r.H_.je(t),!i.isEqual(St.min()))try{const a=await j0(r.localStore);i.compareTo(a)>=0&&await function(c,d){const m=c.H_.ot(d);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.K_.get(y);E&&c.K_.set(y,E.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,y)=>{const E=c.K_.get(p);if(!E)return;c.K_.set(p,E.withResumeToken(an.EMPTY_BYTE_STRING,E.snapshotVersion)),Q0(c,p);const S=new Gr(E.target,p,y,E.sequenceNumber);_m(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(a){ht(ks,"Failed to raise snapshot:",a),await Cc(r,a)}}async function Cc(r,t,i){if(!Za(t))throw t;r.W_.add(1),await xo(r),r.j_.set("Offline"),i||(i=()=>j0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ht(ks,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Xc(r)})}function K0(r,t){return t().catch(i=>Cc(r,i,t))}async function Zc(r){const t=wt(r),i=ts(t);let a=t.U_.length>0?t.U_[t.U_.length-1].batchId:sm;for(;CR(t);)try{const o=await uR(t.localStore,a);if(o===null){t.U_.length===0&&i.P_();break}a=o.batchId,xR(t,o)}catch(o){await Cc(t,o)}Y0(t)&&X0(t)}function CR(r){return js(r)&&r.U_.length<10}function xR(r,t){r.U_.push(t);const i=ts(r);i.c_()&&i.S_&&i.b_(t.mutations)}function Y0(r){return js(r)&&!ts(r).u_()&&r.U_.length>0}function X0(r){ts(r).start()}async function NR(r){ts(r).C_()}async function IR(r){const t=ts(r);for(const i of r.U_)t.b_(i.mutations)}async function VR(r,t,i){const a=r.U_.shift(),o=fm.from(a,t,i);await K0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Zc(r)}async function OR(r,t){t&&ts(r).S_&&await async function(a,o){if(function(d){return g1(d)&&d!==rt.ABORTED}(o.code)){const c=a.U_.shift();ts(a).h_(),await K0(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Zc(a)}}(r,t),Y0(r)&&X0(r)}async function t_(r,t){const i=wt(r);i.asyncQueue.verifyOperationInProgress(),ht(ks,"RemoteStore received new credentials");const a=js(i);i.W_.add(3),await xo(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Xc(i)}async function MR(r,t){const i=wt(r);t?(i.W_.delete(2),await Xc(i)):t||(i.W_.add(2),await xo(i),i.j_.set("Unknown"))}function $a(r){return r.J_||(r.J_=function(i,a,o){const c=wt(i);return c.M_(),new vR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:SR.bind(null,r),No:RR.bind(null,r),Lo:wR.bind(null,r),p_:DR.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Tm(r)?Em(r):r.j_.set("Unknown")):(await r.J_.stop(),F0(r))})),r.J_}function ts(r){return r.Y_||(r.Y_=function(i,a,o){const c=wt(i);return c.M_(),new _R(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:NR.bind(null,r),Lo:OR.bind(null,r),D_:IR.bind(null,r),v_:VR.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Zc(r)):(await r.Y_.stop(),r.U_.length>0&&(ht(ks,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,m=new bm(t,i,d,o,c);return m.start(a),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Am(r,t){if(dr("AsyncQueue",`${t}: ${r}`),Za(r))return new vt(rt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{static emptySet(t){return new za(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||_t.comparator(i.key,a.key):(i,a)=>_t.comparator(i.key,a.key),this.keyedMap=io(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof za)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new za;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.Z_=new me(_t.comparator)}track(t){const i=t.doc.key,a=this.Z_.get(i);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(i):t.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):At():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,a)=>{t.push(a)}),t}}class Ga{constructor(t,i,a,o,c,d,m,p,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach(m=>{d.push({type:0,doc:m})}),new Ga(t,i,za.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class LR{constructor(){this.queries=n_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=wt(i),c=o.queries;o.queries=n_(),c.forEach((d,m)=>{for(const p of m.ta)p.onError(a)})})(this,new vt(rt.ABORTED,"Firestore shutting down"))}}function n_(){return new Bs(r=>g0(r),Hc)}async function Z0(r,t){const i=wt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.na()&&t.ra()&&(a=2):(c=new UR,a=t.ra()?0:1);try{switch(a){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const m=Am(d,`Initialization of query '${Oa(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&Sm(i)}async function $0(r,t){const i=wt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=t.ra()?0:1:!c.na()&&t.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function zR(r,t){const i=wt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const m of d.ta)m.oa(o)&&(a=!0);d.ea=o}}a&&Sm(i)}function PR(r,t,i){const a=wt(r),o=a.queries.get(t);if(o)for(const c of o.ta)c.onError(i);a.queries.delete(t)}function Sm(r){r.ia.forEach(t=>{t.next()})}var Gd,i_;(i_=Gd||(Gd={}))._a="default",i_.Cache="cache";class J0{constructor(t,i,a){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Ga(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=Ga.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t){this.key=t}}class tE{constructor(t){this.key=t}}class kR{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Lt(),this.mutatedKeys=Lt(),this.ya=p0(t),this.wa=new za(this.ya)}get Sa(){return this.fa}ba(t,i){const a=i?i.Da:new e_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const D=o.get(E),O=Gc(this.query,S)?S:null,K=!!D&&this.mutatedKeys.has(D.key),q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let k=!1;D&&O?D.data.isEqual(O.data)?K!==q&&(a.track({type:3,doc:O}),k=!0):this.va(D,O)||(a.track({type:2,doc:O}),k=!0,(p&&this.ya(O,p)>0||y&&this.ya(O,y)<0)&&(m=!0)):!D&&O?(a.track({type:0,doc:O}),k=!0):D&&!O&&(a.track({type:1,doc:D}),k=!0,(p||y)&&(m=!0)),k&&(O?(d=d.add(O),c=q?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{wa:d,Da:a,ls:m,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((E,S)=>function(O,K){const q=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return q(O)-q(K)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(a),o=o!=null&&o;const m=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Ga(this.query,t.wa,c,d,t.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new e_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Lt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return t.forEach(a=>{this.pa.has(a)||i.push(new tE(a))}),this.pa.forEach(a=>{t.has(a)||i.push(new W0(a))}),i}Oa(t){this.fa=t.gs,this.pa=Lt();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return Ga.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Rm="SyncEngine";class BR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class jR{constructor(t){this.key=t,this.Ba=!1}}class qR{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Bs(m=>g0(m),Hc),this.qa=new Map,this.Qa=new Set,this.$a=new me(_t.comparator),this.Ua=new Map,this.Ka=new mm,this.Wa={},this.Ga=new Map,this.za=Ha.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function HR(r,t,i=!0){const a=aE(r);let o;const c=a.ka.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await eE(a,t,i,!0),o}async function GR(r,t){const i=aE(r);await eE(i,t,!0,!1)}async function eE(r,t,i,a){const o=await cR(r.localStore,xi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let m;return a&&(m=await QR(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&G0(r.remoteStore,o),m}async function QR(r,t,i,a,o){r.Ha=(S,D,O)=>async function(q,k,st,lt){let H=k.view.ba(st);H.ls&&(H=await Xv(q.localStore,k.query,!1).then(({documents:R})=>k.view.ba(R,H)));const at=lt&&lt.targetChanges.get(k.targetId),tt=lt&&lt.targetMismatches.get(k.targetId)!=null,W=k.view.applyChanges(H,q.isPrimaryClient,at,tt);return s_(q,k.targetId,W.Ma),W.snapshot}(r,S,D,O);const c=await Xv(r.localStore,t,!0),d=new kR(t,c.gs),m=d.ba(c.documents),p=Co.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(m,r.isPrimaryClient,p);s_(r,i,y.Ma);const E=new BR(t,i,d);return r.ka.set(t,E),r.qa.has(i)?r.qa.get(i).push(t):r.qa.set(i,[t]),y.snapshot}async function FR(r,t,i){const a=wt(r),o=a.ka.get(t),c=a.qa.get(o.targetId);if(c.length>1)return a.qa.set(o.targetId,c.filter(d=>!Hc(d,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await qd(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&vm(a.remoteStore,o.targetId),Qd(a,o.targetId)}).catch(Xa)):(Qd(a,o.targetId),await qd(a.localStore,o.targetId,!0))}async function KR(r,t){const i=wt(r),a=i.ka.get(t),o=i.qa.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),vm(i.remoteStore,a.targetId))}async function YR(r,t,i){const a=ew(r);try{const o=await function(d,m){const p=wt(d),y=ke.now(),E=m.reduce((O,K)=>O.add(K.key),Lt());let S,D;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let K=mr(),q=Lt();return p.ds.getEntries(O,E).next(k=>{K=k,K.forEach((st,lt)=>{lt.isValidDocument()||(q=q.add(st))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,K)).next(k=>{S=k;const st=[];for(const lt of m){const H=c1(lt,S.get(lt.key).overlayedDocument);H!=null&&st.push(new rs(lt.key,H,o0(H.value.mapValue),Ni.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,st,m)}).next(k=>{D=k;const st=k.applyToLocalDocumentSet(S,q);return p.documentOverlayCache.saveOverlays(O,k.batchId,st)})}).then(()=>({batchId:D.batchId,changes:v0(S)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(d,m,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new me(Nt)),y=y.insert(m,p),d.Wa[d.currentUser.toKey()]=y}(a,o.batchId,i),await No(a,o.changes),await Zc(a.remoteStore)}catch(o){const c=Am(o,"Failed to persist write");i.reject(c)}}async function nE(r,t){const i=wt(r);try{const a=await lR(i.localStore,t);t.targetChanges.forEach((o,c)=>{const d=i.Ua.get(c);d&&(Zt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Zt(d.Ba):o.removedDocuments.size>0&&(Zt(d.Ba),d.Ba=!1))}),await No(i,a,t)}catch(a){await Xa(a)}}function r_(r,t,i){const a=wt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((c,d)=>{const m=d.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(d,m){const p=wt(d);p.onlineState=m;let y=!1;p.queries.forEach((E,S)=>{for(const D of S.ta)D.sa(m)&&(y=!0)}),y&&Sm(p)}(a.eventManager,t),o.length&&a.La.p_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function XR(r,t,i){const a=wt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Ua.get(t),c=o&&o.key;if(c){let d=new me(_t.comparator);d=d.insert(c,fn.newNoDocument(c,St.min()));const m=Lt().add(c),p=new Kc(St.min(),new Map,new me(Nt),d,m);await nE(a,p),a.$a=a.$a.remove(c),a.Ua.delete(t),wm(a)}else await qd(a.localStore,t,!1).then(()=>Qd(a,t,i)).catch(Xa)}async function ZR(r,t){const i=wt(r),a=t.batch.batchId;try{const o=await aR(i.localStore,t);rE(i,a,null),iE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await No(i,o)}catch(o){await Xa(o)}}async function $R(r,t,i){const a=wt(r);try{const o=await function(d,m){const p=wt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(S=>(Zt(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(a.localStore,t);rE(a,t,i),iE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await No(a,o)}catch(o){await Xa(o)}}function iE(r,t){(r.Ga.get(t)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(t)}function rE(r,t,i){const a=wt(r);let o=a.Wa[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Wa[a.currentUser.toKey()]=o}}function Qd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.qa.get(t))r.ka.delete(a),i&&r.La.Ja(a,i);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(a=>{r.Ka.containsKey(a)||sE(r,a)})}function sE(r,t){r.Qa.delete(t.path.canonicalString());const i=r.$a.get(t);i!==null&&(vm(r.remoteStore,i),r.$a=r.$a.remove(t),r.Ua.delete(i),wm(r))}function s_(r,t,i){for(const a of i)a instanceof W0?(r.Ka.addReference(a.key,t),JR(r,a)):a instanceof tE?(ht(Rm,"Document no longer in limbo: "+a.key),r.Ka.removeReference(a.key,t),r.Ka.containsKey(a.key)||sE(r,a.key)):At()}function JR(r,t){const i=t.key,a=i.path.canonicalString();r.$a.get(i)||r.Qa.has(a)||(ht(Rm,"New document in limbo: "+i),r.Qa.add(a),wm(r))}function wm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const i=new _t(fe.fromString(t)),a=r.za.next();r.Ua.set(a,new jR(i)),r.$a=r.$a.insert(i,a),G0(r.remoteStore,new Gr(xi(qc(i.path)),a,"TargetPurposeLimboResolution",Pc.ae))}}async function No(r,t,i){const a=wt(r),o=[],c=[],d=[];a.ka.isEmpty()||(a.ka.forEach((m,p)=>{d.push(a.Ha(p,t,i).then(y=>{var E;if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=pm.Yi(p.targetId,y);c.push(S)}}))}),await Promise.all(d),a.La.p_(o),await async function(p,y){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>nt.forEach(y,D=>nt.forEach(D.Hi,O=>E.persistence.referenceDelegate.addReference(S,D.targetId,O)).next(()=>nt.forEach(D.Ji,O=>E.persistence.referenceDelegate.removeReference(S,D.targetId,O)))))}catch(S){if(!Za(S))throw S;ht(ym,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const O=E.Ts.get(D),K=O.snapshotVersion,q=O.withLastLimboFreeSnapshotVersion(K);E.Ts=E.Ts.insert(D,q)}}}(a.localStore,c))}async function WR(r,t){const i=wt(r);if(!i.currentUser.isEqual(t)){ht(Rm,"User change. New user:",t.toKey());const a=await B0(i.localStore,t);i.currentUser=t,function(c,d){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new vt(rt.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await No(i,a.Rs)}}function tw(r,t){const i=wt(r),a=i.Ua.get(t);if(a&&a.Ba)return Lt().add(a.key);{let o=Lt();const c=i.qa.get(t);if(!c)return o;for(const d of c){const m=i.ka.get(d);o=o.unionWith(m.view.Sa)}return o}}function aE(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=nE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=XR.bind(null,t),t.La.p_=zR.bind(null,t.eventManager),t.La.Ja=PR.bind(null,t.eventManager),t}function ew(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ZR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$R.bind(null,t),t}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return sR(this.persistence,new nR,t.initialUser,this.serializer)}Xa(t){return new k0(gm.ri,this.serializer)}Za(t){return new hR}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class nw extends xc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Zt(this.persistence.referenceDelegate instanceof Dc);const a=this.persistence.referenceDelegate.garbageCollector;return new j1(a,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new k0(a=>Dc.ri(a,i),this.serializer)}}class Fd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>r_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=WR.bind(null,this.syncEngine),await MR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new LR}()}createDatastore(t){const i=Yc(t.databaseInfo.databaseId),a=function(c){return new yR(c)}(t.databaseInfo);return function(c,d,m,p){return new TR(c,d,m,p)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,o,c,d,m){return new AR(a,o,c,d,m)}(this.localStore,this.datastore,t.asyncQueue,i=>r_(this.syncEngine,i,0),function(){return Jv.D()?new Jv:new dR}())}createSyncEngine(t,i){return function(o,c,d,m,p,y,E){const S=new qR(o,c,d,m,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const c=wt(o);ht(ks,"RemoteStore shutting down."),c.W_.add(5),await xo(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Fd.provider={build:()=>new Fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):dr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class iw{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=J_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{ht(es,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(ht(es,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Am(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Ed(r,t){r.asyncQueue.verifyOperationInProgress(),ht(es,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await B0(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function a_(r,t){r.asyncQueue.verifyOperationInProgress();const i=await rw(r);ht(es,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(a=>t_(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>t_(t.remoteStore,o)),r._onlineComponents=t}async function rw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(es,"Using user provided OfflineComponentProvider");try{await Ed(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===rt.FAILED_PRECONDITION||o.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ka("Error using user provided cache. Falling back to memory cache: "+i),await Ed(r,new xc)}}else ht(es,"Using default OfflineComponentProvider"),await Ed(r,new nw(void 0));return r._offlineComponents}async function oE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(es,"Using user provided OnlineComponentProvider"),await a_(r,r._uninitializedComponentsProvider._online)):(ht(es,"Using default OnlineComponentProvider"),await a_(r,new Fd))),r._onlineComponents}function sw(r){return oE(r).then(t=>t.syncEngine)}async function Kd(r){const t=await oE(r),i=t.eventManager;return i.onListen=HR.bind(null,t.syncEngine),i.onUnlisten=FR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=GR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=KR.bind(null,t.syncEngine),i}function aw(r,t,i={}){const a=new Yr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,y){const E=new lE({next:D=>{E.su(),d.enqueueAndForget(()=>$0(c,S));const O=D.docs.has(m);!O&&D.fromCache?y.reject(new vt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&D.fromCache&&p&&p.source==="server"?y.reject(new vt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new J0(qc(m.path),E,{includeMetadataChanges:!0,Ta:!0});return Z0(c,S)}(await Kd(r),r.asyncQueue,t,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(r,t,i){if(!i)throw new vt(rt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function lw(r,t,i,a){if(t===!0&&a===!0)throw new vt(rt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function o_(r){if(!_t.isDocumentKey(r))throw new vt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function u_(r){if(_t.isDocumentKey(r))throw new vt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Dm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":At()}function Vi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new vt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(r);throw new vt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="firestore.googleapis.com",c_=!0;class f_{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new vt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fE,this.ssl=c_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:c_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=P0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<k1)throw new vt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new vt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new vt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new vt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $c{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new gS;switch(a.type){case"firstParty":return new _S(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new vt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=l_.get(i);a&&(ht("ComponentProvider","Removing Datastore"),l_.delete(i),a.terminate())}(this),Promise.resolve()}}function ow(r,t,i,a={}){var o;const c=(r=Vi(r,$c))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${i}`;c.host!==fE&&c.host!==m&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:a});if(!pc(p,d)&&(r._setSettings(p),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=cn.MOCK_USER;else{y=Fb(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new vt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new cn(S)}r._authCredentials=new pS(new Z_(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Jc(this.firestore,t,this._query)}}class En{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new En(this.firestore,t,this._key)}}class Xr extends Jc{constructor(t,i,a){super(t,i,qc(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new En(this.firestore,null,new _t(t))}withConverter(t){return new Xr(this.firestore,t,this._path)}}function hE(r,t,...i){if(r=fr(r),cE("collection","path",t),r instanceof $c){const a=fe.fromString(t,...i);return u_(a),new Xr(r,null,a)}{if(!(r instanceof En||r instanceof Xr))throw new vt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return u_(a),new Xr(r.firestore,null,a)}}function Io(r,t,...i){if(r=fr(r),arguments.length===1&&(t=J_.newId()),cE("doc","path",t),r instanceof $c){const a=fe.fromString(t,...i);return o_(a),new En(r,null,new _t(a))}{if(!(r instanceof En||r instanceof Xr))throw new vt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return o_(a),new En(r.firestore,r instanceof Xr?r.converter:null,new _t(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="AsyncQueue";class d_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new q0(this,"async_queue_retry"),this.Su=()=>{const a=_d();a&&ht(h_,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const i=_d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Yr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Za(t))throw t;ht(h_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const o=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(a);throw dr("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(t,i,a){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const o=bm.createAndSchedule(this,t,i,a,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&At()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}function m_(r){return function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Qa extends $c{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new d_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new d_(t),this._firestoreClient=void 0,await t}}}function uw(r,t){const i=typeof r=="object"?r:nS(),a=typeof r=="string"?r:Ec,o=$A(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Gb("firestore");c&&ow(o,...c)}return o}function Cm(r){if(r._terminated)throw new vt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cw(r),r._firestoreClient}function cw(r){var t,i,a;const o=r._freezeSettings(),c=function(m,p,y,E){return new MS(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,uE(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new iw(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fa(an.fromBase64String(t))}catch(i){throw new vt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fa(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new vt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new vt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new vt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=/^__.*__$/;class hw{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new rs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Do(t,this.data,i,this.fieldTransforms)}}class dE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new rs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function mE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class Vm{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Vm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:a,Qu:!1});return o.$u(t),o}Uu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Nc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(mE(this.Lu)&&fw.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class dw{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Yc(t)}ju(t,i,a,o=!1){return new Vm({Lu:t,methodName:i,zu:a,path:sn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gE(r){const t=r._freezeSettings(),i=Yc(r._databaseId);return new dw(r._databaseId,!!t.ignoreUndefinedProperties,i)}function mw(r,t,i,a,o,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,t,i,o);Om("Data must be an object, but it was:",d,a);const m=pE(a,d);let p,y;if(c.merge)p=new zn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const D=Yd(t,S,i);if(!d.contains(D))throw new vt(rt.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);vE(E,D)||E.push(D)}p=new zn(E),y=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=d.fieldTransforms;return new hw(new Cn(m),p,y)}class tf extends xm{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof tf}}function gw(r,t,i,a){const o=r.ju(1,t,i);Om("Data must be an object, but it was:",o,a);const c=[],d=Cn.empty();is(a,(p,y)=>{const E=Mm(t,p,i);y=fr(y);const S=o.Uu(E);if(y instanceof tf)c.push(E);else{const D=ef(y,S);D!=null&&(c.push(E),d.set(E,D))}});const m=new zn(c);return new dE(d,m,o.fieldTransforms)}function pw(r,t,i,a,o,c){const d=r.ju(1,t,i),m=[Yd(t,a,i)],p=[o];if(c.length%2!=0)throw new vt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)m.push(Yd(t,c[D])),p.push(c[D+1]);const y=[],E=Cn.empty();for(let D=m.length-1;D>=0;--D)if(!vE(y,m[D])){const O=m[D];let K=p[D];K=fr(K);const q=d.Uu(O);if(K instanceof tf)y.push(O);else{const k=ef(K,q);k!=null&&(y.push(O),E.set(O,k))}}const S=new zn(y);return new dE(E,S,d.fieldTransforms)}function ef(r,t){if(yE(r=fr(r)))return Om("Unsupported field value:",t,r),pE(r,t);if(r instanceof xm)return function(a,o){if(!mE(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,o){const c=[];let d=0;for(const m of a){let p=ef(m,o.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(a,o){if((a=fr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return r1(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ke.fromDate(a);return{timestampValue:wc(o.serializer,c)}}if(a instanceof ke){const c=new ke(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:wc(o.serializer,c)}}if(a instanceof Nm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fa)return{bytesValue:I0(o.serializer,a._byteString)};if(a instanceof En){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:dm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Im)return function(d,m){return{mapValue:{fields:{[a0]:{stringValue:l0},[Tc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return cm(m.serializer,y)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Dm(a)}`)}(r,t)}function pE(r,t){const i={};return t0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(r,(a,o)=>{const c=ef(o,t.qu(a));c!=null&&(i[a]=c)}),{mapValue:{fields:i}}}function yE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ke||r instanceof Nm||r instanceof Fa||r instanceof En||r instanceof xm||r instanceof Im)}function Om(r,t,i){if(!yE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=Dm(i);throw a==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+a)}}function Yd(r,t,i){if((t=fr(t))instanceof Wc)return t._internalPath;if(typeof t=="string")return Mm(r,t);throw Nc("Field path arguments must be of type string or ",r,!1,void 0,i)}const yw=new RegExp("[~\\*/\\[\\]]");function Mm(r,t,i){if(t.search(yw)>=0)throw Nc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Wc(...t.split("."))._internalPath}catch{throw Nc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Nc(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new vt(rt.INVALID_ARGUMENT,m+r+p)}function vE(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new vw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(EE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class vw extends _E{data(){return super.data()}}function EE(r,t){return typeof t=="string"?Mm(r,t):t instanceof Wc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new vt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ew{convertValue(t,i="none"){switch(Wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw At()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return is(t,(o,c)=>{a[o]=this.convertValue(c,i)}),a}convertVectorValue(t){var i,a,o;const c=(o=(a=(i=t.fields)===null||i===void 0?void 0:i[Tc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>Ae(d.doubleValue));return new Im(c)}convertGeoPoint(t){return new Nm(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Bc(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(_o(t));default:return null}}convertTimestamp(t){const i=$r(t);return new ke(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=fe.fromString(t);Zt(z0(a));const o=new Eo(a.get(1),a.get(3)),c=new _t(a.popFirst(5));return o.isEqual(i)||dr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class TE extends _E{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(EE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class dc extends TE{data(t={}){return super.data(t)}}class bw{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new so(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(a=>{t.call(i,new dc(this._firestore,this._userDataWriter,a.key,a,new so(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new vt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const p=new dc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new so(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new dc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new so(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:Aw(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Aw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(r){r=Vi(r,En);const t=Vi(r.firestore,Qa);return aw(Cm(t),r._key).then(i=>RE(t,r,i))}class bE extends Ew{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fa(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new En(this.firestore,null,i)}}function AE(r,t,i){r=Vi(r,En);const a=Vi(r.firestore,Qa),o=Tw(r.converter,t,i);return SE(a,[mw(gE(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Ni.none())])}function Zd(r,t,i,...a){r=Vi(r,En);const o=Vi(r.firestore,Qa),c=gE(o);let d;return d=typeof(t=fr(t))=="string"||t instanceof Wc?pw(c,"updateDoc",r._key,t,i,a):gw(c,"updateDoc",r._key,t),SE(o,[d.toMutation(r._key,Ni.exists(!0))])}function nf(r,...t){var i,a,o;r=fr(r);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||m_(t[d])||(c=t[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(m_(t[d])){const S=t[d];t[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),t[d+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),t[d+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,y,E;if(r instanceof En)y=Vi(r.firestore,Qa),E=qc(r._key.path),p={next:S=>{t[d]&&t[d](RE(y,r,S))},error:t[d+1],complete:t[d+2]};else{const S=Vi(r,Jc);y=Vi(S.firestore,Qa),E=S._query;const D=new bE(y);p={next:O=>{t[d]&&t[d](new bw(y,D,S,O))},error:t[d+1],complete:t[d+2]},_w(r._query)}return function(D,O,K,q){const k=new lE(q),st=new J0(O,k,K);return D.asyncQueue.enqueueAndForget(async()=>Z0(await Kd(D),st)),()=>{k.su(),D.asyncQueue.enqueueAndForget(async()=>$0(await Kd(D),st))}}(Cm(y),E,m,p)}function SE(r,t){return function(a,o){const c=new Yr;return a.asyncQueue.enqueueAndForget(async()=>YR(await sw(a),o,c)),c.promise}(Cm(r),t)}function RE(r,t,i){const a=i.docs.get(t._key),o=new bE(r);return new TE(r,o,t._key,a,new so(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Ya=o})(eS),vc(new po("firestore",(a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),m=new Qa(new yS(a.getProvider("auth-internal")),new ES(d,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new vt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eo(y.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),La(_v,Ev,t),La(_v,Ev,"esm2017")})();const Sw={apiKey:"AIzaSyDzwKpnaZevRcXrY1FUQVfK0cnZuE33qR8",authDomain:"sharedmemo-81d89.firebaseapp.com",projectId:"sharedmemo-81d89",storageBucket:"sharedmemo-81d89.appspot.com",messagingSenderId:"722325793086",appId:"1:722325793086:web:3916c716d0ff7d06d3646f"},Rw=j_(Sw),Vo=uw(Rw);function g_(r){const t=new Date(r);return t.getHours()<6&&t.setDate(t.getDate()-1),t.setHours(0,0,0,0),t}function p_(r,t){const i=new Date(t),a=g_(new Date).getTime(),o=g_(i).getTime(),c=Math.floor((a-o)/(1e3*60*60*24));return r-c}function ww(){const[r,t]=z.useState([]),[i,a]=z.useState(!1),[o,c]=z.useState(null),[d,m]=z.useState(""),[p,y]=z.useState({x:0,y:0}),E=z.useRef({}),S=Io(Vo,"routineItems","config");z.useEffect(()=>{const q=nf(S,lt=>{var tt;const at=(((tt=lt.data())==null?void 0:tt.items)||[]).filter(W=>W.cycle!==0).filter(W=>{const R=W.origLastChecked||W.lastChecked;return p_(W.cycle,R)<=3});t(at)});let k;const st=()=>{const lt=new Date,H=new Date(lt);H.setHours(6,0,0,0),lt.getTime()>=H.getTime()&&H.setDate(H.getDate()+1);const at=H.getTime()-lt.getTime();k=setTimeout(()=>{t(tt=>[...tt]),st()},at)};return st(),()=>{q(),clearTimeout(k)}},[]);const D=(q,k)=>{const st=q.origLastChecked||q.lastChecked,lt=new Date(st).toISOString().substring(0,10),H=k.currentTarget.getBoundingClientRect();m(lt),y({x:H.left+H.width/2,y:H.bottom+8}),c(q.id)};z.useEffect(()=>{if(!o)return;const q=k=>{const st=E.current[o];st&&!st.contains(k.target)&&c(null)};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[o]);const O=async q=>{var H;if(!o)return;const lt=(((H=(await Xd(S)).data())==null?void 0:H.items)||[]).map(at=>at.id===o?{...at,lastChecked:new Date(q).toISOString()}:at);await Zd(S,{items:lt}),c(null)},K=q=>J.jsx("ul",{className:"space-y-2",children:q.map(k=>{const st=p_(k.cycle,k.lastChecked),lt=st===0,H=st<=-2;let at="bg-white",tt="text-black",W="";return lt?(at="bg-green-100",tt="text-green-600"):H&&(at="bg-red-100",tt="text-red-600",W=`+${Math.abs(st)}`),J.jsxs("li",{className:`flex items-center justify-between border rounded p-2 cursor-pointer ${at}`,onClick:R=>D(k,R),children:[J.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[J.jsx("span",{className:`text-sm ${tt}`,children:k.name}),J.jsx("span",{className:`text-xs ${tt}`,children:W})]}),o===k.id&&J.jsx("input",{ref:R=>{E.current[k.id]=R},type:"date",value:d,onChange:async R=>{await O(R.target.value)},style:{position:"fixed",top:p.y,left:p.x,transform:"translate(-50%, 0)"},className:"p-2 border bg-white shadow-lg z-50"})]},k.id)})});return J.jsxs("div",{className:"",children:[J.jsxs("div",{className:"flex justify-between items-center mb-2",children:[J.jsx("button",{onClick:()=>a(q=>!q),className:"mx-1 text-gray-500 cursor-pointer text-sm transition",title:i?"펼치기":"숨기기",children:i?"▷":"▽"}),J.jsx("h3",{className:"flex-1 font-bold truncate",children:"집안일 루틴"})]}),!i&&K(r)]})}function fo(r){const t=new Date(r);return t.getHours()<6&&t.setDate(t.getDate()-1),t.setHours(0,0,0,0),t}function Dw(r,t){const i=new Date(t),a=fo(new Date).getTime(),o=fo(i).getTime(),c=Math.floor((a-o)/(1e3*60*60*24));return r-c}function Cw(){const[r,t]=z.useState([]),[i,a]=z.useState(!1),o=Io(Vo,"routineItems","config");z.useEffect(()=>{const m=nf(o,p=>{var E;const y=((E=p.data())==null?void 0:E.items)||[];t(y.filter(S=>S.cycle===0))});return()=>m()},[]),z.useEffect(()=>{const m=async()=>{var K;const S=((K=(await Xd(o)).data())==null?void 0:K.items)||[],D=fo(new Date).toISOString().substring(0,10),O=S.map(q=>q.origRecordedAt!==D?{...q,origLastChecked:q.lastChecked,origRecordedAt:D}:q);await Zd(o,{items:O})};let p;const y=()=>{const E=new Date,S=new Date(E);S.setHours(6,0,0,0),E.getTime()>=S.getTime()&&S.setDate(S.getDate()+1);const D=S.getTime()-E.getTime();p=setTimeout(async()=>{await m(),y()},D)};return m(),y(),()=>clearTimeout(p)},[]);const c=async m=>{var K;const p=new Date,y=p.toISOString(),E=fo(p).getTime(),O=(((K=(await Xd(o)).data())==null?void 0:K.items)||[]).map(q=>q.id===m?fo(new Date(q.lastChecked)).getTime()===E&&q.origLastChecked?{...q,lastChecked:q.origLastChecked}:{...q,lastChecked:y}:q);await Zd(o,{items:O})},d=m=>J.jsx("ul",{className:"space-y-2",children:m.map(p=>{const y=Dw(p.cycle,p.lastChecked),E=y===0,S=y<=-2;let D="bg-white",O="text-black",K="";return E?(D="bg-blue-100",O="text-blue-500"):S&&(D="bg-red-100",O="text-red-500",K=`+${Math.abs(y)}`),J.jsxs("li",{onClick:()=>c(p.id),className:`flex items-center justify-between border rounded p-2 cursor-pointer ${D}`,children:[J.jsx("span",{className:`text-sm ${O}`,children:p.name}),J.jsx("span",{className:`text-xs ${O}`,children:K})]},p.id)})});return J.jsxs("div",{className:"flex flex-wrap justify-between gap-4",children:[J.jsxs("div",{className:"flex-1 border p-2 rounded-lg shadow bg-white",children:[J.jsxs("div",{className:"flex justify-between items-center mb-2",children:[J.jsx("button",{onClick:()=>a(m=>!m),className:"mx-1 text-gray-500 cursor-pointer text-sm transition",title:i?"펼치기":"숨기기",children:i?"▷":"▽"}),J.jsx("h3",{className:"flex-1 font-bold truncate",children:"일일 퀘스트"})]}),!i&&d(r)]}),J.jsx("div",{className:"flex-1 border p-2 rounded-lg shadow bg-white",children:J.jsx(ww,{})})]})}const nn=[];for(let r=0;r<256;++r)nn.push((r+256).toString(16).slice(1));function xw(r,t=0){return(nn[r[t+0]]+nn[r[t+1]]+nn[r[t+2]]+nn[r[t+3]]+"-"+nn[r[t+4]]+nn[r[t+5]]+"-"+nn[r[t+6]]+nn[r[t+7]]+"-"+nn[r[t+8]]+nn[r[t+9]]+"-"+nn[r[t+10]]+nn[r[t+11]]+nn[r[t+12]]+nn[r[t+13]]+nn[r[t+14]]+nn[r[t+15]]).toLowerCase()}let Td;const Nw=new Uint8Array(16);function Iw(){if(!Td){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Td=crypto.getRandomValues.bind(crypto)}return Td(Nw)}const Vw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),y_={randomUUID:Vw};function $d(r,t,i){var o;if(y_.randomUUID&&!r)return y_.randomUUID();r=r||{};const a=r.random??((o=r.rng)==null?void 0:o.call(r))??Iw();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,xw(a)}var ao=O_();function Ow(){for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];return z.useMemo(()=>a=>{t.forEach(o=>o(a))},t)}const rf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ja(r){const t=Object.prototype.toString.call(r);return t==="[object Window]"||t==="[object global]"}function Um(r){return"nodeType"in r}function Tn(r){var t,i;return r?Ja(r)?r:Um(r)&&(t=(i=r.ownerDocument)==null?void 0:i.defaultView)!=null?t:window:window}function Lm(r){const{Document:t}=Tn(r);return r instanceof t}function Oo(r){return Ja(r)?!1:r instanceof Tn(r).HTMLElement}function wE(r){return r instanceof Tn(r).SVGElement}function Wa(r){return r?Ja(r)?r.document:Um(r)?Lm(r)?r:Oo(r)||wE(r)?r.ownerDocument:document:document:document}const ui=rf?z.useLayoutEffect:z.useEffect;function sf(r){const t=z.useRef(r);return ui(()=>{t.current=r}),z.useCallback(function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t.current==null?void 0:t.current(...a)},[])}function Mw(){const r=z.useRef(null),t=z.useCallback((a,o)=>{r.current=setInterval(a,o)},[]),i=z.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[t,i]}function So(r,t){t===void 0&&(t=[r]);const i=z.useRef(r);return ui(()=>{i.current!==r&&(i.current=r)},t),i}function Mo(r,t){const i=z.useRef();return z.useMemo(()=>{const a=r(i.current);return i.current=a,a},[...t])}function Ic(r){const t=sf(r),i=z.useRef(null),a=z.useCallback(o=>{o!==i.current&&(t==null||t(o,i.current)),i.current=o},[]);return[i,a]}function Vc(r){const t=z.useRef();return z.useEffect(()=>{t.current=r},[r]),t.current}let bd={};function Uo(r,t){return z.useMemo(()=>{if(t)return t;const i=bd[r]==null?0:bd[r]+1;return bd[r]=i,r+"-"+i},[r,t])}function DE(r){return function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return a.reduce((c,d)=>{const m=Object.entries(d);for(const[p,y]of m){const E=c[p];E!=null&&(c[p]=E+r*y)}return c},{...t})}}const Pa=DE(1),Oc=DE(-1);function Uw(r){return"clientX"in r&&"clientY"in r}function af(r){if(!r)return!1;const{KeyboardEvent:t}=Tn(r.target);return t&&r instanceof t}function Lw(r){if(!r)return!1;const{TouchEvent:t}=Tn(r.target);return t&&r instanceof t}function Mc(r){if(Lw(r)){if(r.touches&&r.touches.length){const{clientX:t,clientY:i}=r.touches[0];return{x:t,y:i}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:t,clientY:i}=r.changedTouches[0];return{x:t,y:i}}}return Uw(r)?{x:r.clientX,y:r.clientY}:null}const ns=Object.freeze({Translate:{toString(r){if(!r)return;const{x:t,y:i}=r;return"translate3d("+(t?Math.round(t):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:t,scaleY:i}=r;return"scaleX("+t+") scaleY("+i+")"}},Transform:{toString(r){if(r)return[ns.Translate.toString(r),ns.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:t,duration:i,easing:a}=r;return t+" "+i+"ms "+a}}}),v_="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function zw(r){return r.matches(v_)?r:r.querySelector(v_)}const Pw={display:"none"};function kw(r){let{id:t,value:i}=r;return ce.createElement("div",{id:t,style:Pw},i)}function Bw(r){let{id:t,announcement:i,ariaLiveType:a="assertive"}=r;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ce.createElement("div",{id:t,style:o,role:"status","aria-live":a,"aria-atomic":!0},i)}function jw(){const[r,t]=z.useState("");return{announce:z.useCallback(a=>{a!=null&&t(a)},[]),announcement:r}}const CE=z.createContext(null);function qw(r){const t=z.useContext(CE);z.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(r)},[r,t])}function Hw(){const[r]=z.useState(()=>new Set),t=z.useCallback(a=>(r.add(a),()=>r.delete(a)),[r]);return[z.useCallback(a=>{let{type:o,event:c}=a;r.forEach(d=>{var m;return(m=d[o])==null?void 0:m.call(d,c)})},[r]),t]}const Gw={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Qw={onDragStart(r){let{active:t}=r;return"Picked up draggable item "+t.id+"."},onDragOver(r){let{active:t,over:i}=r;return i?"Draggable item "+t.id+" was moved over droppable area "+i.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(r){let{active:t,over:i}=r;return i?"Draggable item "+t.id+" was dropped over droppable area "+i.id:"Draggable item "+t.id+" was dropped."},onDragCancel(r){let{active:t}=r;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Fw(r){let{announcements:t=Qw,container:i,hiddenTextDescribedById:a,screenReaderInstructions:o=Gw}=r;const{announce:c,announcement:d}=jw(),m=Uo("DndLiveRegion"),[p,y]=z.useState(!1);if(z.useEffect(()=>{y(!0)},[]),qw(z.useMemo(()=>({onDragStart(S){let{active:D}=S;c(t.onDragStart({active:D}))},onDragMove(S){let{active:D,over:O}=S;t.onDragMove&&c(t.onDragMove({active:D,over:O}))},onDragOver(S){let{active:D,over:O}=S;c(t.onDragOver({active:D,over:O}))},onDragEnd(S){let{active:D,over:O}=S;c(t.onDragEnd({active:D,over:O}))},onDragCancel(S){let{active:D,over:O}=S;c(t.onDragCancel({active:D,over:O}))}}),[c,t])),!p)return null;const E=ce.createElement(ce.Fragment,null,ce.createElement(kw,{id:a,value:o.draggable}),ce.createElement(Bw,{id:m,announcement:d}));return i?ao.createPortal(E,i):E}var ze;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(ze||(ze={}));function Uc(){}function Lc(r,t){return z.useMemo(()=>({sensor:r,options:t??{}}),[r,t])}function xE(){for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];return z.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const ci=Object.freeze({x:0,y:0});function Kw(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function Yw(r,t){const i=Mc(r);if(!i)return"0 0";const a={x:(i.x-t.left)/t.width*100,y:(i.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function Xw(r,t){let{data:{value:i}}=r,{data:{value:a}}=t;return i-a}function Zw(r,t){let{data:{value:i}}=r,{data:{value:a}}=t;return a-i}function $w(r,t){if(!r||r.length===0)return null;const[i]=r;return i[t]}function __(r,t,i){return t===void 0&&(t=r.left),i===void 0&&(i=r.top),{x:t+r.width*.5,y:i+r.height*.5}}const NE=r=>{let{collisionRect:t,droppableRects:i,droppableContainers:a}=r;const o=__(t,t.left,t.top),c=[];for(const d of a){const{id:m}=d,p=i.get(m);if(p){const y=Kw(__(p),o);c.push({id:m,data:{droppableContainer:d,value:y}})}}return c.sort(Xw)};function Jw(r,t){const i=Math.max(t.top,r.top),a=Math.max(t.left,r.left),o=Math.min(t.left+t.width,r.left+r.width),c=Math.min(t.top+t.height,r.top+r.height),d=o-a,m=c-i;if(a<o&&i<c){const p=t.width*t.height,y=r.width*r.height,E=d*m,S=E/(p+y-E);return Number(S.toFixed(4))}return 0}const Ww=r=>{let{collisionRect:t,droppableRects:i,droppableContainers:a}=r;const o=[];for(const c of a){const{id:d}=c,m=i.get(d);if(m){const p=Jw(m,t);p>0&&o.push({id:d,data:{droppableContainer:c,value:p}})}}return o.sort(Zw)};function t2(r,t,i){return{...r,scaleX:t&&i?t.width/i.width:1,scaleY:t&&i?t.height/i.height:1}}function IE(r,t){return r&&t?{x:r.left-t.left,y:r.top-t.top}:ci}function e2(r){return function(i){for(var a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];return o.reduce((d,m)=>({...d,top:d.top+r*m.y,bottom:d.bottom+r*m.y,left:d.left+r*m.x,right:d.right+r*m.x}),{...i})}}const n2=e2(1);function VE(r){if(r.startsWith("matrix3d(")){const t=r.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(r.startsWith("matrix(")){const t=r.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function i2(r,t,i){const a=VE(t);if(!a)return r;const{scaleX:o,scaleY:c,x:d,y:m}=a,p=r.left-d-(1-o)*parseFloat(i),y=r.top-m-(1-c)*parseFloat(i.slice(i.indexOf(" ")+1)),E=o?r.width/o:r.width,S=c?r.height/c:r.height;return{width:E,height:S,top:y,right:p+E,bottom:y+S,left:p}}const r2={ignoreTransform:!1};function tl(r,t){t===void 0&&(t=r2);let i=r.getBoundingClientRect();if(t.ignoreTransform){const{transform:y,transformOrigin:E}=Tn(r).getComputedStyle(r);y&&(i=i2(i,y,E))}const{top:a,left:o,width:c,height:d,bottom:m,right:p}=i;return{top:a,left:o,width:c,height:d,bottom:m,right:p}}function E_(r){return tl(r,{ignoreTransform:!0})}function s2(r){const t=r.innerWidth,i=r.innerHeight;return{top:0,left:0,right:t,bottom:i,width:t,height:i}}function a2(r,t){return t===void 0&&(t=Tn(r).getComputedStyle(r)),t.position==="fixed"}function l2(r,t){t===void 0&&(t=Tn(r).getComputedStyle(r));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const c=t[o];return typeof c=="string"?i.test(c):!1})}function zm(r,t){const i=[];function a(o){if(t!=null&&i.length>=t||!o)return i;if(Lm(o)&&o.scrollingElement!=null&&!i.includes(o.scrollingElement))return i.push(o.scrollingElement),i;if(!Oo(o)||wE(o)||i.includes(o))return i;const c=Tn(r).getComputedStyle(o);return o!==r&&l2(o,c)&&i.push(o),a2(o,c)?i:a(o.parentNode)}return r?a(r):i}function OE(r){const[t]=zm(r,1);return t??null}function Ad(r){return!rf||!r?null:Ja(r)?r:Um(r)?Lm(r)||r===Wa(r).scrollingElement?window:Oo(r)?r:null:null}function ME(r){return Ja(r)?r.scrollX:r.scrollLeft}function UE(r){return Ja(r)?r.scrollY:r.scrollTop}function Jd(r){return{x:ME(r),y:UE(r)}}var Ye;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(Ye||(Ye={}));function LE(r){return!rf||!r?!1:r===document.scrollingElement}function zE(r){const t={x:0,y:0},i=LE(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},a={x:r.scrollWidth-i.width,y:r.scrollHeight-i.height},o=r.scrollTop<=t.y,c=r.scrollLeft<=t.x,d=r.scrollTop>=a.y,m=r.scrollLeft>=a.x;return{isTop:o,isLeft:c,isBottom:d,isRight:m,maxScroll:a,minScroll:t}}const o2={x:.2,y:.2};function u2(r,t,i,a,o){let{top:c,left:d,right:m,bottom:p}=i;a===void 0&&(a=10),o===void 0&&(o=o2);const{isTop:y,isBottom:E,isLeft:S,isRight:D}=zE(r),O={x:0,y:0},K={x:0,y:0},q={height:t.height*o.y,width:t.width*o.x};return!y&&c<=t.top+q.height?(O.y=Ye.Backward,K.y=a*Math.abs((t.top+q.height-c)/q.height)):!E&&p>=t.bottom-q.height&&(O.y=Ye.Forward,K.y=a*Math.abs((t.bottom-q.height-p)/q.height)),!D&&m>=t.right-q.width?(O.x=Ye.Forward,K.x=a*Math.abs((t.right-q.width-m)/q.width)):!S&&d<=t.left+q.width&&(O.x=Ye.Backward,K.x=a*Math.abs((t.left+q.width-d)/q.width)),{direction:O,speed:K}}function c2(r){if(r===document.scrollingElement){const{innerWidth:c,innerHeight:d}=window;return{top:0,left:0,right:c,bottom:d,width:c,height:d}}const{top:t,left:i,right:a,bottom:o}=r.getBoundingClientRect();return{top:t,left:i,right:a,bottom:o,width:r.clientWidth,height:r.clientHeight}}function PE(r){return r.reduce((t,i)=>Pa(t,Jd(i)),ci)}function f2(r){return r.reduce((t,i)=>t+ME(i),0)}function h2(r){return r.reduce((t,i)=>t+UE(i),0)}function kE(r,t){if(t===void 0&&(t=tl),!r)return;const{top:i,left:a,bottom:o,right:c}=t(r);OE(r)&&(o<=0||c<=0||i>=window.innerHeight||a>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const d2=[["x",["left","right"],f2],["y",["top","bottom"],h2]];class Pm{constructor(t,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=zm(i),o=PE(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[c,d,m]of d2)for(const p of d)Object.defineProperty(this,p,{get:()=>{const y=m(a),E=o[c]-y;return this.rect[p]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ho{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...i)})},this.target=t}add(t,i,a){var o;(o=this.target)==null||o.addEventListener(t,i,a),this.listeners.push([t,i,a])}}function m2(r){const{EventTarget:t}=Tn(r);return r instanceof t?r:Wa(r)}function Sd(r,t){const i=Math.abs(r.x),a=Math.abs(r.y);return typeof t=="number"?Math.sqrt(i**2+a**2)>t:"x"in t&&"y"in t?i>t.x&&a>t.y:"x"in t?i>t.x:"y"in t?a>t.y:!1}var Jn;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(Jn||(Jn={}));function T_(r){r.preventDefault()}function g2(r){r.stopPropagation()}var Ft;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Ft||(Ft={}));const BE={start:[Ft.Space,Ft.Enter],cancel:[Ft.Esc],end:[Ft.Space,Ft.Enter,Ft.Tab]},p2=(r,t)=>{let{currentCoordinates:i}=t;switch(r.code){case Ft.Right:return{...i,x:i.x+25};case Ft.Left:return{...i,x:i.x-25};case Ft.Down:return{...i,y:i.y+25};case Ft.Up:return{...i,y:i.y-25}}};class jE{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:i}}=t;this.props=t,this.listeners=new ho(Wa(i)),this.windowListeners=new ho(Tn(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Jn.Resize,this.handleCancel),this.windowListeners.add(Jn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Jn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:i}=this.props,a=t.node.current;a&&kE(a),i(ci)}handleKeyDown(t){if(af(t)){const{active:i,context:a,options:o}=this.props,{keyboardCodes:c=BE,coordinateGetter:d=p2,scrollBehavior:m="smooth"}=o,{code:p}=t;if(c.end.includes(p)){this.handleEnd(t);return}if(c.cancel.includes(p)){this.handleCancel(t);return}const{collisionRect:y}=a.current,E=y?{x:y.left,y:y.top}:ci;this.referenceCoordinates||(this.referenceCoordinates=E);const S=d(t,{active:i,context:a.current,currentCoordinates:E});if(S){const D=Oc(S,E),O={x:0,y:0},{scrollableAncestors:K}=a.current;for(const q of K){const k=t.code,{isTop:st,isRight:lt,isLeft:H,isBottom:at,maxScroll:tt,minScroll:W}=zE(q),R=c2(q),A={x:Math.min(k===Ft.Right?R.right-R.width/2:R.right,Math.max(k===Ft.Right?R.left:R.left+R.width/2,S.x)),y:Math.min(k===Ft.Down?R.bottom-R.height/2:R.bottom,Math.max(k===Ft.Down?R.top:R.top+R.height/2,S.y))},w=k===Ft.Right&&!lt||k===Ft.Left&&!H,I=k===Ft.Down&&!at||k===Ft.Up&&!st;if(w&&A.x!==S.x){const N=q.scrollLeft+D.x,U=k===Ft.Right&&N<=tt.x||k===Ft.Left&&N>=W.x;if(U&&!D.y){q.scrollTo({left:N,behavior:m});return}U?O.x=q.scrollLeft-N:O.x=k===Ft.Right?q.scrollLeft-tt.x:q.scrollLeft-W.x,O.x&&q.scrollBy({left:-O.x,behavior:m});break}else if(I&&A.y!==S.y){const N=q.scrollTop+D.y,U=k===Ft.Down&&N<=tt.y||k===Ft.Up&&N>=W.y;if(U&&!D.x){q.scrollTo({top:N,behavior:m});return}U?O.y=q.scrollTop-N:O.y=k===Ft.Down?q.scrollTop-tt.y:q.scrollTop-W.y,O.y&&q.scrollBy({top:-O.y,behavior:m});break}}this.handleMove(t,Pa(Oc(S,this.referenceCoordinates),O))}}}handleMove(t,i){const{onMove:a}=this.props;t.preventDefault(),a(i)}handleEnd(t){const{onEnd:i}=this.props;t.preventDefault(),this.detach(),i()}handleCancel(t){const{onCancel:i}=this.props;t.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}jE.activators=[{eventName:"onKeyDown",handler:(r,t,i)=>{let{keyboardCodes:a=BE,onActivation:o}=t,{active:c}=i;const{code:d}=r.nativeEvent;if(a.start.includes(d)){const m=c.activatorNode.current;return m&&r.target!==m?!1:(r.preventDefault(),o==null||o({event:r.nativeEvent}),!0)}return!1}}];function b_(r){return!!(r&&"distance"in r)}function A_(r){return!!(r&&"delay"in r)}class km{constructor(t,i,a){var o;a===void 0&&(a=m2(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=i;const{event:c}=t,{target:d}=c;this.props=t,this.events=i,this.document=Wa(d),this.documentListeners=new ho(this.document),this.listeners=new ho(a),this.windowListeners=new ho(Tn(d)),this.initialCoordinates=(o=Mc(c))!=null?o:ci,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:i,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Jn.Resize,this.handleCancel),this.windowListeners.add(Jn.DragStart,T_),this.windowListeners.add(Jn.VisibilityChange,this.handleCancel),this.windowListeners.add(Jn.ContextMenu,T_),this.documentListeners.add(Jn.Keydown,this.handleKeydown),i){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(A_(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(b_(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,i){const{active:a,onPending:o}=this.props;o(a,t,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:t}=this,{onStart:i}=this.props;t&&(this.activated=!0,this.documentListeners.add(Jn.Click,g2,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Jn.SelectionChange,this.removeTextSelection),i(t))}handleMove(t){var i;const{activated:a,initialCoordinates:o,props:c}=this,{onMove:d,options:{activationConstraint:m}}=c;if(!o)return;const p=(i=Mc(t))!=null?i:ci,y=Oc(o,p);if(!a&&m){if(b_(m)){if(m.tolerance!=null&&Sd(y,m.tolerance))return this.handleCancel();if(Sd(y,m.distance))return this.handleStart()}if(A_(m)&&Sd(y,m.tolerance))return this.handleCancel();this.handlePending(m,y);return}t.cancelable&&t.preventDefault(),d(p)}handleEnd(){const{onAbort:t,onEnd:i}=this.props;this.detach(),this.activated||t(this.props.active),i()}handleCancel(){const{onAbort:t,onCancel:i}=this.props;this.detach(),this.activated||t(this.props.active),i()}handleKeydown(t){t.code===Ft.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const y2={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class lf extends km{constructor(t){const{event:i}=t,a=Wa(i.target);super(t,y2,a)}}lf.activators=[{eventName:"onPointerDown",handler:(r,t)=>{let{nativeEvent:i}=r,{onActivation:a}=t;return!i.isPrimary||i.button!==0?!1:(a==null||a({event:i}),!0)}}];const v2={move:{name:"mousemove"},end:{name:"mouseup"}};var Wd;(function(r){r[r.RightClick=2]="RightClick"})(Wd||(Wd={}));class _2 extends km{constructor(t){super(t,v2,Wa(t.event.target))}}_2.activators=[{eventName:"onMouseDown",handler:(r,t)=>{let{nativeEvent:i}=r,{onActivation:a}=t;return i.button===Wd.RightClick?!1:(a==null||a({event:i}),!0)}}];const Rd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Bm extends km{constructor(t){super(t,Rd)}static setup(){return window.addEventListener(Rd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Rd.move.name,t)};function t(){}}}Bm.activators=[{eventName:"onTouchStart",handler:(r,t)=>{let{nativeEvent:i}=r,{onActivation:a}=t;const{touches:o}=i;return o.length>1?!1:(a==null||a({event:i}),!0)}}];var mo;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(mo||(mo={}));var zc;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(zc||(zc={}));function E2(r){let{acceleration:t,activator:i=mo.Pointer,canScroll:a,draggingRect:o,enabled:c,interval:d=5,order:m=zc.TreeOrder,pointerCoordinates:p,scrollableAncestors:y,scrollableAncestorRects:E,delta:S,threshold:D}=r;const O=b2({delta:S,disabled:!c}),[K,q]=Mw(),k=z.useRef({x:0,y:0}),st=z.useRef({x:0,y:0}),lt=z.useMemo(()=>{switch(i){case mo.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case mo.DraggableRect:return o}},[i,o,p]),H=z.useRef(null),at=z.useCallback(()=>{const W=H.current;if(!W)return;const R=k.current.x*st.current.x,A=k.current.y*st.current.y;W.scrollBy(R,A)},[]),tt=z.useMemo(()=>m===zc.TreeOrder?[...y].reverse():y,[m,y]);z.useEffect(()=>{if(!c||!y.length||!lt){q();return}for(const W of tt){if((a==null?void 0:a(W))===!1)continue;const R=y.indexOf(W),A=E[R];if(!A)continue;const{direction:w,speed:I}=u2(W,A,lt,t,D);for(const N of["x","y"])O[N][w[N]]||(I[N]=0,w[N]=0);if(I.x>0||I.y>0){q(),H.current=W,K(at,d),k.current=I,st.current=w;return}}k.current={x:0,y:0},st.current={x:0,y:0},q()},[t,at,a,q,c,d,JSON.stringify(lt),JSON.stringify(O),K,y,tt,E,JSON.stringify(D)])}const T2={x:{[Ye.Backward]:!1,[Ye.Forward]:!1},y:{[Ye.Backward]:!1,[Ye.Forward]:!1}};function b2(r){let{delta:t,disabled:i}=r;const a=Vc(t);return Mo(o=>{if(i||!a||!o)return T2;const c={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[Ye.Backward]:o.x[Ye.Backward]||c.x===-1,[Ye.Forward]:o.x[Ye.Forward]||c.x===1},y:{[Ye.Backward]:o.y[Ye.Backward]||c.y===-1,[Ye.Forward]:o.y[Ye.Forward]||c.y===1}}},[i,t,a])}function A2(r,t){const i=t!=null?r.get(t):void 0,a=i?i.node.current:null;return Mo(o=>{var c;return t==null?null:(c=a??o)!=null?c:null},[a,t])}function S2(r,t){return z.useMemo(()=>r.reduce((i,a)=>{const{sensor:o}=a,c=o.activators.map(d=>({eventName:d.eventName,handler:t(d.handler,a)}));return[...i,...c]},[]),[r,t])}var Ro;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(Ro||(Ro={}));var tm;(function(r){r.Optimized="optimized"})(tm||(tm={}));const S_=new Map;function R2(r,t){let{dragging:i,dependencies:a,config:o}=t;const[c,d]=z.useState(null),{frequency:m,measure:p,strategy:y}=o,E=z.useRef(r),S=k(),D=So(S),O=z.useCallback(function(st){st===void 0&&(st=[]),!D.current&&d(lt=>lt===null?st:lt.concat(st.filter(H=>!lt.includes(H))))},[D]),K=z.useRef(null),q=Mo(st=>{if(S&&!i)return S_;if(!st||st===S_||E.current!==r||c!=null){const lt=new Map;for(let H of r){if(!H)continue;if(c&&c.length>0&&!c.includes(H.id)&&H.rect.current){lt.set(H.id,H.rect.current);continue}const at=H.node.current,tt=at?new Pm(p(at),at):null;H.rect.current=tt,tt&&lt.set(H.id,tt)}return lt}return st},[r,c,i,S,p]);return z.useEffect(()=>{E.current=r},[r]),z.useEffect(()=>{S||O()},[i,S]),z.useEffect(()=>{c&&c.length>0&&d(null)},[JSON.stringify(c)]),z.useEffect(()=>{S||typeof m!="number"||K.current!==null||(K.current=setTimeout(()=>{O(),K.current=null},m))},[m,S,O,...a]),{droppableRects:q,measureDroppableContainers:O,measuringScheduled:c!=null};function k(){switch(y){case Ro.Always:return!1;case Ro.BeforeDragging:return i;default:return!i}}}function jm(r,t){return Mo(i=>r?i||(typeof t=="function"?t(r):r):null,[t,r])}function w2(r,t){return jm(r,t)}function D2(r){let{callback:t,disabled:i}=r;const a=sf(t),o=z.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(a)},[a,i]);return z.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function of(r){let{callback:t,disabled:i}=r;const a=sf(t),o=z.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(a)},[i]);return z.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function C2(r){return new Pm(tl(r),r)}function R_(r,t,i){t===void 0&&(t=C2);const[a,o]=z.useState(null);function c(){o(p=>{if(!r)return null;if(r.isConnected===!1){var y;return(y=p??i)!=null?y:null}const E=t(r);return JSON.stringify(p)===JSON.stringify(E)?p:E})}const d=D2({callback(p){if(r)for(const y of p){const{type:E,target:S}=y;if(E==="childList"&&S instanceof HTMLElement&&S.contains(r)){c();break}}}}),m=of({callback:c});return ui(()=>{c(),r?(m==null||m.observe(r),d==null||d.observe(document.body,{childList:!0,subtree:!0})):(m==null||m.disconnect(),d==null||d.disconnect())},[r]),a}function x2(r){const t=jm(r);return IE(r,t)}const w_=[];function N2(r){const t=z.useRef(r),i=Mo(a=>r?a&&a!==w_&&r&&t.current&&r.parentNode===t.current.parentNode?a:zm(r):w_,[r]);return z.useEffect(()=>{t.current=r},[r]),i}function I2(r){const[t,i]=z.useState(null),a=z.useRef(r),o=z.useCallback(c=>{const d=Ad(c.target);d&&i(m=>m?(m.set(d,Jd(d)),new Map(m)):null)},[]);return z.useEffect(()=>{const c=a.current;if(r!==c){d(c);const m=r.map(p=>{const y=Ad(p);return y?(y.addEventListener("scroll",o,{passive:!0}),[y,Jd(y)]):null}).filter(p=>p!=null);i(m.length?new Map(m):null),a.current=r}return()=>{d(r),d(c)};function d(m){m.forEach(p=>{const y=Ad(p);y==null||y.removeEventListener("scroll",o)})}},[o,r]),z.useMemo(()=>r.length?t?Array.from(t.values()).reduce((c,d)=>Pa(c,d),ci):PE(r):ci,[r,t])}function D_(r,t){t===void 0&&(t=[]);const i=z.useRef(null);return z.useEffect(()=>{i.current=null},t),z.useEffect(()=>{const a=r!==ci;a&&!i.current&&(i.current=r),!a&&i.current&&(i.current=null)},[r]),i.current?Oc(r,i.current):ci}function V2(r){z.useEffect(()=>{if(!rf)return;const t=r.map(i=>{let{sensor:a}=i;return a.setup==null?void 0:a.setup()});return()=>{for(const i of t)i==null||i()}},r.map(t=>{let{sensor:i}=t;return i}))}function O2(r,t){return z.useMemo(()=>r.reduce((i,a)=>{let{eventName:o,handler:c}=a;return i[o]=d=>{c(d,t)},i},{}),[r,t])}function qE(r){return z.useMemo(()=>r?s2(r):null,[r])}const C_=[];function M2(r,t){t===void 0&&(t=tl);const[i]=r,a=qE(i?Tn(i):null),[o,c]=z.useState(C_);function d(){c(()=>r.length?r.map(p=>LE(p)?a:new Pm(t(p),p)):C_)}const m=of({callback:d});return ui(()=>{m==null||m.disconnect(),d(),r.forEach(p=>m==null?void 0:m.observe(p))},[r]),o}function HE(r){if(!r)return null;if(r.children.length>1)return r;const t=r.children[0];return Oo(t)?t:r}function U2(r){let{measure:t}=r;const[i,a]=z.useState(null),o=z.useCallback(y=>{for(const{target:E}of y)if(Oo(E)){a(S=>{const D=t(E);return S?{...S,width:D.width,height:D.height}:D});break}},[t]),c=of({callback:o}),d=z.useCallback(y=>{const E=HE(y);c==null||c.disconnect(),E&&(c==null||c.observe(E)),a(E?t(E):null)},[t,c]),[m,p]=Ic(d);return z.useMemo(()=>({nodeRef:m,rect:i,setRef:p}),[i,m,p])}const L2=[{sensor:lf,options:{}},{sensor:jE,options:{}}],z2={current:{}},mc={draggable:{measure:E_},droppable:{measure:E_,strategy:Ro.WhileDragging,frequency:tm.Optimized},dragOverlay:{measure:tl}};class go extends Map{get(t){var i;return t!=null&&(i=super.get(t))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:i}=t;return!i})}getNodeFor(t){var i,a;return(i=(a=this.get(t))==null?void 0:a.node.current)!=null?i:void 0}}const P2={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new go,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Uc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:mc,measureDroppableContainers:Uc,windowRect:null,measuringScheduled:!1},GE={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Uc,draggableNodes:new Map,over:null,measureDroppableContainers:Uc},Lo=z.createContext(GE),QE=z.createContext(P2);function k2(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new go}}}function B2(r,t){switch(t.type){case ze.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ze.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:t.coordinates.x-r.draggable.initialCoordinates.x,y:t.coordinates.y-r.draggable.initialCoordinates.y}}};case ze.DragEnd:case ze.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ze.RegisterDroppable:{const{element:i}=t,{id:a}=i,o=new go(r.droppable.containers);return o.set(a,i),{...r,droppable:{...r.droppable,containers:o}}}case ze.SetDroppableDisabled:{const{id:i,key:a,disabled:o}=t,c=r.droppable.containers.get(i);if(!c||a!==c.key)return r;const d=new go(r.droppable.containers);return d.set(i,{...c,disabled:o}),{...r,droppable:{...r.droppable,containers:d}}}case ze.UnregisterDroppable:{const{id:i,key:a}=t,o=r.droppable.containers.get(i);if(!o||a!==o.key)return r;const c=new go(r.droppable.containers);return c.delete(i),{...r,droppable:{...r.droppable,containers:c}}}default:return r}}function j2(r){let{disabled:t}=r;const{active:i,activatorEvent:a,draggableNodes:o}=z.useContext(Lo),c=Vc(a),d=Vc(i==null?void 0:i.id);return z.useEffect(()=>{if(!t&&!a&&c&&d!=null){if(!af(c)||document.activeElement===c.target)return;const m=o.get(d);if(!m)return;const{activatorNode:p,node:y}=m;if(!p.current&&!y.current)return;requestAnimationFrame(()=>{for(const E of[p.current,y.current]){if(!E)continue;const S=zw(E);if(S){S.focus();break}}})}},[a,t,o,d,c]),null}function FE(r,t){let{transform:i,...a}=t;return r!=null&&r.length?r.reduce((o,c)=>c({transform:o,...a}),i):i}function q2(r){return z.useMemo(()=>({draggable:{...mc.draggable,...r==null?void 0:r.draggable},droppable:{...mc.droppable,...r==null?void 0:r.droppable},dragOverlay:{...mc.dragOverlay,...r==null?void 0:r.dragOverlay}}),[r==null?void 0:r.draggable,r==null?void 0:r.droppable,r==null?void 0:r.dragOverlay])}function H2(r){let{activeNode:t,measure:i,initialRect:a,config:o=!0}=r;const c=z.useRef(!1),{x:d,y:m}=typeof o=="boolean"?{x:o,y:o}:o;ui(()=>{if(!d&&!m||!t){c.current=!1;return}if(c.current||!a)return;const y=t==null?void 0:t.node.current;if(!y||y.isConnected===!1)return;const E=i(y),S=IE(E,a);if(d||(S.x=0),m||(S.y=0),c.current=!0,Math.abs(S.x)>0||Math.abs(S.y)>0){const D=OE(y);D&&D.scrollBy({top:S.y,left:S.x})}},[t,d,m,a,i])}const uf=z.createContext({...ci,scaleX:1,scaleY:1});var Hr;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(Hr||(Hr={}));const KE=z.memo(function(t){var i,a,o,c;let{id:d,accessibility:m,autoScroll:p=!0,children:y,sensors:E=L2,collisionDetection:S=Ww,measuring:D,modifiers:O,...K}=t;const q=z.useReducer(B2,void 0,k2),[k,st]=q,[lt,H]=Hw(),[at,tt]=z.useState(Hr.Uninitialized),W=at===Hr.Initialized,{draggable:{active:R,nodes:A,translate:w},droppable:{containers:I}}=k,N=R!=null?A.get(R):null,U=z.useRef({initial:null,translated:null}),C=z.useMemo(()=>{var se;return R!=null?{id:R,data:(se=N==null?void 0:N.data)!=null?se:z2,rect:U}:null},[R,N]),Kt=z.useRef(null),[Yt,Y]=z.useState(null),[ot,ut]=z.useState(null),pt=So(K,Object.values(K)),V=Uo("DndDescribedBy",d),$=z.useMemo(()=>I.getEnabled(),[I]),ct=q2(D),{droppableRects:it,measureDroppableContainers:mt,measuringScheduled:Rt}=R2($,{dragging:W,dependencies:[w.x,w.y],config:ct.droppable}),gt=A2(A,R),he=z.useMemo(()=>ot?Mc(ot):null,[ot]),zt=ti(),Se=w2(gt,ct.draggable.measure);H2({activeNode:R!=null?A.get(R):null,config:zt.layoutShiftCompensation,initialRect:Se,measure:ct.draggable.measure});const Vt=R_(gt,ct.draggable.measure,Se),hn=R_(gt?gt.parentElement:null),je=z.useRef({activatorEvent:null,active:null,activeNode:gt,collisionRect:null,collisions:null,droppableRects:it,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),bn=I.getNodeFor((i=je.current.over)==null?void 0:i.id),Xe=U2({measure:ct.dragOverlay.measure}),Pn=(a=Xe.nodeRef.current)!=null?a:gt,Wn=W?(o=Xe.rect)!=null?o:Vt:null,dn=!!(Xe.nodeRef.current&&Xe.rect),qs=x2(dn?null:Vt),Ui=qE(Pn?Tn(Pn):null),mn=N2(W?bn??gt:null),kn=M2(mn),gr=FE(O,{transform:{x:w.x-qs.x,y:w.y-qs.y,scaleX:1,scaleY:1},activatorEvent:ot,active:C,activeNodeRect:Vt,containerNodeRect:hn,draggingNodeRect:Wn,over:je.current.over,overlayNodeRect:Xe.rect,scrollableAncestors:mn,scrollableAncestorRects:kn,windowRect:Ui}),Li=he?Pa(he,w):null,pr=I2(mn),Hs=D_(pr),le=D_(pr,[Vt]),Ut=Pa(gr,Hs),Re=Wn?n2(Wn,gr):null,ge=C&&Re?S({active:C,collisionRect:Re,droppableRects:it,droppableContainers:$,pointerCoordinates:Li}):null,ss=$w(ge,"id"),[Bn,fi]=z.useState(null),zi=dn?gr:Pa(gr,le),Pi=t2(zi,(c=Bn==null?void 0:Bn.rect)!=null?c:null,Vt),gn=z.useRef(null),ki=z.useCallback((se,Ie)=>{let{sensor:oe,options:An}=Ie;if(Kt.current==null)return;const _e=A.get(Kt.current);if(!_e)return;const we=se.nativeEvent,Ve=new oe({active:Kt.current,activeNode:_e,event:we,options:An,context:je,onAbort(Dt){if(!A.get(Dt))return;const{onDragAbort:Gt}=pt.current,pe={id:Dt};Gt==null||Gt(pe),lt({type:"onDragAbort",event:pe})},onPending(Dt,Wt,Gt,pe){if(!A.get(Dt))return;const{onDragPending:ji}=pt.current,Ze={id:Dt,constraint:Wt,initialCoordinates:Gt,offset:pe};ji==null||ji(Ze),lt({type:"onDragPending",event:Ze})},onStart(Dt){const Wt=Kt.current;if(Wt==null)return;const Gt=A.get(Wt);if(!Gt)return;const{onDragStart:pe}=pt.current,ni={activatorEvent:we,active:{id:Wt,data:Gt.data,rect:U}};ao.unstable_batchedUpdates(()=>{pe==null||pe(ni),tt(Hr.Initializing),st({type:ze.DragStart,initialCoordinates:Dt,active:Wt}),lt({type:"onDragStart",event:ni}),Y(gn.current),ut(we)})},onMove(Dt){st({type:ze.DragMove,coordinates:Dt})},onEnd:ei(ze.DragEnd),onCancel:ei(ze.DragCancel)});gn.current=Ve;function ei(Dt){return async function(){const{active:Gt,collisions:pe,over:ni,scrollAdjustedTranslate:ji}=je.current;let Ze=null;if(Gt&&ji){const{cancelDrop:hi}=pt.current;Ze={activatorEvent:we,active:Gt,collisions:pe,delta:ji,over:ni},Dt===ze.DragEnd&&typeof hi=="function"&&await Promise.resolve(hi(Ze))&&(Dt=ze.DragCancel)}Kt.current=null,ao.unstable_batchedUpdates(()=>{st({type:Dt}),tt(Hr.Uninitialized),fi(null),Y(null),ut(null),gn.current=null;const hi=Dt===ze.DragEnd?"onDragEnd":"onDragCancel";if(Ze){const ii=pt.current[hi];ii==null||ii(Ze),lt({type:hi,event:Ze})}})}}},[A]),Bi=z.useCallback((se,Ie)=>(oe,An)=>{const _e=oe.nativeEvent,we=A.get(An);if(Kt.current!==null||!we||_e.dndKit||_e.defaultPrevented)return;const Ve={active:we};se(oe,Ie.options,Ve)===!0&&(_e.dndKit={capturedBy:Ie.sensor},Kt.current=An,ki(oe,Ie))},[A,ki]),yr=S2(E,Bi);V2(E),ui(()=>{Vt&&at===Hr.Initializing&&tt(Hr.Initialized)},[Vt,at]),z.useEffect(()=>{const{onDragMove:se}=pt.current,{active:Ie,activatorEvent:oe,collisions:An,over:_e}=je.current;if(!Ie||!oe)return;const we={active:Ie,activatorEvent:oe,collisions:An,delta:{x:Ut.x,y:Ut.y},over:_e};ao.unstable_batchedUpdates(()=>{se==null||se(we),lt({type:"onDragMove",event:we})})},[Ut.x,Ut.y]),z.useEffect(()=>{const{active:se,activatorEvent:Ie,collisions:oe,droppableContainers:An,scrollAdjustedTranslate:_e}=je.current;if(!se||Kt.current==null||!Ie||!_e)return;const{onDragOver:we}=pt.current,Ve=An.get(ss),ei=Ve&&Ve.rect.current?{id:Ve.id,rect:Ve.rect.current,data:Ve.data,disabled:Ve.disabled}:null,Dt={active:se,activatorEvent:Ie,collisions:oe,delta:{x:_e.x,y:_e.y},over:ei};ao.unstable_batchedUpdates(()=>{fi(ei),we==null||we(Dt),lt({type:"onDragOver",event:Dt})})},[ss]),ui(()=>{je.current={activatorEvent:ot,active:C,activeNode:gt,collisionRect:Re,collisions:ge,droppableRects:it,draggableNodes:A,draggingNode:Pn,draggingNodeRect:Wn,droppableContainers:I,over:Bn,scrollableAncestors:mn,scrollAdjustedTranslate:Ut},U.current={initial:Wn,translated:Re}},[C,gt,ge,Re,A,Pn,Wn,it,I,Bn,mn,Ut]),E2({...zt,delta:w,draggingRect:Re,pointerCoordinates:Li,scrollableAncestors:mn,scrollableAncestorRects:kn});const as=z.useMemo(()=>({active:C,activeNode:gt,activeNodeRect:Vt,activatorEvent:ot,collisions:ge,containerNodeRect:hn,dragOverlay:Xe,draggableNodes:A,droppableContainers:I,droppableRects:it,over:Bn,measureDroppableContainers:mt,scrollableAncestors:mn,scrollableAncestorRects:kn,measuringConfiguration:ct,measuringScheduled:Rt,windowRect:Ui}),[C,gt,Vt,ot,ge,hn,Xe,A,I,it,Bn,mt,mn,kn,ct,Rt,Ui]),ls=z.useMemo(()=>({activatorEvent:ot,activators:yr,active:C,activeNodeRect:Vt,ariaDescribedById:{draggable:V},dispatch:st,draggableNodes:A,over:Bn,measureDroppableContainers:mt}),[ot,yr,C,Vt,st,V,A,Bn,mt]);return ce.createElement(CE.Provider,{value:H},ce.createElement(Lo.Provider,{value:ls},ce.createElement(QE.Provider,{value:as},ce.createElement(uf.Provider,{value:Pi},y)),ce.createElement(j2,{disabled:(m==null?void 0:m.restoreFocus)===!1})),ce.createElement(Fw,{...m,hiddenTextDescribedById:V}));function ti(){const se=(Yt==null?void 0:Yt.autoScrollEnabled)===!1,Ie=typeof p=="object"?p.enabled===!1:p===!1,oe=W&&!se&&!Ie;return typeof p=="object"?{...p,enabled:oe}:{enabled:oe}}}),G2=z.createContext(null),x_="button",Q2="Draggable";function F2(r){let{id:t,data:i,disabled:a=!1,attributes:o}=r;const c=Uo(Q2),{activators:d,activatorEvent:m,active:p,activeNodeRect:y,ariaDescribedById:E,draggableNodes:S,over:D}=z.useContext(Lo),{role:O=x_,roleDescription:K="draggable",tabIndex:q=0}=o??{},k=(p==null?void 0:p.id)===t,st=z.useContext(k?uf:G2),[lt,H]=Ic(),[at,tt]=Ic(),W=O2(d,t),R=So(i);ui(()=>(S.set(t,{id:t,key:c,node:lt,activatorNode:at,data:R}),()=>{const w=S.get(t);w&&w.key===c&&S.delete(t)}),[S,t]);const A=z.useMemo(()=>({role:O,tabIndex:q,"aria-disabled":a,"aria-pressed":k&&O===x_?!0:void 0,"aria-roledescription":K,"aria-describedby":E.draggable}),[a,O,q,k,K,E.draggable]);return{active:p,activatorEvent:m,activeNodeRect:y,attributes:A,isDragging:k,listeners:a?void 0:W,node:lt,over:D,setNodeRef:H,setActivatorNodeRef:tt,transform:st}}function YE(){return z.useContext(QE)}const K2="Droppable",Y2={timeout:25};function X2(r){let{data:t,disabled:i=!1,id:a,resizeObserverConfig:o}=r;const c=Uo(K2),{active:d,dispatch:m,over:p,measureDroppableContainers:y}=z.useContext(Lo),E=z.useRef({disabled:i}),S=z.useRef(!1),D=z.useRef(null),O=z.useRef(null),{disabled:K,updateMeasurementsFor:q,timeout:k}={...Y2,...o},st=So(q??a),lt=z.useCallback(()=>{if(!S.current){S.current=!0;return}O.current!=null&&clearTimeout(O.current),O.current=setTimeout(()=>{y(Array.isArray(st.current)?st.current:[st.current]),O.current=null},k)},[k]),H=of({callback:lt,disabled:K||!d}),at=z.useCallback((A,w)=>{H&&(w&&(H.unobserve(w),S.current=!1),A&&H.observe(A))},[H]),[tt,W]=Ic(at),R=So(t);return z.useEffect(()=>{!H||!tt.current||(H.disconnect(),S.current=!1,H.observe(tt.current))},[tt,H]),z.useEffect(()=>(m({type:ze.RegisterDroppable,element:{id:a,key:c,disabled:i,node:tt,rect:D,data:R}}),()=>m({type:ze.UnregisterDroppable,key:c,id:a})),[a]),z.useEffect(()=>{i!==E.current.disabled&&(m({type:ze.SetDroppableDisabled,id:a,key:c,disabled:i}),E.current.disabled=i)},[a,c,i,m]),{active:d,rect:D,isOver:(p==null?void 0:p.id)===a,node:tt,over:p,setNodeRef:W}}function Z2(r){let{animation:t,children:i}=r;const[a,o]=z.useState(null),[c,d]=z.useState(null),m=Vc(i);return!i&&!a&&m&&o(m),ui(()=>{if(!c)return;const p=a==null?void 0:a.key,y=a==null?void 0:a.props.id;if(p==null||y==null){o(null);return}Promise.resolve(t(y,c)).then(()=>{o(null)})},[t,a,c]),ce.createElement(ce.Fragment,null,i,a?z.cloneElement(a,{ref:d}):null)}const $2={x:0,y:0,scaleX:1,scaleY:1};function J2(r){let{children:t}=r;return ce.createElement(Lo.Provider,{value:GE},ce.createElement(uf.Provider,{value:$2},t))}const W2={position:"fixed",touchAction:"none"},tD=r=>af(r)?"transform 250ms ease":void 0,eD=z.forwardRef((r,t)=>{let{as:i,activatorEvent:a,adjustScale:o,children:c,className:d,rect:m,style:p,transform:y,transition:E=tD}=r;if(!m)return null;const S=o?y:{...y,scaleX:1,scaleY:1},D={...W2,width:m.width,height:m.height,top:m.top,left:m.left,transform:ns.Transform.toString(S),transformOrigin:o&&a?Yw(a,m):void 0,transition:typeof E=="function"?E(a):E,...p};return ce.createElement(i,{className:d,style:D,ref:t},c)}),nD=r=>t=>{let{active:i,dragOverlay:a}=t;const o={},{styles:c,className:d}=r;if(c!=null&&c.active)for(const[m,p]of Object.entries(c.active))p!==void 0&&(o[m]=i.node.style.getPropertyValue(m),i.node.style.setProperty(m,p));if(c!=null&&c.dragOverlay)for(const[m,p]of Object.entries(c.dragOverlay))p!==void 0&&a.node.style.setProperty(m,p);return d!=null&&d.active&&i.node.classList.add(d.active),d!=null&&d.dragOverlay&&a.node.classList.add(d.dragOverlay),function(){for(const[p,y]of Object.entries(o))i.node.style.setProperty(p,y);d!=null&&d.active&&i.node.classList.remove(d.active)}},iD=r=>{let{transform:{initial:t,final:i}}=r;return[{transform:ns.Transform.toString(t)},{transform:ns.Transform.toString(i)}]},rD={duration:250,easing:"ease",keyframes:iD,sideEffects:nD({styles:{active:{opacity:"0"}}})};function sD(r){let{config:t,draggableNodes:i,droppableContainers:a,measuringConfiguration:o}=r;return sf((c,d)=>{if(t===null)return;const m=i.get(c);if(!m)return;const p=m.node.current;if(!p)return;const y=HE(d);if(!y)return;const{transform:E}=Tn(d).getComputedStyle(d),S=VE(E);if(!S)return;const D=typeof t=="function"?t:aD(t);return kE(p,o.draggable.measure),D({active:{id:c,data:m.data,node:p,rect:o.draggable.measure(p)},draggableNodes:i,dragOverlay:{node:d,rect:o.dragOverlay.measure(y)},droppableContainers:a,measuringConfiguration:o,transform:S})})}function aD(r){const{duration:t,easing:i,sideEffects:a,keyframes:o}={...rD,...r};return c=>{let{active:d,dragOverlay:m,transform:p,...y}=c;if(!t)return;const E={x:m.rect.left-d.rect.left,y:m.rect.top-d.rect.top},S={scaleX:p.scaleX!==1?d.rect.width*p.scaleX/m.rect.width:1,scaleY:p.scaleY!==1?d.rect.height*p.scaleY/m.rect.height:1},D={x:p.x-E.x,y:p.y-E.y,...S},O=o({...y,active:d,dragOverlay:m,transform:{initial:p,final:D}}),[K]=O,q=O[O.length-1];if(JSON.stringify(K)===JSON.stringify(q))return;const k=a==null?void 0:a({active:d,dragOverlay:m,...y}),st=m.node.animate(O,{duration:t,easing:i,fill:"forwards"});return new Promise(lt=>{st.onfinish=()=>{k==null||k(),lt()}})}}let N_=0;function lD(r){return z.useMemo(()=>{if(r!=null)return N_++,N_},[r])}const oD=ce.memo(r=>{let{adjustScale:t=!1,children:i,dropAnimation:a,style:o,transition:c,modifiers:d,wrapperElement:m="div",className:p,zIndex:y=999}=r;const{activatorEvent:E,active:S,activeNodeRect:D,containerNodeRect:O,draggableNodes:K,droppableContainers:q,dragOverlay:k,over:st,measuringConfiguration:lt,scrollableAncestors:H,scrollableAncestorRects:at,windowRect:tt}=YE(),W=z.useContext(uf),R=lD(S==null?void 0:S.id),A=FE(d,{activatorEvent:E,active:S,activeNodeRect:D,containerNodeRect:O,draggingNodeRect:k.rect,over:st,overlayNodeRect:k.rect,scrollableAncestors:H,scrollableAncestorRects:at,transform:W,windowRect:tt}),w=jm(D),I=sD({config:a,draggableNodes:K,droppableContainers:q,measuringConfiguration:lt}),N=w?k.setRef:void 0;return ce.createElement(J2,null,ce.createElement(Z2,{animation:I},S&&R?ce.createElement(eD,{key:R,id:S.id,ref:N,as:m,activatorEvent:E,adjustScale:t,className:p,transition:c,rect:w,style:{zIndex:y,...o},transform:A},i):null))});function wo(r,t,i){const a=r.slice();return a.splice(i<0?a.length+i:i,0,a.splice(t,1)[0]),a}function uD(r,t){return r.reduce((i,a,o)=>{const c=t.get(a);return c&&(i[o]=c),i},Array(r.length))}function lc(r){return r!==null&&r>=0}function cD(r,t){if(r===t)return!0;if(r.length!==t.length)return!1;for(let i=0;i<r.length;i++)if(r[i]!==t[i])return!1;return!0}function fD(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const cf=r=>{let{rects:t,activeIndex:i,overIndex:a,index:o}=r;const c=wo(t,a,i),d=t[o],m=c[o];return!m||!d?null:{x:m.left-d.left,y:m.top-d.top,scaleX:m.width/d.width,scaleY:m.height/d.height}},XE="Sortable",ZE=ce.createContext({activeIndex:-1,containerId:XE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:cf,disabled:{draggable:!1,droppable:!1}});function $E(r){let{children:t,id:i,items:a,strategy:o=cf,disabled:c=!1}=r;const{active:d,dragOverlay:m,droppableRects:p,over:y,measureDroppableContainers:E}=YE(),S=Uo(XE,i),D=m.rect!==null,O=z.useMemo(()=>a.map(W=>typeof W=="object"&&"id"in W?W.id:W),[a]),K=d!=null,q=d?O.indexOf(d.id):-1,k=y?O.indexOf(y.id):-1,st=z.useRef(O),lt=!cD(O,st.current),H=k!==-1&&q===-1||lt,at=fD(c);ui(()=>{lt&&K&&E(O)},[lt,O,K,E]),z.useEffect(()=>{st.current=O},[O]);const tt=z.useMemo(()=>({activeIndex:q,containerId:S,disabled:at,disableTransforms:H,items:O,overIndex:k,useDragOverlay:D,sortedRects:uD(O,p),strategy:o}),[q,S,at.draggable,at.droppable,H,O,k,p,D,o]);return ce.createElement(ZE.Provider,{value:tt},t)}const hD=r=>{let{id:t,items:i,activeIndex:a,overIndex:o}=r;return wo(i,a,o).indexOf(t)},dD=r=>{let{containerId:t,isSorting:i,wasDragging:a,index:o,items:c,newIndex:d,previousItems:m,previousContainerId:p,transition:y}=r;return!y||!a||m!==c&&o===d?!1:i?!0:d!==o&&t===p},mD={duration:200,easing:"ease"},JE="transform",gD=ns.Transition.toString({property:JE,duration:0,easing:"linear"}),pD={roleDescription:"sortable"};function yD(r){let{disabled:t,index:i,node:a,rect:o}=r;const[c,d]=z.useState(null),m=z.useRef(i);return ui(()=>{if(!t&&i!==m.current&&a.current){const p=o.current;if(p){const y=tl(a.current,{ignoreTransform:!0}),E={x:p.left-y.left,y:p.top-y.top,scaleX:p.width/y.width,scaleY:p.height/y.height};(E.x||E.y)&&d(E)}}i!==m.current&&(m.current=i)},[t,i,a,o]),z.useEffect(()=>{c&&d(null)},[c]),c}function WE(r){let{animateLayoutChanges:t=dD,attributes:i,disabled:a,data:o,getNewIndex:c=hD,id:d,strategy:m,resizeObserverConfig:p,transition:y=mD}=r;const{items:E,containerId:S,activeIndex:D,disabled:O,disableTransforms:K,sortedRects:q,overIndex:k,useDragOverlay:st,strategy:lt}=z.useContext(ZE),H=vD(a,O),at=E.indexOf(d),tt=z.useMemo(()=>({sortable:{containerId:S,index:at,items:E},...o}),[S,o,at,E]),W=z.useMemo(()=>E.slice(E.indexOf(d)),[E,d]),{rect:R,node:A,isOver:w,setNodeRef:I}=X2({id:d,data:tt,disabled:H.droppable,resizeObserverConfig:{updateMeasurementsFor:W,...p}}),{active:N,activatorEvent:U,activeNodeRect:C,attributes:Kt,setNodeRef:Yt,listeners:Y,isDragging:ot,over:ut,setActivatorNodeRef:pt,transform:V}=F2({id:d,data:tt,attributes:{...pD,...i},disabled:H.draggable}),$=Ow(I,Yt),ct=!!N,it=ct&&!K&&lc(D)&&lc(k),mt=!st&&ot,Rt=mt&&it?V:null,he=it?Rt??(m??lt)({rects:q,activeNodeRect:C,activeIndex:D,overIndex:k,index:at}):null,zt=lc(D)&&lc(k)?c({id:d,items:E,activeIndex:D,overIndex:k}):at,Se=N==null?void 0:N.id,Vt=z.useRef({activeId:Se,items:E,newIndex:zt,containerId:S}),hn=E!==Vt.current.items,je=t({active:N,containerId:S,isDragging:ot,isSorting:ct,id:d,index:at,items:E,newIndex:Vt.current.newIndex,previousItems:Vt.current.items,previousContainerId:Vt.current.containerId,transition:y,wasDragging:Vt.current.activeId!=null}),bn=yD({disabled:!je,index:at,node:A,rect:R});return z.useEffect(()=>{ct&&Vt.current.newIndex!==zt&&(Vt.current.newIndex=zt),S!==Vt.current.containerId&&(Vt.current.containerId=S),E!==Vt.current.items&&(Vt.current.items=E)},[ct,zt,S,E]),z.useEffect(()=>{if(Se===Vt.current.activeId)return;if(Se!=null&&Vt.current.activeId==null){Vt.current.activeId=Se;return}const Pn=setTimeout(()=>{Vt.current.activeId=Se},50);return()=>clearTimeout(Pn)},[Se]),{active:N,activeIndex:D,attributes:Kt,data:tt,rect:R,index:at,newIndex:zt,items:E,isOver:w,isSorting:ct,isDragging:ot,listeners:Y,node:A,overIndex:k,over:ut,setNodeRef:$,setActivatorNodeRef:pt,setDroppableNodeRef:I,setDraggableNodeRef:Yt,transform:bn??he,transition:Xe()};function Xe(){if(bn||hn&&Vt.current.newIndex===at)return gD;if(!(mt&&!af(U)||!y)&&(ct||je))return ns.Transition.toString({...y,property:JE})}}function vD(r,t){var i,a;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(i=r==null?void 0:r.draggable)!=null?i:t.draggable,droppable:(a=r==null?void 0:r.droppable)!=null?a:t.droppable}}Ft.Down,Ft.Right,Ft.Up,Ft.Left;function _D({item:r,boxId:t,isSelected:i,isLowCount:a,onToggle:o,boxMode:c,onChangeItem:d,onRemoveItem:m,editingItemId:p,setEditingItemId:y,editingCountId:E,setEditingCountId:S,editingUnitId:D,setEditingUnitId:O}){const{attributes:K,listeners:q,setNodeRef:k,transform:st,transition:lt}=WE({id:r.id}),H={transform:ns.Transform.toString(st),transition:lt},at=r.status==="blue"?"bg-blue-100 text-blue-800":r.status==="red"?"bg-red-100 text-red-800":"bg-white text-black",tt=i?"text-[#66A3FF]":a?"text-[#CC6666]":"text-gray-500",W=()=>{const R=r.status==="none"?"blue":r.status==="blue"?"red":"none";d(t,r.id,R,"status")};return J.jsxs("li",{...K,ref:k,style:H,className:`p-1 mb-1 rounded-md border border-gray-300 flex items-center justify-between transition-colors duration-300 ${at}`,children:[J.jsx("button",{...q,onClick:R=>{R.stopPropagation(),o(t,r.id),W()},className:`mr-2 w-5 h-5 rounded-full border flex items-center justify-center text-xs shrink-0 transition-colors ${r.status==="blue"?"bg-blue-500 text-white border-blue-500":r.status==="red"?"bg-red-500 text-white border-red-500":"bg-white text-gray-400 border-gray-400"}`}),J.jsx("div",{className:"flex-1 flex items-center gap-2 overflow-hidden leading-none min-w-0",children:c==="shopping"?J.jsxs(J.Fragment,{children:[J.jsx("div",{className:"flex-[6] min-w-0 truncate",children:p===r.id?J.jsx("input",{type:"text",value:r.text,onChange:R=>d(t,r.id,R.target.value),onBlur:()=>y(null),className:"text-sm font-normal bg-transparent border-none outline-none w-full truncate",autoFocus:!0}):J.jsx("span",{className:"text-sm truncate cursor-text inline-block w-full",onClick:()=>y(r.id),children:r.text})}),J.jsx("div",{className:"flex-[2] text-xs text-right font-mono truncate",children:E===r.id?J.jsx("input",{type:"text",value:r.count,onChange:R=>d(t,r.id,R.target.value,"count"),onBlur:()=>S(null),onKeyDown:R=>{R.key==="Enter"&&S(null)},className:`w-full text-right bg-transparent outline-none border-none ${tt}`,autoFocus:!0}):J.jsx("span",{className:`cursor-text ${tt}`,onClick:()=>S(r.id),children:r.count})}),J.jsx("div",{className:"flex-[2] text-xs text-left font-mono truncate",children:D===r.id?J.jsx("input",{type:"text",value:r.unit,onChange:R=>d(t,r.id,R.target.value,"unit"),onBlur:()=>O(null),onKeyDown:R=>{R.key==="Enter"&&O(null)},className:`w-full text-left bg-transparent outline-none border-none ${tt}`,autoFocus:!0}):J.jsx("span",{className:`cursor-text ${tt}`,onClick:()=>O(r.id),children:r.unit})})]}):J.jsx("div",{className:"flex-1 min-w-0 truncate",children:p===r.id?J.jsx("input",{type:"text",value:r.text,onChange:R=>d(t,r.id,R.target.value),onBlur:()=>y(null),className:"text-sm font-normal bg-transparent border-none outline-none w-full truncate",autoFocus:!0}):J.jsx("span",{className:"text-sm truncate cursor-text inline-block w-full",onClick:()=>y(r.id),children:r.text})})}),J.jsx("button",{onClick:()=>m(t,r.id),className:"ml-2 px-2 text-gray rounded hover:bg-gray-200 transition text-sm shrink-0",title:"삭제",children:"X"})]})}const ED=async r=>{const t=Io(hE(Vo,"sharedData"),"main");await AE(t,{todoBoxes:r})},TD=r=>{const t=Io(hE(Vo,"sharedData"),"main");return nf(t,i=>{const a=i.data();a&&a.todoBoxes&&r(a.todoBoxes)})};function I_({box:r,activeBox:t,isDragging:i,setActiveBox:a,onChangeTitle:o,onChangeItem:c,onAddItem:d,onRemoveItem:m,toggleItemSelection:p,onChangeItemOrder:y,selectedItemIds:E}){const{attributes:S,listeners:D,setNodeRef:O}=WE({id:r.id}),[K,q]=z.useState(!1),k=z.useRef(null),[st,lt]=z.useState(""),[H,at]=z.useState(""),[tt,W]=z.useState(""),R=z.useRef(null),A=z.useRef(null),w=z.useRef(null),[I,N]=z.useState(null),[U,C]=z.useState(null),[Kt,Yt]=z.useState(null),Y=xE(Lc(lf,{activationConstraint:{delay:200,tolerance:5}}),Lc(Bm,{activationConstraint:{delay:200,tolerance:5}})),ot=()=>{var ut,pt,V,$;if(!st.trim()){(ut=R.current)==null||ut.focus();return}if(r.mode==="shopping"&&!H.trim()){(pt=A.current)==null||pt.focus();return}if(r.mode==="shopping"&&!tt.trim()){(V=w.current)==null||V.focus();return}d(r.id,{id:$d(),text:st.trim(),count:H.trim(),unit:tt.trim(),status:"none"}),lt(""),at(""),W(""),($=R.current)==null||$.focus()};return J.jsxs("div",{ref:O,onClick:ut=>{if(i)return;const pt=ut.target.tagName.toLowerCase();["input","textarea","button","select"].includes(pt)||a((t==null?void 0:t.id)===r.id?null:r)},style:{opacity:i&&(t==null?void 0:t.id)===r.id?0:1,visibility:"visible",height:"auto",touchAction:i?"none":"auto"},className:"border p-2 rounded shadow bg-white w-full transition-opacity",children:[J.jsxs("div",{className:"flex justify-between items-center mb-2",children:[J.jsx("button",{...S,...D,onMouseDown:ut=>{k.current=setTimeout(()=>{var pt;(pt=D.onPointerDown)==null||pt.call(D,ut)},300)},onMouseUp:()=>{k.current&&clearTimeout(k.current)},onMouseLeave:()=>{k.current&&clearTimeout(k.current)},onClick:ut=>{ut.stopPropagation(),q(pt=>!pt)},className:"mx-1 text-gray-500 cursor-pointer text-sm transition",title:"길게 누르면 드래그 / 클릭하면 접기/펼치기",children:K?"▷":"▽"}),J.jsx("input",{className:"flex-1 font-semibold bg-transparent outline-none truncate",value:r.title,onChange:ut=>o(r.id,ut.target.value)}),J.jsx("button",{onClick:()=>m(r.id,"__box__"),className:"ml-2 px-2 mr-1 text-gray rounded hover:bg-gray-200 transition text-sm shrink-0",title:"소주제 삭제",children:"X"})]}),!K&&J.jsxs(J.Fragment,{children:[J.jsx(KE,{sensors:Y,collisionDetection:NE,onDragEnd:ut=>{const{active:pt,over:V}=ut;if(!V||pt.id===V.id)return;const $=r.items.findIndex(it=>it.id===pt.id),ct=r.items.findIndex(it=>it.id===V.id);$<0||ct<0||y(r.id,wo(r.items,$,ct))},children:J.jsx($E,{items:r.items.map(ut=>ut.id),strategy:cf,children:J.jsx("ul",{className:"mb-2",children:r.items.map(ut=>{var pt;return J.jsx(_D,{item:ut,boxId:r.id,boxMode:r.mode,isSelected:((pt=E[r.id])==null?void 0:pt.includes(ut.id))||!1,isLowCount:r.mode==="shopping"&&Number(ut.count||0)<=3,onToggle:p,onChangeItem:c,onRemoveItem:m,editingItemId:I,setEditingItemId:N,editingCountId:U,setEditingCountId:C,editingUnitId:Kt,setEditingUnitId:Yt},ut.id)})})})}),J.jsxs("div",{className:"flex items-center border p-1 rounded",children:[J.jsx("div",{className:"w-5 h-5 mr-2"}),J.jsx("input",{ref:R,className:"flex-[6] min-w-0 outline-none text-sm mr-1",placeholder:"새 항목",value:st,onChange:ut=>lt(ut.target.value),onKeyDown:ut=>{ut.key==="Enter"&&(ut.preventDefault(),ot())}}),r.mode==="shopping"&&J.jsxs(J.Fragment,{children:[J.jsx("input",{ref:A,className:"flex-[2] min-w-0 outline-none text-sm text-right mr-1",placeholder:"수량",value:H,onChange:ut=>at(ut.target.value),onKeyDown:ut=>{ut.key==="Enter"&&(ut.preventDefault(),ot())}}),J.jsx("input",{ref:w,className:"flex-[2] min-w-0 outline-none text-sm text-left mr-1",placeholder:"단위",value:tt,onChange:ut=>W(ut.target.value),onKeyDown:ut=>{ut.key==="Enter"&&(ut.preventDefault(),ot())}})]}),J.jsx("button",{onClick:ot,className:"px-2 text-gray rounded hover:bg-gray-200 transition text-sm shrink-0",children:"+"})]})]})]})}function bD(){const[r,t]=z.useState([]),[i,a]=z.useState(!1),o=z.useRef(null),[c,d]=z.useState(!1),m=z.useRef(null),[p,y]=z.useState(null),[E,S]=z.useState({});z.useEffect(()=>{const W=TD(R=>{t(R.length>0?R:[{id:$d(),title:"기본 박스",items:[],mode:"default"}]),a(!0)});return()=>W()},[]),z.useEffect(()=>{if(i)return o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{ED(r).catch(console.error)},1e3),()=>{o.current&&clearTimeout(o.current)}},[r,i]);const D=W=>{t(R=>[...R,{id:$d(),title:W==="shopping"?"장보기":"제목 없음",items:[],mode:W}])},O=W=>{t(R=>{const A=R.findIndex(w=>w.id===W);return A<0||A===R.length-1?R:wo(R,A,A+1)})},K=(W,R)=>{t(A=>A.map(w=>w.id===W?{...w,items:[...w.items,R]}:w))},q=(W,R)=>{if(R==="__box__"){if(!confirm("정말 이 소주제를 삭제할까요?"))return;t(w=>w.filter(I=>I.id!==W));return}t(A=>A.map(w=>w.id===W?{...w,items:w.items.filter(I=>I.id!==R)}:w))},k=(W,R)=>{t(A=>A.map(w=>w.id===W?{...w,items:R}:w))},st=(W,R)=>{t(A=>A.map(w=>w.id===W?{...w,title:R}:w))},lt=(W,R,A,w="text")=>{t(I=>I.map(N=>N.id===W?{...N,items:N.items.map(U=>U.id===R?{...U,[w]:A}:U)}:N))};z.useEffect(()=>{const W=A=>{m.current&&!m.current.contains(A.target)&&y(null)},R=A=>{A.key==="Escape"&&y(null)};return document.addEventListener("mousedown",W),document.addEventListener("keydown",R),()=>{document.removeEventListener("mousedown",W),document.removeEventListener("keydown",R)}},[]);const H=xE(Lc(lf,{activationConstraint:{delay:200,tolerance:5}}),Lc(Bm,{activationConstraint:{delay:200,tolerance:5}})),at=W=>{const R=r.find(A=>A.id===W.active.id);R&&(y(R),d(!0))},tt=W=>{const{active:R,over:A}=W;if(!A||R.id===A.id){d(!1),y(null);return}const w=r.findIndex(N=>N.id===R.id),I=r.findIndex(N=>N.id===A.id);w>=0&&I>=0&&t(N=>wo(N,w,I)),d(!1),y(null)};return J.jsx("div",{ref:m,style:{touchAction:c?"none":"auto"},children:J.jsxs(KE,{sensors:H,collisionDetection:NE,onDragStart:at,onDragEnd:tt,children:[J.jsx($E,{items:r.map(W=>W.id),strategy:cf,children:J.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2",children:[r.map((W,R)=>J.jsx(I_,{box:W,activeBox:p,isDragging:c&&(p==null?void 0:p.id)===W.id,setActiveBox:y,onChangeTitle:st,onChangeItem:lt,onAddItem:K,onRemoveItem:q,toggleItemSelection:(A,w)=>{S(I=>{const N=I[A]||[];return{...I,[A]:N.includes(w)?N.filter(U=>U!==w):[...N,w]}})},onChangeItemOrder:k,selectedItemIds:E,moveBoxDown:O,isLastBox:R===r.length-1},W.id)),J.jsxs("div",{className:"flex gap-2 mt-2",children:[J.jsx("button",{onClick:()=>D("default"),className:"border-dashed border-2 rounded flex-1 h-12",children:"+ 할일"}),J.jsx("button",{onClick:()=>D("shopping"),className:"border-dashed border-2 rounded flex-1 h-12",children:"+ 장보기"})]})]})}),J.jsx(oD,{children:p&&J.jsx(I_,{box:p,activeBox:p,isDragging:!1,setActiveBox:()=>{},onChangeTitle:()=>{},onChangeItem:()=>{},onAddItem:()=>{},onRemoveItem:()=>{},toggleItemSelection:()=>{},onChangeItemOrder:()=>{},selectedItemIds:E,moveBoxDown:()=>{},isLastBox:!1})})]})})}function AD(){return J.jsxs("div",{className:"space-y-6",children:[J.jsx(Cw,{}),J.jsx(bD,{})]})}function SD(){const r=Io(Vo,"routineItems","config"),[t,i]=z.useState([]),[a,o]=z.useState({id:"",category:"",name:"",lastChecked:"",lastReplaced:"",memo:"",cycle:0}),[c,d]=z.useState(null),[m,p]=z.useState(null),[y,E]=z.useState(!0),S=[{key:"category",label:"구분"},{key:"name",label:"이름"},{key:"lastChecked",label:"최종확인"},{key:"lastReplaced",label:"최종교체"},{key:"cycle",label:"주기"},{key:"memo",label:"메모"}];z.useEffect(()=>{const H=nf(r,at=>{var W;const tt=(W=at.data())==null?void 0:W.items;tt&&i(tt)});return()=>H()},[]);const D=(H,at)=>{o(tt=>({...tt,[H]:H==="cycle"?Number(at):at}))},O=async H=>{await AE(r,{items:H},{merge:!0})},K=async()=>{var at;if(!((at=a.name)!=null&&at.trim()))return;let H;if(c)H=t.map(tt=>tt.id===c?{...a,id:c}:tt),d(null);else{const tt=crypto.randomUUID();H=[...t,{...a,id:tt}]}o({id:"",category:"",name:"",lastChecked:"",lastReplaced:"",memo:"",cycle:0}),await O(H)},q=async H=>{const at=t.filter(tt=>tt.id!==H);await O(at)},k=H=>{const at=t.find(tt=>tt.id===H);at&&(o(at),d(H))},st=H=>{m===H?E(!y):(p(H),E(!0))},lt=[...t].sort((H,at)=>{var R,A;if(!m)return 0;const tt=((R=H[m])==null?void 0:R.toString())||"",W=((A=at[m])==null?void 0:A.toString())||"";return y?tt.localeCompare(W):W.localeCompare(tt)});return J.jsxs("div",{className:"p-6 space-y-6",children:[J.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[J.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 text-sm",children:[J.jsx("input",{value:a.category,onChange:H=>D("category",H.target.value),placeholder:"구분",className:"border p-2 rounded w-full"}),J.jsx("input",{value:a.name,onChange:H=>D("name",H.target.value),placeholder:"이름",className:"border p-2 rounded w-full"}),J.jsx("input",{type:"date",value:a.lastChecked,onChange:H=>D("lastChecked",H.target.value),placeholder:"최종확인",className:"border p-2 rounded w-full"}),J.jsx("input",{type:"date",value:a.lastReplaced,onChange:H=>D("lastReplaced",H.target.value),placeholder:"최종교체",className:"border p-2 rounded w-full"}),J.jsx("input",{type:"number",value:a.cycle,onChange:H=>D("cycle",H.target.value),placeholder:"주기",className:"border p-2 rounded w-full"}),J.jsx("input",{value:a.memo,onChange:H=>D("memo",H.target.value),placeholder:"메모",className:"border p-2 rounded w-full"})]}),J.jsx("div",{className:"flex justify-center mt-4",children:J.jsx("button",{onClick:K,className:"px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:c?"수정 완료":"항목 추가"})})]}),J.jsx("div",{className:"overflow-x-auto",children:lt.length===0?J.jsx("p",{className:"text-gray-500",children:"아직 추가된 항목이 없습니다."}):J.jsxs("table",{className:"min-w-[960px] w-full table-auto border text-sm mt-4",children:[J.jsx("thead",{children:J.jsxs("tr",{className:"bg-gray-100",children:[S.map(({key:H,label:at})=>J.jsxs("th",{onClick:()=>st(H),className:"border px-4 py-2 cursor-pointer hover:bg-gray-200",children:[at," ",""]},H)),J.jsx("th",{className:"border px-4 py-2",children:"수정"}),J.jsx("th",{className:"border px-4 py-2",children:"삭제"})]})}),J.jsx("tbody",{children:lt.map(H=>J.jsxs("tr",{className:"text-center",children:[J.jsx("td",{className:"border px-4 py-2",children:H.category}),J.jsx("td",{className:"border px-4 py-2",children:H.name}),J.jsx("td",{className:"border px-4 py-2",children:H.lastChecked}),J.jsx("td",{className:"border px-4 py-2",children:H.lastReplaced}),J.jsx("td",{className:"border px-4 py-2",children:H.cycle}),J.jsx("td",{className:"border px-4 py-2",children:H.memo}),J.jsx("td",{className:"border px-4 py-2",children:J.jsx("button",{onClick:()=>k(H.id),className:"text-blue-500",children:"수정"})}),J.jsx("td",{className:"border px-4 py-2",children:J.jsx("button",{onClick:()=>q(H.id),className:"text-red-500",children:"삭제"})})]},H.id))})]})})]})}function RD(){return J.jsx("div",{children:"📘 경인 메모장"})}function wD(){return J.jsx("div",{children:"📘 메모장"})}function DD(){const r=["할일","루틴","경인","유섭"],[t,i]=z.useState("할일");return J.jsxs("div",{className:"min-h-screen bg-transparent pt-4 pb-16 font-sans",children:[" ",J.jsxs("div",{className:"mx-2",children:[t==="할일"&&J.jsx(AD,{}),t==="루틴"&&J.jsx(SD,{}),t==="경인"&&J.jsx(RD,{}),t==="유섭"&&J.jsx(wD,{})]}),J.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-md flex",children:r.map(a=>J.jsx("button",{onClick:()=>i(a),className:`flex-1 py-1 font-semibold transition-all duration-200 ${t===a?"bg-white text-gray-700":"bg-gray-100 text-gray-700"}`,children:a},a))})]})}Ob.createRoot(document.getElementById("root")).render(J.jsx(ce.StrictMode,{children:J.jsx(DD,{})}));

(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function __(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wh={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function ob(){if(ky)return Wl;ky=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Wl.Fragment=t,Wl.jsx=i,Wl.jsxs=i,Wl}var jy;function ub(){return jy||(jy=1,Wh.exports=ob()),Wh.exports}var lt=ub(),td={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function cb(){if(qy)return Ct;qy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function V(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,F={};function H(I,$,at){this.props=I,this.context=$,this.refs=F,this.updater=at||U}H.prototype.isReactComponent={},H.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},H.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ot(){}ot.prototype=H.prototype;function ct(I,$,at){this.props=I,this.context=$,this.refs=F,this.updater=at||U}var Q=ct.prototype=new ot;Q.constructor=ct,X(Q,H.prototype),Q.isPureReactComponent=!0;var ut=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},tt=Object.prototype.hasOwnProperty;function w(I,$,at,et,gt,Rt){return at=Rt.ref,{$$typeof:r,type:I,key:$,ref:at!==void 0?at:null,props:Rt}}function A(I,$){return w(I.type,$,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function N(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(at){return $[at]})}var x=/\/+/g;function M(I,$){return typeof I=="object"&&I!==null&&I.key!=null?N(""+I.key):$.toString(36)}function D(){}function Ft(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(D,D):(I.status="pending",I.then(function($){I.status==="pending"&&(I.status="fulfilled",I.value=$)},function($){I.status==="pending"&&(I.status="rejected",I.reason=$)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Yt(I,$,at,et,gt){var Rt=typeof I;(Rt==="undefined"||Rt==="boolean")&&(I=null);var mt=!1;if(I===null)mt=!0;else switch(Rt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(I.$$typeof){case r:case t:mt=!0;break;case E:return mt=I._init,Yt(mt(I._payload),$,at,et,gt)}}if(mt)return gt=gt(I),mt=et===""?"."+M(I,0):et,ut(gt)?(at="",mt!=null&&(at=mt.replace(x,"$&/")+"/"),Yt(gt,$,at,"",function(Se){return Se})):gt!=null&&(R(gt)&&(gt=A(gt,at+(gt.key==null||I&&I.key===gt.key?"":(""+gt.key).replace(x,"$&/")+"/")+mt)),$.push(gt)),1;mt=0;var he=et===""?".":et+":";if(ut(I))for(var zt=0;zt<I.length;zt++)et=I[zt],Rt=he+M(et,zt),mt+=Yt(et,$,at,Rt,gt);else if(zt=V(I),typeof zt=="function")for(I=zt.call(I),zt=0;!(et=I.next()).done;)et=et.value,Rt=he+M(et,zt++),mt+=Yt(et,$,at,Rt,gt);else if(Rt==="object"){if(typeof I.then=="function")return Yt(Ft(I),$,at,et,gt);throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return mt}function K(I,$,at){if(I==null)return I;var et=[],gt=0;return Yt(I,et,"","",function(Rt){return $.call(at,Rt,gt++)}),et}function rt(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(at){(I._status===0||I._status===-1)&&(I._status=1,I._result=at)},function(at){(I._status===0||I._status===-1)&&(I._status=2,I._result=at)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var st=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function pt(){}return Ct.Children={map:K,forEach:function(I,$,at){K(I,function(){$.apply(this,arguments)},at)},count:function(I){var $=0;return K(I,function(){$++}),$},toArray:function(I){return K(I,function($){return $})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ct.Component=H,Ct.Fragment=i,Ct.Profiler=o,Ct.PureComponent=ct,Ct.StrictMode=a,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(I){return nt.H.useMemoCache(I)}},Ct.cache=function(I){return function(){return I.apply(null,arguments)}},Ct.cloneElement=function(I,$,at){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var et=X({},I.props),gt=I.key,Rt=void 0;if($!=null)for(mt in $.ref!==void 0&&(Rt=void 0),$.key!==void 0&&(gt=""+$.key),$)!tt.call($,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&$.ref===void 0||(et[mt]=$[mt]);var mt=arguments.length-2;if(mt===1)et.children=at;else if(1<mt){for(var he=Array(mt),zt=0;zt<mt;zt++)he[zt]=arguments[zt+2];et.children=he}return w(I.type,gt,void 0,void 0,Rt,et)},Ct.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Ct.createElement=function(I,$,at){var et,gt={},Rt=null;if($!=null)for(et in $.key!==void 0&&(Rt=""+$.key),$)tt.call($,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(gt[et]=$[et]);var mt=arguments.length-2;if(mt===1)gt.children=at;else if(1<mt){for(var he=Array(mt),zt=0;zt<mt;zt++)he[zt]=arguments[zt+2];gt.children=he}if(I&&I.defaultProps)for(et in mt=I.defaultProps,mt)gt[et]===void 0&&(gt[et]=mt[et]);return w(I,Rt,void 0,void 0,null,gt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(I){return{$$typeof:g,render:I}},Ct.isValidElement=R,Ct.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:rt}},Ct.memo=function(I,$){return{$$typeof:y,type:I,compare:$===void 0?null:$}},Ct.startTransition=function(I){var $=nt.T,at={};nt.T=at;try{var et=I(),gt=nt.S;gt!==null&&gt(at,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(pt,st)}catch(Rt){st(Rt)}finally{nt.T=$}},Ct.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Ct.use=function(I){return nt.H.use(I)},Ct.useActionState=function(I,$,at){return nt.H.useActionState(I,$,at)},Ct.useCallback=function(I,$){return nt.H.useCallback(I,$)},Ct.useContext=function(I){return nt.H.useContext(I)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(I,$){return nt.H.useDeferredValue(I,$)},Ct.useEffect=function(I,$,at){var et=nt.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(I,$)},Ct.useId=function(){return nt.H.useId()},Ct.useImperativeHandle=function(I,$,at){return nt.H.useImperativeHandle(I,$,at)},Ct.useInsertionEffect=function(I,$){return nt.H.useInsertionEffect(I,$)},Ct.useLayoutEffect=function(I,$){return nt.H.useLayoutEffect(I,$)},Ct.useMemo=function(I,$){return nt.H.useMemo(I,$)},Ct.useOptimistic=function(I,$){return nt.H.useOptimistic(I,$)},Ct.useReducer=function(I,$,at){return nt.H.useReducer(I,$,at)},Ct.useRef=function(I){return nt.H.useRef(I)},Ct.useState=function(I){return nt.H.useState(I)},Ct.useSyncExternalStore=function(I,$,at){return nt.H.useSyncExternalStore(I,$,at)},Ct.useTransition=function(){return nt.H.useTransition()},Ct.version="19.1.0",Ct}var Hy;function Hd(){return Hy||(Hy=1,td.exports=cb()),td.exports}var k=Hd();const ce=__(k);var ed={exports:{}},to={},nd={exports:{}},id={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function fb(){return Gy||(Gy=1,function(r){function t(K,rt){var st=K.length;K.push(rt);t:for(;0<st;){var pt=st-1>>>1,I=K[pt];if(0<o(I,rt))K[pt]=rt,K[st]=I,st=pt;else break t}}function i(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var rt=K[0],st=K.pop();if(st!==rt){K[0]=st;t:for(var pt=0,I=K.length,$=I>>>1;pt<$;){var at=2*(pt+1)-1,et=K[at],gt=at+1,Rt=K[gt];if(0>o(et,st))gt<I&&0>o(Rt,et)?(K[pt]=Rt,K[gt]=st,pt=gt):(K[pt]=et,K[at]=st,pt=at);else if(gt<I&&0>o(Rt,st))K[pt]=Rt,K[gt]=st,pt=gt;else break t}}return rt}function o(K,rt){var st=K.sortIndex-rt.sortIndex;return st!==0?st:K.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],y=[],E=1,S=null,V=3,U=!1,X=!1,F=!1,H=!1,ot=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ut(K){for(var rt=i(y);rt!==null;){if(rt.callback===null)a(y);else if(rt.startTime<=K)a(y),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=i(y)}}function nt(K){if(F=!1,ut(K),!X)if(i(p)!==null)X=!0,tt||(tt=!0,M());else{var rt=i(y);rt!==null&&Yt(nt,rt.startTime-K)}}var tt=!1,w=-1,A=5,R=-1;function N(){return H?!0:!(r.unstable_now()-R<A)}function x(){if(H=!1,tt){var K=r.unstable_now();R=K;var rt=!0;try{t:{X=!1,F&&(F=!1,ct(w),w=-1),U=!0;var st=V;try{e:{for(ut(K),S=i(p);S!==null&&!(S.expirationTime>K&&N());){var pt=S.callback;if(typeof pt=="function"){S.callback=null,V=S.priorityLevel;var I=pt(S.expirationTime<=K);if(K=r.unstable_now(),typeof I=="function"){S.callback=I,ut(K),rt=!0;break e}S===i(p)&&a(p),ut(K)}else a(p);S=i(p)}if(S!==null)rt=!0;else{var $=i(y);$!==null&&Yt(nt,$.startTime-K),rt=!1}}break t}finally{S=null,V=st,U=!1}rt=void 0}}finally{rt?M():tt=!1}}}var M;if(typeof Q=="function")M=function(){Q(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ft=D.port2;D.port1.onmessage=x,M=function(){Ft.postMessage(null)}}else M=function(){ot(x,0)};function Yt(K,rt){w=ot(function(){K(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(K){switch(V){case 1:case 2:case 3:var rt=3;break;default:rt=V}var st=V;V=rt;try{return K()}finally{V=st}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,rt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var st=V;V=K;try{return rt()}finally{V=st}},r.unstable_scheduleCallback=function(K,rt,st){var pt=r.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?pt+st:pt):st=pt,K){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=st+I,K={id:E++,callback:rt,priorityLevel:K,startTime:st,expirationTime:I,sortIndex:-1},st>pt?(K.sortIndex=st,t(y,K),i(p)===null&&K===i(y)&&(F?(ct(w),w=-1):F=!0,Yt(nt,st-pt))):(K.sortIndex=I,t(p,K),X||U||(X=!0,tt||(tt=!0,M()))),K},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(K){var rt=V;return function(){var st=V;V=rt;try{return K.apply(this,arguments)}finally{V=st}}}}(id)),id}var Qy;function hb(){return Qy||(Qy=1,nd.exports=fb()),nd.exports}var rd={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function db(){if(Ky)return on;Ky=1;var r=Hd();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,E)},on.flushSync=function(p){var y=d.T,E=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=y,a.p=E,a.d.f()}},on.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},on.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},on.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:U}):E==="script"&&a.d.X(p,{crossOrigin:S,integrity:V,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},on.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},on.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},on.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},on.requestFormReset=function(p){a.d.r(p)},on.unstable_batchedUpdates=function(p,y){return p(y)},on.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.1.0",on}var Fy;function E_(){if(Fy)return rd.exports;Fy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),rd.exports=db(),rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function gb(){if(Yy)return to;Yy=1;var r=hb(),t=Hd(),i=E_();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var f=s.return;if(f===null)break;var h=f.alternate;if(h===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===s)return g(f),e;if(h===l)return g(f),n;h=h.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=h;else{for(var _=!1,T=f.child;T;){if(T===s){_=!0,s=f,l=h;break}if(T===l){_=!0,l=f,s=h;break}T=T.sibling}if(!_){for(T=h.child;T;){if(T===s){_=!0,s=h,l=f;break}if(T===l){_=!0,l=h,s=f;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ot=Symbol.for("react.provider"),ct=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case H:return"Profiler";case F:return"StrictMode";case nt:return"Suspense";case tt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case Q:return(e.displayName||"Context")+".Provider";case ct:return(e._context.displayName||"Context")+".Consumer";case ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return n=e.displayName||null,n!==null?n:Ft(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Ft(e(n))}catch{}}return null}var Yt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},pt=[],I=-1;function $(e){return{current:e}}function at(e){0>I||(e.current=pt[I],pt[I]=null,I--)}function et(e,n){I++,pt[I]=e.current,e.current=n}var gt=$(null),Rt=$(null),mt=$(null),he=$(null);function zt(e,n){switch(et(mt,n),et(Rt,e),et(gt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?gy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=gy(n),e=my(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}at(gt),et(gt,e)}function Se(){at(gt),at(Rt),at(mt)}function Vt(e){e.memoizedState!==null&&et(he,e);var n=gt.current,s=my(n,e.type);n!==s&&(et(Rt,e),et(gt,s))}function hn(e){Rt.current===e&&(at(gt),at(Rt)),he.current===e&&(at(he),Yl._currentValue=st)}var je=Object.prototype.hasOwnProperty,Tn=r.unstable_scheduleCallback,Xe=r.unstable_cancelCallback,Ln=r.unstable_shouldYield,Jn=r.unstable_requestPaint,dn=r.unstable_now,ks=r.unstable_getCurrentPriorityLevel,Oi=r.unstable_ImmediatePriority,gn=r.unstable_UserBlockingPriority,zn=r.unstable_NormalPriority,dr=r.unstable_LowPriority,Mi=r.unstable_IdlePriority,gr=r.log,js=r.unstable_setDisableYieldValue,le=null,Ut=null;function Re(e){if(typeof gr=="function"&&js(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(le,e)}catch{}}var me=Math.clz32?Math.clz32:fi,ts=Math.log,Pn=Math.LN2;function fi(e){return e>>>=0,e===0?32:31-(ts(e)/Pn|0)|0}var Ui=256,Li=4194304;function mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var f=0,h=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~h,l!==0?f=mn(l):(_&=T,_!==0?f=mn(_):s||(s=T&~e,s!==0&&(f=mn(s))))):(T=l&~h,T!==0?f=mn(T):_!==0?f=mn(_):s||(s=l&~e,s!==0&&(f=mn(s)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,s=n&-n,h>=s||h===32&&(s&4194048)!==0)?n:f}function Pi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function mr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function es(){var e=Ui;return Ui<<=1,(Ui&4194048)===0&&(Ui=256),e}function ns(){var e=Li;return Li<<=1,(Li&62914560)===0&&(Li=4194304),e}function Wn(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function se(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,n,s,l,f,h){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,B=e.hiddenUpdates;for(s=_&~s;0<s;){var Y=31-me(s),J=1<<Y;T[Y]=0,C[Y]=-1;var j=B[Y];if(j!==null)for(B[Y]=null,Y=0;Y<j.length;Y++){var q=j[Y];q!==null&&(q.lane&=-536870913)}s&=~J}l!==0&&oe(e,l,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(_&~n))}function oe(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-me(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function bn(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-me(s),f=1<<l;f&n|e[l]&n&&(e[l]|=n),s&=~f}}function _e(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function we(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ve(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:My(e.type))}function ti(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var Dt=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Dt,Gt="__reactProps$"+Dt,pe="__reactContainer$"+Dt,ei="__reactEvents$"+Dt,Bi="__reactListeners$"+Dt,Ze="__reactHandles$"+Dt,hi="__reactResources$"+Dt,ni="__reactMarker$"+Dt;function pr(e){delete e[Wt],delete e[Gt],delete e[ei],delete e[Bi],delete e[Ze]}function ki(e){var n=e[Wt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[pe]||s[Wt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=_y(e);e!==null;){if(s=e[Wt])return s;e=_y(e)}return n}e=s,s=e.parentNode}return null}function di(e){if(e=e[Wt]||e[pe]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function gi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function pn(e){var n=e[hi];return n||(n=e[hi]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ni]=!0}var tl=new Set,qs={};function ii(e,n){ji(e,n),ji(e+"Capture",n)}function ji(e,n){for(qs[e]=n,e=0;e<n.length;e++)tl.add(n[e])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},is={};function Uo(e){return je.call(is,e)?!0:je.call(Mo,e)?!1:Oo.test(e)?is[e]=!0:(Mo[e]=!0,!1)}function yr(e,n,s){if(Uo(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mi(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function $e(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}var rs,Lo;function qi(e){if(rs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);rs=n&&n[1]||"",Lo=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+e+Lo}var Hs=!1;function Gs(e,n){if(!e||Hs)return"";Hs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var j=q}Reflect.construct(e,[],J)}else{try{J.call()}catch(q){j=q}e.call(J.prototype)}}else{try{throw Error()}catch(q){j=q}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),_=h[0],T=h[1];if(_&&T){var C=_.split(`
`),B=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===B.length)for(l=C.length-1,f=B.length-1;1<=l&&0<=f&&C[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==B[f]){var Y=`
`+C[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Hs=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?qi(s):""}function el(e){switch(e.tag){case 26:case 27:case 5:return qi(e.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return Gs(e.type,!1);case 11:return Gs(e.type.render,!1);case 1:return Gs(e.type,!0);case 31:return qi("Activity");default:return""}}function Qs(e){try{var n="";do n+=el(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function nf(e){var n=nl(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,h.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ks(e){e._valueTracker||(e._valueTracker=nf(e))}function il(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=nl(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rf=/[\n"\\]/g;function De(e){return e.replace(rf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Dn(e,n,s,l,f,h,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+yn(n)):e.value!==""+yn(n)&&(e.value=""+yn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?vr(e,_,yn(n)):s!=null?vr(e,_,yn(s)):l!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+yn(T):e.removeAttribute("name")}function as(e,n,s,l,f,h,_,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;s=s!=null?""+yn(s):"",n=n!=null?""+yn(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function vr(e,n,s){n==="number"&&ss(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Hi(e,n,s,l){if(e=e.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=n.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&l&&(e[s].defaultSelected=!0)}else{for(s=""+yn(s),n=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function te(e,n,s){if(n!=null&&(n=""+yn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+yn(s):""}function ls(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Yt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=yn(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function Bn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||os.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function rl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&s[f]!==l&&zo(e,f,l)}else for(var h in n)n.hasOwnProperty(h)&&zo(e,h,n[h])}function sl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),af=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(e){return af.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Gi=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,Ki=null;function al(e){var n=di(e);if(n&&(e=n.stateNode)){var s=e[Gt]||null;t:switch(e=n.stateNode,n.type){case"input":if(Dn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+De(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var f=l[Gt]||null;if(!f)throw Error(a(90));Dn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&il(l)}break t;case"textarea":te(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Hi(e,!!s.multiple,n,!1)}}}var pi=!1;function Po(e,n,s){if(pi)return e(n,s);pi=!0;try{var l=e(n);return l}finally{if(pi=!1,(Qi!==null||Ki!==null)&&(Iu(),Qi&&(n=Qi,e=Ki,Ki=Qi=null,al(n),e)))for(n=0;n<e.length;n++)al(e[n])}}function us(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Gt]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(ri)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){jn=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{jn=!1}var yi=null,_r=null,Fi=null;function ll(){if(Fi)return Fi;var e,n=_r,s=n.length,l,f="value"in yi?yi.value:yi.textContent,h=f.length;for(e=0;e<s&&n[e]===f[e];e++);var _=s-e;for(l=1;l<=_&&n[s-l]===f[h-l];l++);return Fi=f.slice(e,1<l?1-l:void 0)}function vi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _i(){return!0}function ol(){return!1}function qe(e){function n(s,l,f,h,_){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?_i:ol,this.isPropagationStopped=ol,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),n}var Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=qe(Xt),fs=E({},Xt,{view:0,detail:0}),Bo=qe(fs),Xs,Zs,Ei,hs=E({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Xs=e.screenX-Ei.screenX,Zs=e.screenY-Ei.screenY):Zs=Xs=0,Ei=e),Xs)},movementY:function(e){return"movementY"in e?e.movementY:Zs}}),qn=qe(hs),ko=E({},hs,{dataTransfer:0}),lf=qe(ko),ds=E({},fs,{relatedTarget:0}),$s=qe(ds),ul=E({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0}),Js=qe(ul),jo=E({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ws=qe(jo),of=E({},Xt,{data:0}),cl=qe(of),gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ho={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ho[e])?!!n[e]:!1}function ms(){return fl}var Go=E({},fs,{key:function(e){if(e.key){var n=gs[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ta=qe(Go),Qo=E({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=qe(Qo),Yi=E({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),Ko=qe(Yi),Fo=E({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yo=qe(Fo),Xo=E({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ea=qe(Xo),vn=E({},Xt,{newState:0,oldState:0}),Zo=qe(vn),$o=[9,13,27,32],Ti=ri&&"CompositionEvent"in window,u=null;ri&&"documentMode"in document&&(u=document.documentMode);var m=ri&&"TextEvent"in window&&!u,v=ri&&(!Ti||u&&8<u&&11>=u),b=" ",z=!1;function G(e,n){switch(e){case"keyup":return $o.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Oe(e,n){switch(e){case"compositionend":return ft(n);case"keypress":return n.which!==32?null:(z=!0,b);case"textInput":return e=n.data,e===b&&z?null:e;default:return null}}function Bt(e,n){if(Pt)return e==="compositionend"||!Ti&&G(e,n)?(e=ll(),Fi=_r=yi=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var He={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!He[e.type]:n==="textarea"}function Xi(e,n,s,l){Qi?Ki?Ki.push(l):Ki=[l]:Qi=l,n=zu(n,"onChange"),0<n.length&&(s=new Ys("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Je=null,bi=null;function dl(e){uy(e,0)}function Jo(e){var n=gi(e);if(il(n))return e}function Ng(e,n){if(e==="change")return n}var Ig=!1;if(ri){var uf;if(ri){var cf="oninput"in document;if(!cf){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),cf=typeof Vg.oninput=="function"}uf=cf}else uf=!1;Ig=uf&&(!document.documentMode||9<document.documentMode)}function Og(){Je&&(Je.detachEvent("onpropertychange",Mg),bi=Je=null)}function Mg(e){if(e.propertyName==="value"&&Jo(bi)){var n=[];Xi(n,bi,e,kn(e)),Po(dl,n)}}function PE(e,n,s){e==="focusin"?(Og(),Je=n,bi=s,Je.attachEvent("onpropertychange",Mg)):e==="focusout"&&Og()}function BE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jo(bi)}function kE(e,n){if(e==="click")return Jo(n)}function jE(e,n){if(e==="input"||e==="change")return Jo(n)}function qE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Cn=typeof Object.is=="function"?Object.is:qE;function gl(e,n){if(Cn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!je.call(n,f)||!Cn(e[f],n[f]))return!1}return!0}function Ug(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lg(e,n){var s=Ug(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ug(s)}}function zg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?zg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ss(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ss(e.document)}return n}function ff(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var HE=ri&&"documentMode"in document&&11>=document.documentMode,na=null,hf=null,ml=null,df=!1;function Bg(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;df||na==null||na!==ss(l)||(l=na,"selectionStart"in l&&ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&gl(ml,l)||(ml=l,l=zu(hf,"onSelect"),0<l.length&&(n=new Ys("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=na)))}function ps(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ia={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},gf={},kg={};ri&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function ys(e){if(gf[e])return gf[e];if(!ia[e])return e;var n=ia[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in kg)return gf[e]=n[s];return e}var jg=ys("animationend"),qg=ys("animationiteration"),Hg=ys("animationstart"),GE=ys("transitionrun"),QE=ys("transitionstart"),KE=ys("transitioncancel"),Gg=ys("transitionend"),Qg=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function si(e,n){Qg.set(e,n),ii(n,[e])}var Kg=new WeakMap;function Hn(e,n){if(typeof e=="object"&&e!==null){var s=Kg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Qs(n)},Kg.set(e,n),n)}return{value:e,source:n,stack:Qs(n)}}var Gn=[],ra=0,pf=0;function Wo(){for(var e=ra,n=pf=ra=0;n<e;){var s=Gn[n];Gn[n++]=null;var l=Gn[n];Gn[n++]=null;var f=Gn[n];Gn[n++]=null;var h=Gn[n];if(Gn[n++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}h!==0&&Fg(s,f,h)}}function tu(e,n,s,l){Gn[ra++]=e,Gn[ra++]=n,Gn[ra++]=s,Gn[ra++]=l,pf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function yf(e,n,s,l){return tu(e,n,s,l),eu(e)}function sa(e,n){return tu(e,null,null,n),eu(e)}function Fg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var f=!1,h=e.return;h!==null;)h.childLanes|=s,l=h.alternate,l!==null&&(l.childLanes|=s),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-me(s),e=h.hiddenUpdates,l=e[f],l===null?e[f]=[n]:l.push(n),n.lane=s|536870912),h):null}function eu(e){if(50<kl)throw kl=0,Ah=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var aa={};function FE(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,n,s,l){return new FE(e,n,s,l)}function vf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zi(e,n){var s=e.alternate;return s===null?(s=xn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Yg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function nu(e,n,s,l,f,h){var _=0;if(l=e,typeof e=="function")vf(e)&&(_=1);else if(typeof e=="string")_=XT(e,s,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=xn(31,s,n,f),e.elementType=R,e.lanes=h,e;case X:return vs(s.children,f,h,n);case F:_=8,f|=24;break;case H:return e=xn(12,s,n,f|2),e.elementType=H,e.lanes=h,e;case nt:return e=xn(13,s,n,f),e.elementType=nt,e.lanes=h,e;case tt:return e=xn(19,s,n,f),e.elementType=tt,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:case Q:_=10;break t;case ct:_=9;break t;case ut:_=11;break t;case w:_=14;break t;case A:_=16,l=null;break t}_=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=xn(_,s,n,f),n.elementType=e,n.type=l,n.lanes=h,n}function vs(e,n,s,l){return e=xn(7,e,l,n),e.lanes=s,e}function _f(e,n,s){return e=xn(6,e,null,n),e.lanes=s,e}function Ef(e,n,s){return n=xn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var la=[],oa=0,iu=null,ru=0,Qn=[],Kn=0,_s=null,$i=1,Ji="";function Es(e,n){la[oa++]=ru,la[oa++]=iu,iu=e,ru=n}function Xg(e,n,s){Qn[Kn++]=$i,Qn[Kn++]=Ji,Qn[Kn++]=_s,_s=e;var l=$i;e=Ji;var f=32-me(l)-1;l&=~(1<<f),s+=1;var h=32-me(n)+f;if(30<h){var _=f-f%5;h=(l&(1<<_)-1).toString(32),l>>=_,f-=_,$i=1<<32-me(n)+f|s<<f|l,Ji=h+e}else $i=1<<h|s<<f|l,Ji=e}function Tf(e){e.return!==null&&(Es(e,1),Xg(e,1,0))}function bf(e){for(;e===iu;)iu=la[--oa],la[oa]=null,ru=la[--oa],la[oa]=null;for(;e===_s;)_s=Qn[--Kn],Qn[Kn]=null,Ji=Qn[--Kn],Qn[Kn]=null,$i=Qn[--Kn],Qn[Kn]=null}var _n=null,ye=null,Qt=!1,Ts=null,Ai=!1,Af=Error(a(519));function bs(e){var n=Error(a(418,""));throw vl(Hn(n,e)),Af}function Zg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Wt]=e,n[Gt]=l,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<ql.length;s++)Mt(ql[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),as(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ks(n);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),ls(n,l.value,l.defaultValue,l.children),Ks(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||dy(n.textContent,s)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=Pu),n=!0):n=!1,n||bs(e)}function $g(e){for(_n=e.return;_n;)switch(_n.tag){case 5:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:_n=_n.return}}function pl(e){if(e!==_n)return!1;if(!Qt)return $g(e),Qt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Bh(e.type,e.memoizedProps)),s=!s),s&&ye&&bs(e),$g(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){ye=li(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}ye=null}}else n===27?(n=ye,Ur(e.type)?(e=Hh,Hh=null,ye=e):ye=n):ye=_n?li(e.stateNode.nextSibling):null;return!0}function yl(){ye=_n=null,Qt=!1}function Jg(){var e=Ts;return e!==null&&(Rn===null?Rn=e:Rn.push.apply(Rn,e),Ts=null),e}function vl(e){Ts===null?Ts=[e]:Ts.push(e)}var Sf=$(null),As=null,Wi=null;function Er(e,n,s){et(Sf,n._currentValue),n._currentValue=s}function tr(e){e._currentValue=Sf.current,at(Sf)}function Rf(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function wf(e,n,s,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var _=f.child;h=h.firstContext;t:for(;h!==null;){var T=h;h=f;for(var C=0;C<n.length;C++)if(T.context===n[C]){h.lanes|=s,T=h.alternate,T!==null&&(T.lanes|=s),Rf(h.return,s,e),l||(_=null);break t}h=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=s,h=_.alternate,h!==null&&(h.lanes|=s),Rf(_,s,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function _l(e,n,s,l){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=f.type;Cn(f.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(f===he.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Yl):e=[Yl])}f=f.return}e!==null&&wf(n,e,s,l),n.flags|=262144}function su(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){As=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ln(e){return Wg(As,e)}function au(e,n){return As===null&&Ss(e),Wg(e,n)}function Wg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Wi===null){if(e===null)throw Error(a(308));Wi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Wi=Wi.next=n;return s}var YE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},XE=r.unstable_scheduleCallback,ZE=r.unstable_NormalPriority,Ue={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new YE,data:new Map,refCount:0}}function El(e){e.refCount--,e.refCount===0&&XE(ZE,function(){e.controller.abort()})}var Tl=null,Cf=0,ua=0,ca=null;function $E(e,n){if(Tl===null){var s=Tl=[];Cf=0,ua=Nh(),ca={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Cf++,n.then(tm,tm),n}function tm(){if(--Cf===0&&Tl!==null){ca!==null&&(ca.status="fulfilled");var e=Tl;Tl=null,ua=0,ca=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function JE(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var em=K.S;K.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&$E(e,n),em!==null&&em(e,n)};var Rs=$(null);function xf(){var e=Rs.current;return e!==null?e:ae.pooledCache}function lu(e,n){n===null?et(Rs,Rs.current):et(Rs,n.pool)}function nm(){var e=xf();return e===null?null:{parent:Ue._currentValue,pool:e}}var bl=Error(a(460)),im=Error(a(474)),ou=Error(a(542)),Nf={then:function(){}};function rm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function uu(){}function sm(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(uu,uu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lm(e),e;default:if(typeof n.status=="string")n.then(uu,uu);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lm(e),e}throw Al=n,bl}}var Al=null;function am(){if(Al===null)throw Error(a(459));var e=Al;return Al=null,e}function lm(e){if(e===bl||e===ou)throw Error(a(483))}var Tr=!1;function If(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ar(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=eu(e),Fg(e,null,s),n}return tu(e,l,n,s),eu(e)}function Sl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,bn(e,s)}}function Of(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?f=h=_:h=h.next=_,s=s.next}while(s!==null);h===null?f=h=n:h=h.next=n}else f=h=n;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Mf=!1;function Rl(){if(Mf){var e=ca;if(e!==null)throw e}}function wl(e,n,s,l){Mf=!1;var f=e.updateQueue;Tr=!1;var h=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,B=C.next;C.next=null,_===null?h=B:_.next=B,_=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=C))}if(h!==null){var J=f.baseState;_=0,Y=B=C=null,T=h;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(kt&j)===j:(l&j)===j){j!==0&&j===ua&&(Mf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var bt=e,Et=T;j=n;var ie=s;switch(Et.tag){case 1:if(bt=Et.payload,typeof bt=="function"){J=bt.call(ie,J,j);break t}J=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Et.payload,j=typeof bt=="function"?bt.call(ie,J,j):bt,j==null)break t;J=E({},J,j);break t;case 2:Tr=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=q,C=J):Y=Y.next=q,_|=j;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;q=T,T=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);Y===null&&(C=J),f.baseState=C,f.firstBaseUpdate=B,f.lastBaseUpdate=Y,h===null&&(f.shared.lanes=0),Ir|=_,e.lanes=_,e.memoizedState=J}}function om(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function um(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)om(s[e],n)}var fa=$(null),cu=$(0);function cm(e,n){e=lr,et(cu,e),et(fa,n),lr=e|n.baseLanes}function Uf(){et(cu,lr),et(fa,fa.current)}function Lf(){lr=cu.current,at(fa),at(cu)}var Sr=0,xt=null,ee=null,Ce=null,fu=!1,ha=!1,ws=!1,hu=0,Dl=0,da=null,WE=0;function Te(){throw Error(a(321))}function zf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Cn(e[s],n[s]))return!1;return!0}function Pf(e,n,s,l,f,h){return Sr=h,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=e===null||e.memoizedState===null?Fm:Ym,ws=!1,h=s(l,f),ws=!1,ha&&(h=hm(n,s,l,f)),fm(e),h}function fm(e){K.H=vu;var n=ee!==null&&ee.next!==null;if(Sr=0,Ce=ee=xt=null,fu=!1,Dl=0,da=null,n)throw Error(a(300));e===null||Ge||(e=e.dependencies,e!==null&&su(e)&&(Ge=!0))}function hm(e,n,s,l){xt=e;var f=0;do{if(ha&&(da=null),Dl=0,ha=!1,25<=f)throw Error(a(301));if(f+=1,Ce=ee=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}K.H=aT,h=n(s,l)}while(ha);return h}function tT(){var e=K.H,n=e.useState()[0];return n=typeof n.then=="function"?Cl(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(xt.flags|=1024),n}function Bf(){var e=hu!==0;return hu=0,e}function kf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function jf(e){if(fu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}fu=!1}Sr=0,Ce=ee=xt=null,ha=!1,Dl=hu=0,da=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?xt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function xe(){if(ee===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Ce===null?xt.memoizedState:Ce.next;if(n!==null)Ce=n,ee=e;else{if(e===null)throw xt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ce===null?xt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(e){var n=Dl;return Dl+=1,da===null&&(da=[]),e=sm(da,e,n),n=xt,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Fm:Ym),e}function du(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cl(e);if(e.$$typeof===Q)return ln(e)}throw Error(a(438,String(e)))}function Hf(e){var n=null,s=xt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qf(),xt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=N;return n.index++,s}function er(e,n){return typeof n=="function"?n(e):n}function gu(e){var n=xe();return Gf(n,ee,e)}function Gf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=e.baseQueue,h=l.pending;if(h!==null){if(f!==null){var _=f.next;f.next=h.next,h.next=_}n.baseQueue=f=h,l.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var T=_=null,C=null,B=n,Y=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(kt&J)===J:(Sr&J)===J){var j=B.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===ua&&(Y=!0);else if((Sr&j)===j){B=B.next,j===ua&&(Y=!0);continue}else J={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=J,_=h):C=C.next=J,xt.lanes|=j,Ir|=j;J=B.action,ws&&s(h,J),h=B.hasEagerState?B.eagerState:s(h,J)}else j={lane:J,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=j,_=h):C=C.next=j,xt.lanes|=J,Ir|=J;B=B.next}while(B!==null&&B!==n);if(C===null?_=h:C.next=T,!Cn(h,e.memoizedState)&&(Ge=!0,Y&&(s=ca,s!==null)))throw s;e.memoizedState=h,e.baseState=_,e.baseQueue=C,l.lastRenderedState=h}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Qf(e){var n=xe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,f=s.pending,h=n.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do h=e(h,_.action),_=_.next;while(_!==f);Cn(h,n.memoizedState)||(Ge=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),s.lastRenderedState=h}return[h,l]}function dm(e,n,s){var l=xt,f=xe(),h=Qt;if(h){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!Cn((ee||f).memoizedState,s);_&&(f.memoizedState=s,Ge=!0),f=f.queue;var T=pm.bind(null,l,f,e);if(xl(2048,8,T,[e]),f.getSnapshot!==n||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,ga(9,mu(),mm.bind(null,l,f,s,n),null),ae===null)throw Error(a(349));h||(Sr&124)!==0||gm(l,n,s)}return s}function gm(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xt.updateQueue,n===null?(n=qf(),xt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function mm(e,n,s,l){n.value=s,n.getSnapshot=l,ym(n)&&vm(e)}function pm(e,n,s){return s(function(){ym(n)&&vm(e)})}function ym(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Cn(e,s)}catch{return!0}}function vm(e){var n=sa(e,2);n!==null&&Mn(n,e,2)}function Kf(e){var n=An();if(typeof e=="function"){var s=e;if(e=s(),ws){Re(!0);try{s()}finally{Re(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:e},n}function _m(e,n,s,l){return e.baseState=s,Gf(e,ee,typeof l=="function"?l:er)}function eT(e,n,s,l,f){if(yu(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};K.T!==null?s(!0):h.isTransition=!1,l(h),s=n.pending,s===null?(h.next=n.pending=h,Em(n,h)):(h.next=s.next,n.pending=s.next=h)}}function Em(e,n){var s=n.action,l=n.payload,f=e.state;if(n.isTransition){var h=K.T,_={};K.T=_;try{var T=s(f,l),C=K.S;C!==null&&C(_,T),Tm(e,n,T)}catch(B){Ff(e,n,B)}finally{K.T=h}}else try{h=s(f,l),Tm(e,n,h)}catch(B){Ff(e,n,B)}}function Tm(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){bm(e,n,l)},function(l){return Ff(e,n,l)}):bm(e,n,s)}function bm(e,n,s){n.status="fulfilled",n.value=s,Am(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Em(e,s)))}function Ff(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Am(n),n=n.next;while(n!==l)}e.action=null}function Am(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Sm(e,n){return n}function Rm(e,n){if(Qt){var s=ae.formState;if(s!==null){t:{var l=xt;if(Qt){if(ye){e:{for(var f=ye,h=Ai;f.nodeType!==8;){if(!h){f=null;break e}if(f=li(f.nextSibling),f===null){f=null;break e}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){ye=li(f.nextSibling),l=f.data==="F!";break t}}bs(l)}l=!1}l&&(n=s[0])}}return s=An(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:n},s.queue=l,s=Gm.bind(null,xt,l),l.dispatch=s,l=Kf(!1),h=Jf.bind(null,xt,!1,l.queue),l=An(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,s=eT.bind(null,xt,f,h,s),f.dispatch=s,l.memoizedState=e,[n,s,!1]}function wm(e){var n=xe();return Dm(n,ee,e)}function Dm(e,n,s){if(n=Gf(e,n,Sm)[0],e=gu(er)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Cl(n)}catch(_){throw _===bl?ou:_}else l=n;n=xe();var f=n.queue,h=f.dispatch;return s!==n.memoizedState&&(xt.flags|=2048,ga(9,mu(),nT.bind(null,f,s),null)),[l,h,e]}function nT(e,n){e.action=n}function Cm(e){var n=xe(),s=ee;if(s!==null)return Dm(n,s,e);xe(),n=n.memoizedState,s=xe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function ga(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=xt.updateQueue,n===null&&(n=qf(),xt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function mu(){return{destroy:void 0,resource:void 0}}function xm(){return xe().memoizedState}function pu(e,n,s,l){var f=An();l=l===void 0?null:l,xt.flags|=e,f.memoizedState=ga(1|n,mu(),s,l)}function xl(e,n,s,l){var f=xe();l=l===void 0?null:l;var h=f.memoizedState.inst;ee!==null&&l!==null&&zf(l,ee.memoizedState.deps)?f.memoizedState=ga(n,h,s,l):(xt.flags|=e,f.memoizedState=ga(1|n,h,s,l))}function Nm(e,n){pu(8390656,8,e,n)}function Im(e,n){xl(2048,8,e,n)}function Vm(e,n){return xl(4,2,e,n)}function Om(e,n){return xl(4,4,e,n)}function Mm(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Um(e,n,s){s=s!=null?s.concat([e]):null,xl(4,4,Mm.bind(null,n,e),s)}function Yf(){}function Lm(e,n){var s=xe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&zf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function zm(e,n){var s=xe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&zf(n,l[1]))return l[0];if(l=e(),ws){Re(!0);try{e()}finally{Re(!1)}}return s.memoizedState=[l,n],l}function Xf(e,n,s){return s===void 0||(Sr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=kp(),xt.lanes|=e,Ir|=e,s)}function Pm(e,n,s,l){return Cn(s,n)?s:fa.current!==null?(e=Xf(e,s,l),Cn(e,n)||(Ge=!0),e):(Sr&42)===0?(Ge=!0,e.memoizedState=s):(e=kp(),xt.lanes|=e,Ir|=e,n)}function Bm(e,n,s,l,f){var h=rt.p;rt.p=h!==0&&8>h?h:8;var _=K.T,T={};K.T=T,Jf(e,!1,n,s);try{var C=f(),B=K.S;if(B!==null&&B(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=JE(C,l);Nl(e,n,Y,On(e))}else Nl(e,n,l,On(e))}catch(J){Nl(e,n,{then:function(){},status:"rejected",reason:J},On())}finally{rt.p=h,K.T=_}}function iT(){}function Zf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var f=km(e).queue;Bm(e,f,n,st,s===null?iT:function(){return jm(e),s(l)})}function km(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:st},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function jm(e){var n=km(e).next.queue;Nl(e,n,{},On())}function $f(){return ln(Yl)}function qm(){return xe().memoizedState}function Hm(){return xe().memoizedState}function rT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=On();e=br(s);var l=Ar(n,e,s);l!==null&&(Mn(l,n,s),Sl(l,n,s)),n={cache:Df()},e.payload=n;return}n=n.return}}function sT(e,n,s){var l=On();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},yu(e)?Qm(n,s):(s=yf(e,n,s,l),s!==null&&(Mn(s,e,l),Km(s,n,l)))}function Gm(e,n,s){var l=On();Nl(e,n,s,l)}function Nl(e,n,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(yu(e))Qm(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var _=n.lastRenderedState,T=h(_,s);if(f.hasEagerState=!0,f.eagerState=T,Cn(T,_))return tu(e,n,f,0),ae===null&&Wo(),!1}catch{}finally{}if(s=yf(e,n,f,l),s!==null)return Mn(s,e,l),Km(s,n,l),!0}return!1}function Jf(e,n,s,l){if(l={lane:2,revertLane:Nh(),action:l,hasEagerState:!1,eagerState:null,next:null},yu(e)){if(n)throw Error(a(479))}else n=yf(e,s,l,2),n!==null&&Mn(n,e,2)}function yu(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function Qm(e,n){ha=fu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Km(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,bn(e,s)}}var vu={readContext:ln,use:du,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te},Fm={readContext:ln,use:du,useCallback:function(e,n){return An().memoizedState=[e,n===void 0?null:n],e},useContext:ln,useEffect:Nm,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,pu(4194308,4,Mm.bind(null,n,e),s)},useLayoutEffect:function(e,n){return pu(4194308,4,e,n)},useInsertionEffect:function(e,n){pu(4,2,e,n)},useMemo:function(e,n){var s=An();n=n===void 0?null:n;var l=e();if(ws){Re(!0);try{e()}finally{Re(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=An();if(s!==void 0){var f=s(n);if(ws){Re(!0);try{s(n)}finally{Re(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=sT.bind(null,xt,e),[l.memoizedState,e]},useRef:function(e){var n=An();return e={current:e},n.memoizedState=e},useState:function(e){e=Kf(e);var n=e.queue,s=Gm.bind(null,xt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Yf,useDeferredValue:function(e,n){var s=An();return Xf(s,e,n)},useTransition:function(){var e=Kf(!1);return e=Bm.bind(null,xt,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=xt,f=An();if(Qt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ae===null)throw Error(a(349));(kt&124)!==0||gm(l,n,s)}f.memoizedState=s;var h={value:s,getSnapshot:n};return f.queue=h,Nm(pm.bind(null,l,h,e),[e]),l.flags|=2048,ga(9,mu(),mm.bind(null,l,h,s,n),null),s},useId:function(){var e=An(),n=ae.identifierPrefix;if(Qt){var s=Ji,l=$i;s=(l&~(1<<32-me(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=hu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=WE++,n="«"+n+"r"+s.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:$f,useFormState:Rm,useActionState:Rm,useOptimistic:function(e){var n=An();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Jf.bind(null,xt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Hf,useCacheRefresh:function(){return An().memoizedState=rT.bind(null,xt)}},Ym={readContext:ln,use:du,useCallback:Lm,useContext:ln,useEffect:Im,useImperativeHandle:Um,useInsertionEffect:Vm,useLayoutEffect:Om,useMemo:zm,useReducer:gu,useRef:xm,useState:function(){return gu(er)},useDebugValue:Yf,useDeferredValue:function(e,n){var s=xe();return Pm(s,ee.memoizedState,e,n)},useTransition:function(){var e=gu(er)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:dm,useId:qm,useHostTransitionStatus:$f,useFormState:wm,useActionState:wm,useOptimistic:function(e,n){var s=xe();return _m(s,ee,e,n)},useMemoCache:Hf,useCacheRefresh:Hm},aT={readContext:ln,use:du,useCallback:Lm,useContext:ln,useEffect:Im,useImperativeHandle:Um,useInsertionEffect:Vm,useLayoutEffect:Om,useMemo:zm,useReducer:Qf,useRef:xm,useState:function(){return Qf(er)},useDebugValue:Yf,useDeferredValue:function(e,n){var s=xe();return ee===null?Xf(s,e,n):Pm(s,ee.memoizedState,e,n)},useTransition:function(){var e=Qf(er)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:dm,useId:qm,useHostTransitionStatus:$f,useFormState:Cm,useActionState:Cm,useOptimistic:function(e,n){var s=xe();return ee!==null?_m(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Hf,useCacheRefresh:Hm},ma=null,Il=0;function _u(e){var n=Il;return Il+=1,ma===null&&(ma=[]),sm(ma,e,n)}function Vl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Eu(e,n){throw n.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xm(e){var n=e._init;return n(e._payload)}function Zm(e){function n(L,O){if(e){var P=L.deletions;P===null?(L.deletions=[O],L.flags|=16):P.push(O)}}function s(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Zi(L,O),L.index=0,L.sibling=null,L}function h(L,O,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<O?(L.flags|=67108866,O):P):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,P,Z){return O===null||O.tag!==6?(O=_f(P,L.mode,Z),O.return=L,O):(O=f(O,P),O.return=L,O)}function C(L,O,P,Z){var dt=P.type;return dt===X?Y(L,O,P.props.children,Z,P.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Xm(dt)===O.type)?(O=f(O,P.props),Vl(O,P),O.return=L,O):(O=nu(P.type,P.key,P.props,null,L.mode,Z),Vl(O,P),O.return=L,O)}function B(L,O,P,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Ef(P,L.mode,Z),O.return=L,O):(O=f(O,P.children||[]),O.return=L,O)}function Y(L,O,P,Z,dt){return O===null||O.tag!==7?(O=vs(P,L.mode,Z,dt),O.return=L,O):(O=f(O,P),O.return=L,O)}function J(L,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=_f(""+O,L.mode,P),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return P=nu(O.type,O.key,O.props,null,L.mode,P),Vl(P,O),P.return=L,P;case U:return O=Ef(O,L.mode,P),O.return=L,O;case A:var Z=O._init;return O=Z(O._payload),J(L,O,P)}if(Yt(O)||M(O))return O=vs(O,L.mode,P,null),O.return=L,O;if(typeof O.then=="function")return J(L,_u(O),P);if(O.$$typeof===Q)return J(L,au(L,O),P);Eu(L,O)}return null}function j(L,O,P,Z){var dt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return dt!==null?null:T(L,O,""+P,Z);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case V:return P.key===dt?C(L,O,P,Z):null;case U:return P.key===dt?B(L,O,P,Z):null;case A:return dt=P._init,P=dt(P._payload),j(L,O,P,Z)}if(Yt(P)||M(P))return dt!==null?null:Y(L,O,P,Z,null);if(typeof P.then=="function")return j(L,O,_u(P),Z);if(P.$$typeof===Q)return j(L,O,au(L,P),Z);Eu(L,P)}return null}function q(L,O,P,Z,dt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(P)||null,T(O,L,""+Z,dt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case V:return L=L.get(Z.key===null?P:Z.key)||null,C(O,L,Z,dt);case U:return L=L.get(Z.key===null?P:Z.key)||null,B(O,L,Z,dt);case A:var It=Z._init;return Z=It(Z._payload),q(L,O,P,Z,dt)}if(Yt(Z)||M(Z))return L=L.get(P)||null,Y(O,L,Z,dt,null);if(typeof Z.then=="function")return q(L,O,P,_u(Z),dt);if(Z.$$typeof===Q)return q(L,O,P,au(O,Z),dt);Eu(O,Z)}return null}function bt(L,O,P,Z){for(var dt=null,It=null,yt=O,Tt=O=0,Ke=null;yt!==null&&Tt<P.length;Tt++){yt.index>Tt?(Ke=yt,yt=null):Ke=yt.sibling;var Ht=j(L,yt,P[Tt],Z);if(Ht===null){yt===null&&(yt=Ke);break}e&&yt&&Ht.alternate===null&&n(L,yt),O=h(Ht,O,Tt),It===null?dt=Ht:It.sibling=Ht,It=Ht,yt=Ke}if(Tt===P.length)return s(L,yt),Qt&&Es(L,Tt),dt;if(yt===null){for(;Tt<P.length;Tt++)yt=J(L,P[Tt],Z),yt!==null&&(O=h(yt,O,Tt),It===null?dt=yt:It.sibling=yt,It=yt);return Qt&&Es(L,Tt),dt}for(yt=l(yt);Tt<P.length;Tt++)Ke=q(yt,L,Tt,P[Tt],Z),Ke!==null&&(e&&Ke.alternate!==null&&yt.delete(Ke.key===null?Tt:Ke.key),O=h(Ke,O,Tt),It===null?dt=Ke:It.sibling=Ke,It=Ke);return e&&yt.forEach(function(kr){return n(L,kr)}),Qt&&Es(L,Tt),dt}function Et(L,O,P,Z){if(P==null)throw Error(a(151));for(var dt=null,It=null,yt=O,Tt=O=0,Ke=null,Ht=P.next();yt!==null&&!Ht.done;Tt++,Ht=P.next()){yt.index>Tt?(Ke=yt,yt=null):Ke=yt.sibling;var kr=j(L,yt,Ht.value,Z);if(kr===null){yt===null&&(yt=Ke);break}e&&yt&&kr.alternate===null&&n(L,yt),O=h(kr,O,Tt),It===null?dt=kr:It.sibling=kr,It=kr,yt=Ke}if(Ht.done)return s(L,yt),Qt&&Es(L,Tt),dt;if(yt===null){for(;!Ht.done;Tt++,Ht=P.next())Ht=J(L,Ht.value,Z),Ht!==null&&(O=h(Ht,O,Tt),It===null?dt=Ht:It.sibling=Ht,It=Ht);return Qt&&Es(L,Tt),dt}for(yt=l(yt);!Ht.done;Tt++,Ht=P.next())Ht=q(yt,L,Tt,Ht.value,Z),Ht!==null&&(e&&Ht.alternate!==null&&yt.delete(Ht.key===null?Tt:Ht.key),O=h(Ht,O,Tt),It===null?dt=Ht:It.sibling=Ht,It=Ht);return e&&yt.forEach(function(lb){return n(L,lb)}),Qt&&Es(L,Tt),dt}function ie(L,O,P,Z){if(typeof P=="object"&&P!==null&&P.type===X&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case V:t:{for(var dt=P.key;O!==null;){if(O.key===dt){if(dt=P.type,dt===X){if(O.tag===7){s(L,O.sibling),Z=f(O,P.props.children),Z.return=L,L=Z;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Xm(dt)===O.type){s(L,O.sibling),Z=f(O,P.props),Vl(Z,P),Z.return=L,L=Z;break t}s(L,O);break}else n(L,O);O=O.sibling}P.type===X?(Z=vs(P.props.children,L.mode,Z,P.key),Z.return=L,L=Z):(Z=nu(P.type,P.key,P.props,null,L.mode,Z),Vl(Z,P),Z.return=L,L=Z)}return _(L);case U:t:{for(dt=P.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(L,O.sibling),Z=f(O,P.children||[]),Z.return=L,L=Z;break t}else{s(L,O);break}else n(L,O);O=O.sibling}Z=Ef(P,L.mode,Z),Z.return=L,L=Z}return _(L);case A:return dt=P._init,P=dt(P._payload),ie(L,O,P,Z)}if(Yt(P))return bt(L,O,P,Z);if(M(P)){if(dt=M(P),typeof dt!="function")throw Error(a(150));return P=dt.call(P),Et(L,O,P,Z)}if(typeof P.then=="function")return ie(L,O,_u(P),Z);if(P.$$typeof===Q)return ie(L,O,au(L,P),Z);Eu(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(L,O.sibling),Z=f(O,P),Z.return=L,L=Z):(s(L,O),Z=_f(P,L.mode,Z),Z.return=L,L=Z),_(L)):s(L,O)}return function(L,O,P,Z){try{Il=0;var dt=ie(L,O,P,Z);return ma=null,dt}catch(yt){if(yt===bl||yt===ou)throw yt;var It=xn(29,yt,null,L.mode);return It.lanes=Z,It.return=L,It}finally{}}}var pa=Zm(!0),$m=Zm(!1),Fn=$(null),Si=null;function Rr(e){var n=e.alternate;et(Le,Le.current&1),et(Fn,e),Si===null&&(n===null||fa.current!==null||n.memoizedState!==null)&&(Si=e)}function Jm(e){if(e.tag===22){if(et(Le,Le.current),et(Fn,e),Si===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Si=e)}}else wr()}function wr(){et(Le,Le.current),et(Fn,Fn.current)}function nr(e){at(Fn),Si===e&&(Si=null),at(Le)}var Le=$(0);function Tu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||qh(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Wf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var th={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=On(),f=br(l);f.payload=n,s!=null&&(f.callback=s),n=Ar(e,f,l),n!==null&&(Mn(n,e,l),Sl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=On(),f=br(l);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=Ar(e,f,l),n!==null&&(Mn(n,e,l),Sl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=On(),l=br(s);l.tag=2,n!=null&&(l.callback=n),n=Ar(e,l,s),n!==null&&(Mn(n,e,s),Sl(n,e,s))}};function Wm(e,n,s,l,f,h,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,_):n.prototype&&n.prototype.isPureReactComponent?!gl(s,l)||!gl(f,h):!0}function tp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&th.enqueueReplaceState(n,n.state,null)}function Ds(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=E({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ep(e){bu(e)}function np(e){console.error(e)}function ip(e){bu(e)}function Au(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function rp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function eh(e,n,s){return s=br(s),s.tag=3,s.payload={element:null},s.callback=function(){Au(e,n)},s}function sp(e){return e=br(e),e.tag=3,e}function ap(e,n,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var h=l.value;e.payload=function(){return f(h)},e.callback=function(){rp(n,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){rp(n,s,l),typeof f!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function lT(e,n,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&_l(n,s,f,!0),s=Fn.current,s!==null){switch(s.tag){case 13:return Si===null?Rh():s.alternate===null&&ve===0&&(ve=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Nf?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Dh(e,l,f)),!1;case 22:return s.flags|=65536,l===Nf?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Dh(e,l,f)),!1}throw Error(a(435,s.tag))}return Dh(e,l,f),Rh(),!1}if(Qt)return n=Fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==Af&&(e=Error(a(422),{cause:l}),vl(Hn(e,s)))):(l!==Af&&(n=Error(a(423),{cause:l}),vl(Hn(n,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Hn(l,s),f=eh(e.stateNode,l,f),Of(e,f),ve!==4&&(ve=2)),!1;var h=Error(a(520),{cause:l});if(h=Hn(h,s),Bl===null?Bl=[h]:Bl.push(h),ve!==4&&(ve=2),n===null)return!0;l=Hn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=eh(s.stateNode,l,e),Of(s,e),!1;case 1:if(n=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Vr===null||!Vr.has(h))))return s.flags|=65536,f&=-f,s.lanes|=f,f=sp(f),ap(f,e,s,l),Of(s,f),!1}s=s.return}while(s!==null);return!1}var lp=Error(a(461)),Ge=!1;function We(e,n,s,l){n.child=e===null?$m(n,null,s,l):pa(n,e.child,s,l)}function op(e,n,s,l,f){s=s.render;var h=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ss(n),l=Pf(e,n,s,_,h,f),T=Bf(),e!==null&&!Ge?(kf(e,n,f),ir(e,n,f)):(Qt&&T&&Tf(n),n.flags|=1,We(e,n,l,f),n.child)}function up(e,n,s,l,f){if(e===null){var h=s.type;return typeof h=="function"&&!vf(h)&&h.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=h,cp(e,n,h,l,f)):(e=nu(s.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!uh(e,f)){var _=h.memoizedProps;if(s=s.compare,s=s!==null?s:gl,s(_,l)&&e.ref===n.ref)return ir(e,n,f)}return n.flags|=1,e=Zi(h,l),e.ref=n.ref,e.return=n,n.child=e}function cp(e,n,s,l,f){if(e!==null){var h=e.memoizedProps;if(gl(h,l)&&e.ref===n.ref)if(Ge=!1,n.pendingProps=l=h,uh(e,f))(e.flags&131072)!==0&&(Ge=!0);else return n.lanes=e.lanes,ir(e,n,f)}return nh(e,n,s,l,f)}function fp(e,n,s){var l=n.pendingProps,f=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|s:s,e!==null){for(f=n.child=e.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return hp(e,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&lu(n,h!==null?h.cachePool:null),h!==null?cm(n,h):Uf(),Jm(n);else return n.lanes=n.childLanes=536870912,hp(e,n,h!==null?h.baseLanes|s:s,s)}else h!==null?(lu(n,h.cachePool),cm(n,h),wr(),n.memoizedState=null):(e!==null&&lu(n,null),Uf(),wr());return We(e,n,f,s),n.child}function hp(e,n,s,l){var f=xf();return f=f===null?null:{parent:Ue._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&lu(n,null),Uf(),Jm(n),e!==null&&_l(e,n,l,!0),null}function Su(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function nh(e,n,s,l,f){return Ss(n),s=Pf(e,n,s,l,void 0,f),l=Bf(),e!==null&&!Ge?(kf(e,n,f),ir(e,n,f)):(Qt&&l&&Tf(n),n.flags|=1,We(e,n,s,f),n.child)}function dp(e,n,s,l,f,h){return Ss(n),n.updateQueue=null,s=hm(n,l,s,f),fm(e),l=Bf(),e!==null&&!Ge?(kf(e,n,h),ir(e,n,h)):(Qt&&l&&Tf(n),n.flags|=1,We(e,n,s,h),n.child)}function gp(e,n,s,l,f){if(Ss(n),n.stateNode===null){var h=aa,_=s.contextType;typeof _=="object"&&_!==null&&(h=ln(_)),h=new s(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=th,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},If(n),_=s.contextType,h.context=typeof _=="object"&&_!==null?ln(_):aa,h.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Wf(n,s,_,l),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&th.enqueueReplaceState(h,h.state,null),wl(n,l,h,f),Rl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){h=n.stateNode;var T=n.memoizedProps,C=Ds(s,T);h.props=C;var B=h.context,Y=s.contextType;_=aa,typeof Y=="object"&&Y!==null&&(_=ln(Y));var J=s.getDerivedStateFromProps;Y=typeof J=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||B!==_)&&tp(n,h,l,_),Tr=!1;var j=n.memoizedState;h.state=j,wl(n,l,h,f),Rl(),B=n.memoizedState,T||j!==B||Tr?(typeof J=="function"&&(Wf(n,s,J,l),B=n.memoizedState),(C=Tr||Wm(n,s,C,l,j,B,_))?(Y||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=_,l=C):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Vf(e,n),_=n.memoizedProps,Y=Ds(s,_),h.props=Y,J=n.pendingProps,j=h.context,B=s.contextType,C=aa,typeof B=="object"&&B!==null&&(C=ln(B)),T=s.getDerivedStateFromProps,(B=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==J||j!==C)&&tp(n,h,l,C),Tr=!1,j=n.memoizedState,h.state=j,wl(n,l,h,f),Rl();var q=n.memoizedState;_!==J||j!==q||Tr||e!==null&&e.dependencies!==null&&su(e.dependencies)?(typeof T=="function"&&(Wf(n,s,T,l),q=n.memoizedState),(Y=Tr||Wm(n,s,Y,l,j,q,C)||e!==null&&e.dependencies!==null&&su(e.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,C)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),h.props=l,h.state=q,h.context=C,l=Y):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return h=l,Su(e,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&l?(n.child=pa(n,e.child,null,f),n.child=pa(n,null,s,f)):We(e,n,s,f),n.memoizedState=h.state,e=n.child):e=ir(e,n,f),e}function mp(e,n,s,l){return yl(),n.flags|=256,We(e,n,s,l),n.child}var ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rh(e){return{baseLanes:e,cachePool:nm()}}function sh(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Yn),e}function pp(e,n,s){var l=n.pendingProps,f=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),_&&(f=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qt){if(f?Rr(n):wr(),Qt){var T=ye,C;if(C=T){t:{for(C=T,T=Ai;C.nodeType!==8;){if(!T){T=null;break t}if(C=li(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:_s!==null?{id:$i,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},C=xn(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,_n=n,ye=null,C=!0):C=!1}C||bs(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return qh(T)?n.lanes=32:n.lanes=536870912,null;nr(n)}return T=l.children,l=l.fallback,f?(wr(),f=n.mode,T=Ru({mode:"hidden",children:T},f),l=vs(l,f,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,f=n.child,f.memoizedState=rh(s),f.childLanes=sh(e,_,s),n.memoizedState=ih,l):(Rr(n),ah(n,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(h)n.flags&256?(Rr(n),n.flags&=-257,n=lh(e,n,s)):n.memoizedState!==null?(wr(),n.child=e.child,n.flags|=128,n=null):(wr(),f=l.fallback,T=n.mode,l=Ru({mode:"visible",children:l.children},T),f=vs(f,T,s,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,pa(n,e.child,null,s),l=n.child,l.memoizedState=rh(s),l.childLanes=sh(e,_,s),n.memoizedState=ih,n=f);else if(Rr(n),qh(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(a(419)),l.stack="",l.digest=_,vl({value:l,source:null,stack:null}),n=lh(e,n,s)}else if(Ge||_l(e,n,s,!1),_=(s&e.childLanes)!==0,Ge||_){if(_=ae,_!==null&&(l=s&-s,l=(l&42)!==0?1:_e(l),l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,sa(e,l),Mn(_,e,l),lp;T.data==="$?"||Rh(),n=lh(e,n,s)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ye=li(T.nextSibling),_n=n,Qt=!0,Ts=null,Ai=!1,e!==null&&(Qn[Kn++]=$i,Qn[Kn++]=Ji,Qn[Kn++]=_s,$i=e.id,Ji=e.overflow,_s=n),n=ah(n,l.children),n.flags|=4096);return n}return f?(wr(),f=l.fallback,T=n.mode,C=e.child,B=C.sibling,l=Zi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?f=Zi(B,f):(f=vs(f,T,s,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,T=e.child.memoizedState,T===null?T=rh(s):(C=T.cachePool,C!==null?(B=Ue._currentValue,C=C.parent!==B?{parent:B,pool:B}:C):C=nm(),T={baseLanes:T.baseLanes|s,cachePool:C}),f.memoizedState=T,f.childLanes=sh(e,_,s),n.memoizedState=ih,l):(Rr(n),s=e.child,e=s.sibling,s=Zi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=s,n.memoizedState=null,s)}function ah(e,n){return n=Ru({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ru(e,n){return e=xn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function lh(e,n,s){return pa(n,e.child,null,s),e=ah(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function yp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Rf(e.return,n,s)}function oh(e,n,s,l,f){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=s,h.tailMode=f)}function vp(e,n,s){var l=n.pendingProps,f=l.revealOrder,h=l.tail;if(We(e,n,l.children,s),l=Le.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yp(e,s,n);else if(e.tag===19)yp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(et(Le,l),f){case"forwards":for(s=n.child,f=null;s!==null;)e=s.alternate,e!==null&&Tu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),oh(n,!1,f,s,h);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Tu(e)===null){n.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}oh(n,!0,s,null,h);break;case"together":oh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ir(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ir|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(_l(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Zi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Zi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function uh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&su(e)))}function oT(e,n,s){switch(n.tag){case 3:zt(n,n.stateNode.containerInfo),Er(n,Ue,e.memoizedState.cache),yl();break;case 27:case 5:Vt(n);break;case 4:zt(n,n.stateNode.containerInfo);break;case 10:Er(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?pp(e,n,s):(Rr(n),e=ir(e,n,s),e!==null?e.sibling:null);Rr(n);break;case 19:var f=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(_l(e,n,s,!1),l=(s&n.childLanes)!==0),f){if(l)return vp(e,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),et(Le,Le.current),l)break;return null;case 22:case 23:return n.lanes=0,fp(e,n,s);case 24:Er(n,Ue,e.memoizedState.cache)}return ir(e,n,s)}function _p(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ge=!0;else{if(!uh(e,s)&&(n.flags&128)===0)return Ge=!1,oT(e,n,s);Ge=(e.flags&131072)!==0}else Ge=!1,Qt&&(n.flags&1048576)!==0&&Xg(n,ru,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")vf(l)?(e=Ds(l,e),n.tag=1,n=gp(null,n,l,e,s)):(n.tag=0,n=nh(null,n,l,e,s));else{if(l!=null){if(f=l.$$typeof,f===ut){n.tag=11,n=op(null,n,l,e,s);break t}else if(f===w){n.tag=14,n=up(null,n,l,e,s);break t}}throw n=Ft(l)||l,Error(a(306,n,""))}}return n;case 0:return nh(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,f=Ds(l,n.pendingProps),gp(e,n,l,f,s);case 3:t:{if(zt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var h=n.memoizedState;f=h.element,Vf(e,n),wl(n,l,null,s);var _=n.memoizedState;if(l=_.cache,Er(n,Ue,l),l!==h.cache&&wf(n,[Ue],s,!0),Rl(),l=_.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=mp(e,n,l,s);break t}else if(l!==f){f=Hn(Error(a(424)),n),vl(f),n=mp(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ye=li(e.firstChild),_n=n,Qt=!0,Ts=null,Ai=!0,s=$m(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(yl(),l===f){n=ir(e,n,s);break t}We(e,n,l,s)}n=n.child}return n;case 26:return Su(e,n),e===null?(s=Ay(n.type,null,n.pendingProps,null))?n.memoizedState=s:Qt||(s=n.type,e=n.pendingProps,l=Bu(mt.current).createElement(s),l[Wt]=n,l[Gt]=e,en(l,s,e),Ee(l),n.stateNode=l):n.memoizedState=Ay(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Vt(n),e===null&&Qt&&(l=n.stateNode=Ey(n.type,n.pendingProps,mt.current),_n=n,Ai=!0,f=ye,Ur(n.type)?(Hh=f,ye=li(l.firstChild)):ye=f),We(e,n,n.pendingProps.children,s),Su(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qt&&((f=l=ye)&&(l=LT(l,n.type,n.pendingProps,Ai),l!==null?(n.stateNode=l,_n=n,ye=li(l.firstChild),Ai=!1,f=!0):f=!1),f||bs(n)),Vt(n),f=n.type,h=n.pendingProps,_=e!==null?e.memoizedProps:null,l=h.children,Bh(f,h)?l=null:_!==null&&Bh(f,_)&&(n.flags|=32),n.memoizedState!==null&&(f=Pf(e,n,tT,null,null,s),Yl._currentValue=f),Su(e,n),We(e,n,l,s),n.child;case 6:return e===null&&Qt&&((e=s=ye)&&(s=zT(s,n.pendingProps,Ai),s!==null?(n.stateNode=s,_n=n,ye=null,e=!0):e=!1),e||bs(n)),null;case 13:return pp(e,n,s);case 4:return zt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=pa(n,null,l,s):We(e,n,l,s),n.child;case 11:return op(e,n,n.type,n.pendingProps,s);case 7:return We(e,n,n.pendingProps,s),n.child;case 8:return We(e,n,n.pendingProps.children,s),n.child;case 12:return We(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Er(n,n.type,l.value),We(e,n,l.children,s),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Ss(n),f=ln(f),l=l(f),n.flags|=1,We(e,n,l,s),n.child;case 14:return up(e,n,n.type,n.pendingProps,s);case 15:return cp(e,n,n.type,n.pendingProps,s);case 19:return vp(e,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},e===null?(s=Ru(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Zi(e.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return fp(e,n,s);case 24:return Ss(n),l=ln(Ue),e===null?(f=xf(),f===null&&(f=ae,h=Df(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=s),f=h),n.memoizedState={parent:l,cache:f},If(n),Er(n,Ue,f)):((e.lanes&s)!==0&&(Vf(e,n),wl(n,null,null,s),Rl()),f=e.memoizedState,h=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Er(n,Ue,l)):(l=h.cache,Er(n,Ue,l),l!==f.cache&&wf(n,[Ue],s,!0))),We(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function rr(e){e.flags|=4}function Ep(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cy(n)){if(n=Fn.current,n!==null&&((kt&4194048)===kt?Si!==null:(kt&62914560)!==kt&&(kt&536870912)===0||n!==Si))throw Al=Nf,im;e.flags|=8192}}function wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ns():536870912,e.lanes|=n,Ea|=n)}function Ol(e,n){if(!Qt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function de(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function uT(e,n,s){var l=n.pendingProps;switch(bf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),tr(Ue),Se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(pl(n)?rr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jg())),de(n),null;case 26:return s=n.memoizedState,e===null?(rr(n),s!==null?(de(n),Ep(n,s)):(de(n),n.flags&=-16777217)):s?s!==e.memoizedState?(rr(n),de(n),Ep(n,s)):(de(n),n.flags&=-16777217):(e.memoizedProps!==l&&rr(n),de(n),n.flags&=-16777217),null;case 27:hn(n),s=mt.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&rr(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return de(n),null}e=gt.current,pl(n)?Zg(n):(e=Ey(f,l,s),n.stateNode=e,rr(n))}return de(n),null;case 5:if(hn(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&rr(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return de(n),null}if(e=gt.current,pl(n))Zg(n);else{switch(f=Bu(mt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}e[Wt]=n,e[Gt]=l;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(en(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&rr(n)}}return de(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&rr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=mt.current,pl(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,f=_n,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Wt]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||dy(e.nodeValue,s)),e||bs(n)}else e=Bu(e).createTextNode(l),e[Wt]=n,n.stateNode=e}return de(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=pl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Wt]=n}else yl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),f=!1}else f=Jg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(nr(n),n):(nr(n),null)}if(nr(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==f&&(l.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),wu(n,n.updateQueue),de(n),null;case 4:return Se(),e===null&&Mh(n.stateNode.containerInfo),de(n),null;case 10:return tr(n.type),de(n),null;case 19:if(at(Le),f=n.memoizedState,f===null)return de(n),null;if(l=(n.flags&128)!==0,h=f.rendering,h===null)if(l)Ol(f,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Tu(e),h!==null){for(n.flags|=128,Ol(f,!1),e=h.updateQueue,n.updateQueue=e,wu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Yg(s,e),s=s.sibling;return et(Le,Le.current&1|2),n.child}e=e.sibling}f.tail!==null&&dn()>xu&&(n.flags|=128,l=!0,Ol(f,!1),n.lanes=4194304)}else{if(!l)if(e=Tu(h),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,wu(n,e),Ol(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!Qt)return de(n),null}else 2*dn()-f.renderingStartTime>xu&&s!==536870912&&(n.flags|=128,l=!0,Ol(f,!1),n.lanes=4194304);f.isBackwards?(h.sibling=n.child,n.child=h):(e=f.last,e!==null?e.sibling=h:n.child=h,f.last=h)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=dn(),n.sibling=null,e=Le.current,et(Le,l?e&1|2:e&1),n):(de(n),null);case 22:case 23:return nr(n),Lf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),s=n.updateQueue,s!==null&&wu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&at(Rs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),tr(Ue),de(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function cT(e,n){switch(bf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return tr(Ue),Se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return hn(n),null;case 13:if(nr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));yl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return at(Le),null;case 4:return Se(),null;case 10:return tr(n.type),null;case 22:case 23:return nr(n),Lf(),e!==null&&at(Rs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return tr(Ue),null;case 25:return null;default:return null}}function Tp(e,n){switch(bf(n),n.tag){case 3:tr(Ue),Se();break;case 26:case 27:case 5:hn(n);break;case 4:Se();break;case 13:nr(n);break;case 19:at(Le);break;case 10:tr(n.type);break;case 22:case 23:nr(n),Lf(),e!==null&&at(Rs);break;case 24:tr(Ue)}}function Ml(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&e)===e){l=void 0;var h=s.create,_=s.inst;l=h(),_.destroy=l}s=s.next}while(s!==f)}}catch(T){re(n,n.return,T)}}function Dr(e,n,s){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var h=f.next;l=h;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=n;var C=s,B=T;try{B()}catch(Y){re(f,C,Y)}}}l=l.next}while(l!==h)}}catch(Y){re(n,n.return,Y)}}function bp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{um(n,s)}catch(l){re(e,e.return,l)}}}function Ap(e,n,s){s.props=Ds(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){re(e,n,l)}}function Ul(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(f){re(e,n,f)}}function Ri(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){re(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){re(e,n,f)}else s.current=null}function Sp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){re(e,e.return,f)}}function ch(e,n,s){try{var l=e.stateNode;IT(l,e.type,s,n),l[Gt]=n}catch(f){re(e,e.return,f)}}function Rp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ur(e.type)||e.tag===4}function fh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Rp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ur(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hh(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Pu));else if(l!==4&&(l===27&&Ur(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(hh(e,n,s),e=e.sibling;e!==null;)hh(e,n,s),e=e.sibling}function Du(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ur(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Du(e,n,s),e=e.sibling;e!==null;)Du(e,n,s),e=e.sibling}function wp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);en(n,l,s),n[Wt]=e,n[Gt]=s}catch(h){re(e,e.return,h)}}var sr=!1,be=!1,dh=!1,Dp=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function fT(e,n){if(e=e.containerInfo,zh=Qu,e=Pg(e),ff(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break t}var _=0,T=-1,C=-1,B=0,Y=0,J=e,j=null;e:for(;;){for(var q;J!==s||f!==0&&J.nodeType!==3||(T=_+f),J!==h||l!==0&&J.nodeType!==3||(C=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(q=J.firstChild)!==null;)j=J,J=q;for(;;){if(J===e)break e;if(j===s&&++B===f&&(T=_),j===h&&++Y===l&&(C=_),(q=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=q}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ph={focusedElem:e,selectionRange:s},Qu=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,s=n,f=h.memoizedProps,h=h.memoizedState,l=s.stateNode;try{var bt=Ds(s.type,f,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(bt,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){re(s,s.return,Et)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)jh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function Cp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Cr(e,s),l&4&&Ml(5,s);break;case 1:if(Cr(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(_){re(s,s.return,_)}else{var f=Ds(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){re(s,s.return,_)}}l&64&&bp(s),l&512&&Ul(s,s.return);break;case 3:if(Cr(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{um(e,n)}catch(_){re(s,s.return,_)}}break;case 27:n===null&&l&4&&wp(s);case 26:case 5:Cr(e,s),n===null&&l&4&&Sp(s),l&512&&Ul(s,s.return);break;case 12:Cr(e,s);break;case 13:Cr(e,s),l&4&&Ip(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=ET.bind(null,s),PT(e,s))));break;case 22:if(l=s.memoizedState!==null||sr,!l){n=n!==null&&n.memoizedState!==null||be,f=sr;var h=be;sr=l,(be=n)&&!h?xr(e,s,(s.subtreeFlags&8772)!==0):Cr(e,s),sr=f,be=h}break;case 30:break;default:Cr(e,s)}}function xp(e){var n=e.alternate;n!==null&&(e.alternate=null,xp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&pr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,Sn=!1;function ar(e,n,s){for(s=s.child;s!==null;)Np(e,n,s),s=s.sibling}function Np(e,n,s){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(le,s)}catch{}switch(s.tag){case 26:be||Ri(s,n),ar(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:be||Ri(s,n);var l=ue,f=Sn;Ur(s.type)&&(ue=s.stateNode,Sn=!1),ar(e,n,s),Gl(s.stateNode),ue=l,Sn=f;break;case 5:be||Ri(s,n);case 6:if(l=ue,f=Sn,ue=null,ar(e,n,s),ue=l,Sn=f,ue!==null)if(Sn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(h){re(s,n,h)}else try{ue.removeChild(s.stateNode)}catch(h){re(s,n,h)}break;case 18:ue!==null&&(Sn?(e=ue,vy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Jl(e)):vy(ue,s.stateNode));break;case 4:l=ue,f=Sn,ue=s.stateNode.containerInfo,Sn=!0,ar(e,n,s),ue=l,Sn=f;break;case 0:case 11:case 14:case 15:be||Dr(2,s,n),be||Dr(4,s,n),ar(e,n,s);break;case 1:be||(Ri(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ap(s,n,l)),ar(e,n,s);break;case 21:ar(e,n,s);break;case 22:be=(l=be)||s.memoizedState!==null,ar(e,n,s),be=l;break;default:ar(e,n,s)}}function Ip(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Jl(e)}catch(s){re(n,n.return,s)}}function hT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Dp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Dp),n;default:throw Error(a(435,e.tag))}}function gh(e,n){var s=hT(e);n.forEach(function(l){var f=TT.bind(null,e,l);s.has(l)||(s.add(l),l.then(f,f))})}function Nn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],h=e,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Ur(T.type)){ue=T.stateNode,Sn=!1;break t}break;case 5:ue=T.stateNode,Sn=!1;break t;case 3:case 4:ue=T.stateNode.containerInfo,Sn=!0;break t}T=T.return}if(ue===null)throw Error(a(160));Np(h,_,f),ue=null,Sn=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Vp(n,e),n=n.sibling}var ai=null;function Vp(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(n,e),In(e),l&4&&(Dr(3,e,e.return),Ml(3,e),Dr(5,e,e.return));break;case 1:Nn(n,e),In(e),l&512&&(be||s===null||Ri(s,s.return)),l&64&&sr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=ai;if(Nn(n,e),In(e),l&512&&(be||s===null||Ri(s,s.return)),l&4){var h=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":h=f.getElementsByTagName("title")[0],(!h||h[ni]||h[Wt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(l),f.head.insertBefore(h,f.querySelector("head > title"))),en(h,l,s),h[Wt]=e,Ee(h),l=h;break t;case"link":var _=wy("link","href",f).get(l+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(h=_[T],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break e}}h=f.createElement(l),en(h,l,s),f.head.appendChild(h);break;case"meta":if(_=wy("meta","content",f).get(l+(s.content||""))){for(T=0;T<_.length;T++)if(h=_[T],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break e}}h=f.createElement(l),en(h,l,s),f.head.appendChild(h);break;default:throw Error(a(468,l))}h[Wt]=e,Ee(h),l=h}e.stateNode=l}else Dy(f,e.type,e.stateNode);else e.stateNode=Ry(f,l,e.memoizedProps);else h!==l?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,l===null?Dy(f,e.type,e.stateNode):Ry(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ch(e,e.memoizedProps,s.memoizedProps)}break;case 27:Nn(n,e),In(e),l&512&&(be||s===null||Ri(s,s.return)),s!==null&&l&4&&ch(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Nn(n,e),In(e),l&512&&(be||s===null||Ri(s,s.return)),e.flags&32){f=e.stateNode;try{Bn(f,"")}catch(q){re(e,e.return,q)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,ch(e,f,s!==null?s.memoizedProps:f)),l&1024&&(dh=!0);break;case 6:if(Nn(n,e),In(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(q){re(e,e.return,q)}}break;case 3:if(qu=null,f=ai,ai=ku(n.containerInfo),Nn(n,e),ai=f,In(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Jl(n.containerInfo)}catch(q){re(e,e.return,q)}dh&&(dh=!1,Op(e));break;case 4:l=ai,ai=ku(e.stateNode.containerInfo),Nn(n,e),In(e),ai=l;break;case 12:Nn(n,e),In(e);break;case 13:Nn(n,e),In(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Eh=dn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gh(e,l)));break;case 22:f=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,B=sr,Y=be;if(sr=B||f,be=Y||C,Nn(n,e),be=Y,sr=B,In(e),l&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(s===null||C||sr||be||Cs(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(h=C.stateNode,f)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var J=C.memoizedProps.style,j=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(q){re(C,C.return,q)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(q){re(C,C.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,gh(e,s))));break;case 19:Nn(n,e),In(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gh(e,l)));break;case 30:break;case 21:break;default:Nn(n,e),In(e)}}function In(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Rp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,h=fh(e);Du(e,h,f);break;case 5:var _=s.stateNode;s.flags&32&&(Bn(_,""),s.flags&=-33);var T=fh(e);Du(e,T,_);break;case 3:case 4:var C=s.stateNode.containerInfo,B=fh(e);hh(e,B,C);break;default:throw Error(a(161))}}catch(Y){re(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Op(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Op(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Cr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cp(e,n.alternate,n),n=n.sibling}function Cs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Dr(4,n,n.return),Cs(n);break;case 1:Ri(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ap(n,n.return,s),Cs(n);break;case 27:Gl(n.stateNode);case 26:case 5:Ri(n,n.return),Cs(n);break;case 22:n.memoizedState===null&&Cs(n);break;case 30:Cs(n);break;default:Cs(n)}e=e.sibling}}function xr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,h=n,_=h.flags;switch(h.tag){case 0:case 11:case 15:xr(f,h,s),Ml(4,h);break;case 1:if(xr(f,h,s),l=h,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){re(l,l.return,B)}if(l=h,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)om(C[f],T)}catch(B){re(l,l.return,B)}}s&&_&64&&bp(h),Ul(h,h.return);break;case 27:wp(h);case 26:case 5:xr(f,h,s),s&&l===null&&_&4&&Sp(h),Ul(h,h.return);break;case 12:xr(f,h,s);break;case 13:xr(f,h,s),s&&_&4&&Ip(f,h);break;case 22:h.memoizedState===null&&xr(f,h,s),Ul(h,h.return);break;case 30:break;default:xr(f,h,s)}n=n.sibling}}function mh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&El(s))}function ph(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e))}function wi(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mp(e,n,s,l),n=n.sibling}function Mp(e,n,s,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:wi(e,n,s,l),f&2048&&Ml(9,n);break;case 1:wi(e,n,s,l);break;case 3:wi(e,n,s,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e)));break;case 12:if(f&2048){wi(e,n,s,l),e=n.stateNode;try{var h=n.memoizedProps,_=h.id,T=h.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){re(n,n.return,C)}}else wi(e,n,s,l);break;case 13:wi(e,n,s,l);break;case 23:break;case 22:h=n.stateNode,_=n.alternate,n.memoizedState!==null?h._visibility&2?wi(e,n,s,l):Ll(e,n):h._visibility&2?wi(e,n,s,l):(h._visibility|=2,ya(e,n,s,l,(n.subtreeFlags&10256)!==0)),f&2048&&mh(_,n);break;case 24:wi(e,n,s,l),f&2048&&ph(n.alternate,n);break;default:wi(e,n,s,l)}}function ya(e,n,s,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,_=n,T=s,C=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:ya(h,_,T,C,f),Ml(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?ya(h,_,T,C,f):Ll(h,_):(Y._visibility|=2,ya(h,_,T,C,f)),f&&B&2048&&mh(_.alternate,_);break;case 24:ya(h,_,T,C,f),f&&B&2048&&ph(_.alternate,_);break;default:ya(h,_,T,C,f)}n=n.sibling}}function Ll(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,f=l.flags;switch(l.tag){case 22:Ll(s,l),f&2048&&mh(l.alternate,l);break;case 24:Ll(s,l),f&2048&&ph(l.alternate,l);break;default:Ll(s,l)}n=n.sibling}}var zl=8192;function va(e){if(e.subtreeFlags&zl)for(e=e.child;e!==null;)Up(e),e=e.sibling}function Up(e){switch(e.tag){case 26:va(e),e.flags&zl&&e.memoizedState!==null&&$T(ai,e.memoizedState,e.memoizedProps);break;case 5:va(e);break;case 3:case 4:var n=ai;ai=ku(e.stateNode.containerInfo),va(e),ai=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=zl,zl=16777216,va(e),zl=n):va(e));break;default:va(e)}}function Lp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Pl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Qe=l,Pp(l,e)}Lp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zp(e),e=e.sibling}function zp(e){switch(e.tag){case 0:case 11:case 15:Pl(e),e.flags&2048&&Dr(9,e,e.return);break;case 3:Pl(e);break;case 12:Pl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Cu(e)):Pl(e);break;default:Pl(e)}}function Cu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Qe=l,Pp(l,e)}Lp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Dr(8,n,n.return),Cu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Cu(n));break;default:Cu(n)}e=e.sibling}}function Pp(e,n){for(;Qe!==null;){var s=Qe;switch(s.tag){case 0:case 11:case 15:Dr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Qe=l;else t:for(s=e;Qe!==null;){l=Qe;var f=l.sibling,h=l.return;if(xp(l),l===s){Qe=null;break t}if(f!==null){f.return=h,Qe=f;break t}Qe=h}}}var dT={getCacheForType:function(e){var n=ln(Ue),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},gT=typeof WeakMap=="function"?WeakMap:Map,$t=0,ae=null,Ot=null,kt=0,Jt=0,Vn=null,Nr=!1,_a=!1,yh=!1,lr=0,ve=0,Ir=0,xs=0,vh=0,Yn=0,Ea=0,Bl=null,Rn=null,_h=!1,Eh=0,xu=1/0,Nu=null,Vr=null,tn=0,Or=null,Ta=null,ba=0,Th=0,bh=null,Bp=null,kl=0,Ah=null;function On(){if(($t&2)!==0&&kt!==0)return kt&-kt;if(K.T!==null){var e=ua;return e!==0?e:Nh()}return Ve()}function kp(){Yn===0&&(Yn=(kt&536870912)===0||Qt?es():536870912);var e=Fn.current;return e!==null&&(e.flags|=32),Yn}function Mn(e,n,s){(e===ae&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Aa(e,0),Mr(e,kt,Yn,!1)),se(e,s),(($t&2)===0||e!==ae)&&(e===ae&&(($t&2)===0&&(xs|=s),ve===4&&Mr(e,kt,Yn,!1)),Di(e))}function jp(e,n,s){if(($t&6)!==0)throw Error(a(327));var l=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Pi(e,n),f=l?yT(e,n):wh(e,n,!0),h=l;do{if(f===0){_a&&!l&&Mr(e,n,0,!1);break}else{if(s=e.current.alternate,h&&!mT(s)){f=wh(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=e;f=Bl;var C=T.current.memoizedState.isDehydrated;if(C&&(Aa(T,_).flags|=256),_=wh(T,_,!1),_!==2){if(yh&&!C){T.errorRecoveryDisabledLanes|=h,xs|=h,f=4;break t}h=Rn,Rn=f,h!==null&&(Rn===null?Rn=h:Rn.push.apply(Rn,h))}f=_}if(h=!1,f!==2)continue}}if(f===1){Aa(e,0),Mr(e,n,0,!0);break}t:{switch(l=e,h=f,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Mr(l,n,Yn,!Nr);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Eh+300-dn(),10<f)){if(Mr(l,n,Yn,!Nr),zi(l,0,!0)!==0)break t;l.timeoutHandle=py(qp.bind(null,l,s,Rn,Nu,_h,n,Yn,xs,Ea,Nr,h,2,-0,0),f);break t}qp(l,s,Rn,Nu,_h,n,Yn,xs,Ea,Nr,h,0,-0,0)}}break}while(!0);Di(e)}function qp(e,n,s,l,f,h,_,T,C,B,Y,J,j,q){if(e.timeoutHandle=-1,J=n.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:ZT},Up(n),J=JT(),J!==null)){e.cancelPendingCommit=J(Xp.bind(null,e,n,h,s,l,f,_,T,C,Y,1,j,q)),Mr(e,h,_,!B);return}Xp(e,n,h,s,l,f,_,T,C)}function mT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],h=f.getSnapshot;f=f.value;try{if(!Cn(h(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mr(e,n,s,l){n&=~vh,n&=~xs,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var h=31-me(f),_=1<<h;l[h]=-1,f&=~_}s!==0&&oe(e,s,n)}function Iu(){return($t&6)===0?(jl(0),!1):!0}function Sh(){if(Ot!==null){if(Jt===0)var e=Ot.return;else e=Ot,Wi=As=null,jf(e),ma=null,Il=0,e=Ot;for(;e!==null;)Tp(e.alternate,e),e=e.return;Ot=null}}function Aa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,OT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Sh(),ae=e,Ot=s=Zi(e.current,null),kt=n,Jt=0,Vn=null,Nr=!1,_a=Pi(e,n),yh=!1,Ea=Yn=vh=xs=Ir=ve=0,Rn=Bl=null,_h=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-me(l),h=1<<f;n|=e[f],l&=~h}return lr=n,Wo(),s}function Hp(e,n){xt=null,K.H=vu,n===bl||n===ou?(n=am(),Jt=3):n===im?(n=am(),Jt=4):Jt=n===lp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Vn=n,Ot===null&&(ve=1,Au(e,Hn(n,e.current)))}function Gp(){var e=K.H;return K.H=vu,e===null?vu:e}function Qp(){var e=K.A;return K.A=dT,e}function Rh(){ve=4,Nr||(kt&4194048)!==kt&&Fn.current!==null||(_a=!0),(Ir&134217727)===0&&(xs&134217727)===0||ae===null||Mr(ae,kt,Yn,!1)}function wh(e,n,s){var l=$t;$t|=2;var f=Gp(),h=Qp();(ae!==e||kt!==n)&&(Nu=null,Aa(e,n)),n=!1;var _=ve;t:do try{if(Jt!==0&&Ot!==null){var T=Ot,C=Vn;switch(Jt){case 8:Sh(),_=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(n=!0);var B=Jt;if(Jt=0,Vn=null,Sa(e,T,C,B),s&&_a){_=0;break t}break;default:B=Jt,Jt=0,Vn=null,Sa(e,T,C,B)}}pT(),_=ve;break}catch(Y){Hp(e,Y)}while(!0);return n&&e.shellSuspendCounter++,Wi=As=null,$t=l,K.H=f,K.A=h,Ot===null&&(ae=null,kt=0,Wo()),_}function pT(){for(;Ot!==null;)Kp(Ot)}function yT(e,n){var s=$t;$t|=2;var l=Gp(),f=Qp();ae!==e||kt!==n?(Nu=null,xu=dn()+500,Aa(e,n)):_a=Pi(e,n);t:do try{if(Jt!==0&&Ot!==null){n=Ot;var h=Vn;e:switch(Jt){case 1:Jt=0,Vn=null,Sa(e,n,h,1);break;case 2:case 9:if(rm(h)){Jt=0,Vn=null,Fp(n);break}n=function(){Jt!==2&&Jt!==9||ae!==e||(Jt=7),Di(e)},h.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:rm(h)?(Jt=0,Vn=null,Fp(n)):(Jt=0,Vn=null,Sa(e,n,h,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var T=Ot;if(!_||Cy(_)){Jt=0,Vn=null;var C=T.sibling;if(C!==null)Ot=C;else{var B=T.return;B!==null?(Ot=B,Vu(B)):Ot=null}break e}}Jt=0,Vn=null,Sa(e,n,h,5);break;case 6:Jt=0,Vn=null,Sa(e,n,h,6);break;case 8:Sh(),ve=6;break t;default:throw Error(a(462))}}vT();break}catch(Y){Hp(e,Y)}while(!0);return Wi=As=null,K.H=l,K.A=f,$t=s,Ot!==null?0:(ae=null,kt=0,Wo(),ve)}function vT(){for(;Ot!==null&&!Ln();)Kp(Ot)}function Kp(e){var n=_p(e.alternate,e,lr);e.memoizedProps=e.pendingProps,n===null?Vu(e):Ot=n}function Fp(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=dp(s,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=dp(s,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:jf(n);default:Tp(s,n),n=Ot=Yg(n,lr),n=_p(s,n,lr)}e.memoizedProps=e.pendingProps,n===null?Vu(e):Ot=n}function Sa(e,n,s,l){Wi=As=null,jf(n),ma=null,Il=0;var f=n.return;try{if(lT(e,f,n,s,kt)){ve=1,Au(e,Hn(s,e.current)),Ot=null;return}}catch(h){if(f!==null)throw Ot=f,h;ve=1,Au(e,Hn(s,e.current)),Ot=null;return}n.flags&32768?(Qt||l===1?e=!0:_a||(kt&536870912)!==0?e=!1:(Nr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Yp(n,e)):Vu(n)}function Vu(e){var n=e;do{if((n.flags&32768)!==0){Yp(n,Nr);return}e=n.return;var s=uT(n.alternate,n,lr);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);ve===0&&(ve=5)}function Yp(e,n){do{var s=cT(e.alternate,e);if(s!==null){s.flags&=32767,Ot=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=s}while(e!==null);ve=6,Ot=null}function Xp(e,n,s,l,f,h,_,T,C){e.cancelPendingCommit=null;do Ou();while(tn!==0);if(($t&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=pf,Ie(e,s,h,_,T,C),e===ae&&(Ot=ae=null,kt=0),Ta=n,Or=e,ba=s,Th=h,bh=f,Bp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bT(zn,function(){return ty(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=rt.p,rt.p=2,_=$t,$t|=4;try{fT(e,n,s)}finally{$t=_,rt.p=f,K.T=l}}tn=1,Zp(),$p(),Jp()}}function Zp(){if(tn===1){tn=0;var e=Or,n=Ta,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var l=rt.p;rt.p=2;var f=$t;$t|=4;try{Vp(n,e);var h=Ph,_=Pg(e.containerInfo),T=h.focusedElem,C=h.selectionRange;if(_!==T&&T&&T.ownerDocument&&zg(T.ownerDocument.documentElement,T)){if(C!==null&&ff(T)){var B=C.start,Y=C.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var J=T.ownerDocument||document,j=J&&J.defaultView||window;if(j.getSelection){var q=j.getSelection(),bt=T.textContent.length,Et=Math.min(C.start,bt),ie=C.end===void 0?Et:Math.min(C.end,bt);!q.extend&&Et>ie&&(_=ie,ie=Et,Et=_);var L=Lg(T,Et),O=Lg(T,ie);if(L&&O&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=J.createRange();P.setStart(L.node,L.offset),q.removeAllRanges(),Et>ie?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(J=[],q=T;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Qu=!!zh,Ph=zh=null}finally{$t=f,rt.p=l,K.T=s}}e.current=n,tn=2}}function $p(){if(tn===2){tn=0;var e=Or,n=Ta,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var l=rt.p;rt.p=2;var f=$t;$t|=4;try{Cp(e,n.alternate,n)}finally{$t=f,rt.p=l,K.T=s}}tn=3}}function Jp(){if(tn===4||tn===3){tn=0,Jn();var e=Or,n=Ta,s=ba,l=Bp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tn=5:(tn=0,Ta=Or=null,Wp(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Vr=null),we(s),n=n.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,f=rt.p,rt.p=2,K.T=null;try{for(var h=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];h(T.value,{componentStack:T.stack})}}finally{K.T=n,rt.p=f}}(ba&3)!==0&&Ou(),Di(e),f=e.pendingLanes,(s&4194090)!==0&&(f&42)!==0?e===Ah?kl++:(kl=0,Ah=e):kl=0,jl(0)}}function Wp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,El(n)))}function Ou(e){return Zp(),$p(),Jp(),ty()}function ty(){if(tn!==5)return!1;var e=Or,n=Th;Th=0;var s=we(ba),l=K.T,f=rt.p;try{rt.p=32>s?32:s,K.T=null,s=bh,bh=null;var h=Or,_=ba;if(tn=0,Ta=Or=null,ba=0,($t&6)!==0)throw Error(a(331));var T=$t;if($t|=4,zp(h.current),Mp(h,h.current,_,s),$t=T,jl(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(le,h)}catch{}return!0}finally{rt.p=f,K.T=l,Wp(e,n)}}function ey(e,n,s){n=Hn(s,n),n=eh(e.stateNode,n,2),e=Ar(e,n,2),e!==null&&(se(e,2),Di(e))}function re(e,n,s){if(e.tag===3)ey(e,e,s);else for(;n!==null;){if(n.tag===3){ey(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vr===null||!Vr.has(l))){e=Hn(s,e),s=sp(2),l=Ar(n,s,2),l!==null&&(ap(s,l,n,e),se(l,2),Di(l));break}}n=n.return}}function Dh(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new gT;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(s)||(yh=!0,f.add(s),e=_T.bind(null,e,n,s),n.then(e,e))}function _T(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ae===e&&(kt&s)===s&&(ve===4||ve===3&&(kt&62914560)===kt&&300>dn()-Eh?($t&2)===0&&Aa(e,0):vh|=s,Ea===kt&&(Ea=0)),Di(e)}function ny(e,n){n===0&&(n=ns()),e=sa(e,n),e!==null&&(se(e,n),Di(e))}function ET(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ny(e,s)}function TT(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),ny(e,s)}function bT(e,n){return Tn(e,n)}var Mu=null,Ra=null,Ch=!1,Uu=!1,xh=!1,Ns=0;function Di(e){e!==Ra&&e.next===null&&(Ra===null?Mu=Ra=e:Ra=Ra.next=e),Uu=!0,Ch||(Ch=!0,ST())}function jl(e,n){if(!xh&&Uu){xh=!0;do for(var s=!1,l=Mu;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var h=0;else{var _=l.suspendedLanes,T=l.pingedLanes;h=(1<<31-me(42|e)+1)-1,h&=f&~(_&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,ay(l,h))}else h=kt,h=zi(l,l===ae?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Pi(l,h)||(s=!0,ay(l,h));l=l.next}while(s);xh=!1}}function AT(){iy()}function iy(){Uu=Ch=!1;var e=0;Ns!==0&&(VT()&&(e=Ns),Ns=0);for(var n=dn(),s=null,l=Mu;l!==null;){var f=l.next,h=ry(l,n);h===0?(l.next=null,s===null?Mu=f:s.next=f,f===null&&(Ra=s)):(s=l,(e!==0||(h&3)!==0)&&(Uu=!0)),l=f}jl(e)}function ry(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var _=31-me(h),T=1<<_,C=f[_];C===-1?((T&s)===0||(T&l)!==0)&&(f[_]=mr(T,n)):C<=n&&(e.expiredLanes|=T),h&=~T}if(n=ae,s=kt,s=zi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Xe(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Pi(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Xe(l),we(s)){case 2:case 8:s=gn;break;case 32:s=zn;break;case 268435456:s=Mi;break;default:s=zn}return l=sy.bind(null,e),s=Tn(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Xe(l),e.callbackPriority=2,e.callbackNode=null,2}function sy(e,n){if(tn!==0&&tn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Ou()&&e.callbackNode!==s)return null;var l=kt;return l=zi(e,e===ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(jp(e,l,n),ry(e,dn()),e.callbackNode!=null&&e.callbackNode===s?sy.bind(null,e):null)}function ay(e,n){if(Ou())return null;jp(e,n,!0)}function ST(){MT(function(){($t&6)!==0?Tn(Oi,AT):iy()})}function Nh(){return Ns===0&&(Ns=es()),Ns}function ly(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fs(""+e)}function oy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function RT(e,n,s,l,f){if(n==="submit"&&s&&s.stateNode===f){var h=ly((f[Gt]||null).action),_=l.submitter;_&&(n=(n=_[Gt]||null)?ly(n.formAction):_.getAttribute("formAction"),n!==null&&(h=n,_=null));var T=new Ys("action","action",null,l,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ns!==0){var C=_?oy(f,_):new FormData(f);Zf(s,{pending:!0,data:C,method:f.method,action:h},null,C)}}else typeof h=="function"&&(T.preventDefault(),C=_?oy(f,_):new FormData(f),Zf(s,{pending:!0,data:C,method:f.method,action:h},h,C))},currentTarget:f}]})}}for(var Ih=0;Ih<mf.length;Ih++){var Vh=mf[Ih],wT=Vh.toLowerCase(),DT=Vh[0].toUpperCase()+Vh.slice(1);si(wT,"on"+DT)}si(jg,"onAnimationEnd"),si(qg,"onAnimationIteration"),si(Hg,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(GE,"onTransitionRun"),si(QE,"onTransitionStart"),si(KE,"onTransitionCancel"),si(Gg,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function uy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],f=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,B=T.currentTarget;if(T=T.listener,C!==h&&f.isPropagationStopped())break t;h=T,f.currentTarget=B;try{h(f)}catch(Y){bu(Y)}f.currentTarget=null,h=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,B=T.currentTarget,T=T.listener,C!==h&&f.isPropagationStopped())break t;h=T,f.currentTarget=B;try{h(f)}catch(Y){bu(Y)}f.currentTarget=null,h=C}}}}function Mt(e,n){var s=n[ei];s===void 0&&(s=n[ei]=new Set);var l=e+"__bubble";s.has(l)||(cy(n,e,2,!1),s.add(l))}function Oh(e,n,s){var l=0;n&&(l|=4),cy(s,e,l,n)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function Mh(e){if(!e[Lu]){e[Lu]=!0,tl.forEach(function(s){s!=="selectionchange"&&(CT.has(s)||Oh(s,!1,e),Oh(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Lu]||(n[Lu]=!0,Oh("selectionchange",!1,n))}}function cy(e,n,s,l){switch(My(n)){case 2:var f=eb;break;case 8:f=nb;break;default:f=Yh}s=f.bind(null,n,s,e),f=void 0,!jn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,s,{capture:!0,passive:f}):e.addEventListener(n,s,!0):f!==void 0?e.addEventListener(n,s,{passive:f}):e.addEventListener(n,s,!1)}function Uh(e,n,s,l,f){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=ki(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=h=_;continue t}T=T.parentNode}}l=l.return}Po(function(){var B=h,Y=kn(s),J=[];t:{var j=Qg.get(e);if(j!==void 0){var q=Ys,bt=e;switch(e){case"keypress":if(vi(s)===0)break t;case"keydown":case"keyup":q=ta;break;case"focusin":bt="focus",q=$s;break;case"focusout":bt="blur",q=$s;break;case"beforeblur":case"afterblur":q=$s;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Ko;break;case jg:case qg:case Hg:q=Js;break;case Gg:q=Yo;break;case"scroll":case"scrollend":q=Bo;break;case"wheel":q=ea;break;case"copy":case"cut":case"paste":q=Ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=hl;break;case"toggle":case"beforetoggle":q=Zo}var Et=(n&4)!==0,ie=!Et&&(e==="scroll"||e==="scrollend"),L=Et?j!==null?j+"Capture":null:j;Et=[];for(var O=B,P;O!==null;){var Z=O;if(P=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||P===null||L===null||(Z=us(O,L),Z!=null&&Et.push(Hl(O,Z,P))),ie)break;O=O.return}0<Et.length&&(j=new q(j,bt,null,s,Y),J.push({event:j,listeners:Et}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Gi&&(bt=s.relatedTarget||s.fromElement)&&(ki(bt)||bt[pe]))break t;if((q||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,q?(bt=s.relatedTarget||s.toElement,q=B,bt=bt?ki(bt):null,bt!==null&&(ie=c(bt),Et=bt.tag,bt!==ie||Et!==5&&Et!==27&&Et!==6)&&(bt=null)):(q=null,bt=B),q!==bt)){if(Et=qn,Z="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Et=hl,Z="onPointerLeave",L="onPointerEnter",O="pointer"),ie=q==null?j:gi(q),P=bt==null?j:gi(bt),j=new Et(Z,O+"leave",q,s,Y),j.target=ie,j.relatedTarget=P,Z=null,ki(Y)===B&&(Et=new Et(L,O+"enter",bt,s,Y),Et.target=P,Et.relatedTarget=ie,Z=Et),ie=Z,q&&bt)e:{for(Et=q,L=bt,O=0,P=Et;P;P=wa(P))O++;for(P=0,Z=L;Z;Z=wa(Z))P++;for(;0<O-P;)Et=wa(Et),O--;for(;0<P-O;)L=wa(L),P--;for(;O--;){if(Et===L||L!==null&&Et===L.alternate)break e;Et=wa(Et),L=wa(L)}Et=null}else Et=null;q!==null&&fy(J,j,q,Et,!1),bt!==null&&ie!==null&&fy(J,ie,bt,Et,!0)}}t:{if(j=B?gi(B):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var dt=Ng;else if(Me(j))if(Ig)dt=jE;else{dt=BE;var It=PE}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&sl(B.elementType)&&(dt=Ng):dt=kE;if(dt&&(dt=dt(e,B))){Xi(J,dt,s,Y);break t}It&&It(e,j,B),e==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&vr(j,"number",j.value)}switch(It=B?gi(B):window,e){case"focusin":(Me(It)||It.contentEditable==="true")&&(na=It,hf=B,ml=null);break;case"focusout":ml=hf=na=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,Bg(J,s,Y);break;case"selectionchange":if(HE)break;case"keydown":case"keyup":Bg(J,s,Y)}var yt;if(Ti)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Pt?G(e,s)&&(Tt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Tt="onCompositionStart");Tt&&(v&&s.locale!=="ko"&&(Pt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Pt&&(yt=ll()):(yi=Y,_r="value"in yi?yi.value:yi.textContent,Pt=!0)),It=zu(B,Tt),0<It.length&&(Tt=new cl(Tt,e,null,s,Y),J.push({event:Tt,listeners:It}),yt?Tt.data=yt:(yt=ft(s),yt!==null&&(Tt.data=yt)))),(yt=m?Oe(e,s):Bt(e,s))&&(Tt=zu(B,"onBeforeInput"),0<Tt.length&&(It=new cl("onBeforeInput","beforeinput",null,s,Y),J.push({event:It,listeners:Tt}),It.data=yt)),RT(J,e,B,s,Y)}uy(J,n)})}function Hl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function zu(e,n){for(var s=n+"Capture",l=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=us(e,s),f!=null&&l.unshift(Hl(e,f,h)),f=us(e,n),f!=null&&l.push(Hl(e,f,h))),e.tag===3)return l;e=e.return}return[]}function wa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fy(e,n,s,l,f){for(var h=n._reactName,_=[];s!==null&&s!==l;){var T=s,C=T.alternate,B=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||B===null||(C=B,f?(B=us(s,h),B!=null&&_.unshift(Hl(s,B,C))):f||(B=us(s,h),B!=null&&_.push(Hl(s,B,C)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var xT=/\r\n?/g,NT=/\u0000|\uFFFD/g;function hy(e){return(typeof e=="string"?e:""+e).replace(xT,`
`).replace(NT,"")}function dy(e,n){return n=hy(n),hy(e)===n}function Pu(){}function ne(e,n,s,l,f,h){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Bn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Bn(e,""+l);break;case"className":mi(e,"class",l);break;case"tabIndex":mi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(e,s,l);break;case"style":rl(e,l,h);break;case"data":if(n!=="object"){mi(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Fs(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",f.name,f,null),ne(e,n,"formEncType",f.formEncType,f,null),ne(e,n,"formMethod",f.formMethod,f,null),ne(e,n,"formTarget",f.formTarget,f,null)):(ne(e,n,"encType",f.encType,f,null),ne(e,n,"method",f.method,f,null),ne(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Fs(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Pu);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Fs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),yr(e,"popover",l);break;case"xlinkActuate":$e(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$e(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$e(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$e(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$e(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$e(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$e(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=sf.get(s)||s,yr(e,s,l))}}function Lh(e,n,s,l,f,h){switch(s){case"style":rl(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Bn(e,l):(typeof l=="number"||typeof l=="bigint")&&Bn(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),h=e[Gt]||null,h=h!=null?h[s]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof l=="function")){typeof h!="function"&&h!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,f);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):yr(e,s,l)}}}function en(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,f=!1,h;for(h in s)if(s.hasOwnProperty(h)){var _=s[h];if(_!=null)switch(h){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,h,_,s,null)}}f&&ne(e,n,"srcSet",s.srcSet,s,null),l&&ne(e,n,"src",s.src,s,null);return;case"input":Mt("invalid",e);var T=h=_=f=null,C=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var Y=s[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":C=Y;break;case"defaultChecked":B=Y;break;case"value":h=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:ne(e,n,l,Y,s,null)}}as(e,h,T,C,B,_,f,!1),Ks(e);return;case"select":Mt("invalid",e),l=_=h=null;for(f in s)if(s.hasOwnProperty(f)&&(T=s[f],T!=null))switch(f){case"value":h=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:ne(e,n,f,T,s,null)}n=h,s=_,e.multiple=!!l,n!=null?Hi(e,!!l,n,!1):s!=null&&Hi(e,!!l,s,!0);return;case"textarea":Mt("invalid",e),h=f=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":f=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ne(e,n,_,T,s,null)}ls(e,l,f,h),Ks(e);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(l=s[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ne(e,n,C,l,s,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<ql.length;l++)Mt(ql[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,B,l,s,null)}return;default:if(sl(n)){for(Y in s)s.hasOwnProperty(Y)&&(l=s[Y],l!==void 0&&Lh(e,n,Y,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&ne(e,n,T,l,s,null))}function IT(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,_=null,T=null,C=null,B=null,Y=null;for(q in s){var J=s[q];if(s.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(q)||ne(e,n,q,null,l,J)}}for(var j in l){var q=l[j];if(J=s[j],l.hasOwnProperty(j)&&(q!=null||J!=null))switch(j){case"type":h=q;break;case"name":f=q;break;case"checked":B=q;break;case"defaultChecked":Y=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==J&&ne(e,n,j,q,l,J)}}Dn(e,_,T,C,B,Y,h,f);return;case"select":q=_=T=j=null;for(h in s)if(C=s[h],s.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(h)||ne(e,n,h,null,l,C)}for(f in l)if(h=l[f],C=s[f],l.hasOwnProperty(f)&&(h!=null||C!=null))switch(f){case"value":j=h;break;case"defaultValue":T=h;break;case"multiple":_=h;default:h!==C&&ne(e,n,f,h,l,C)}n=T,s=_,l=q,j!=null?Hi(e,!!s,j,!1):!!l!=!!s&&(n!=null?Hi(e,!!s,n,!0):Hi(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(T in s)if(f=s[T],s.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ne(e,n,T,null,l,f)}for(_ in l)if(f=l[_],h=s[_],l.hasOwnProperty(_)&&(f!=null||h!=null))switch(_){case"value":j=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==h&&ne(e,n,_,f,l,h)}te(e,j,q);return;case"option":for(var bt in s)if(j=s[bt],s.hasOwnProperty(bt)&&j!=null&&!l.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:ne(e,n,bt,null,l,j)}for(C in l)if(j=l[C],q=s[C],l.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ne(e,n,C,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)j=s[Et],s.hasOwnProperty(Et)&&j!=null&&!l.hasOwnProperty(Et)&&ne(e,n,Et,null,l,j);for(B in l)if(j=l[B],q=s[B],l.hasOwnProperty(B)&&j!==q&&(j!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ne(e,n,B,j,l,q)}return;default:if(sl(n)){for(var ie in s)j=s[ie],s.hasOwnProperty(ie)&&j!==void 0&&!l.hasOwnProperty(ie)&&Lh(e,n,ie,void 0,l,j);for(Y in l)j=l[Y],q=s[Y],!l.hasOwnProperty(Y)||j===q||j===void 0&&q===void 0||Lh(e,n,Y,j,l,q);return}}for(var L in s)j=s[L],s.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&ne(e,n,L,null,l,j);for(J in l)j=l[J],q=s[J],!l.hasOwnProperty(J)||j===q||j==null&&q==null||ne(e,n,J,j,l,q)}var zh=null,Ph=null;function Bu(e){return e.nodeType===9?e:e.ownerDocument}function gy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function my(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Bh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var kh=null;function VT(){var e=window.event;return e&&e.type==="popstate"?e===kh?!1:(kh=e,!0):(kh=null,!1)}var py=typeof setTimeout=="function"?setTimeout:void 0,OT=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,MT=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(e){return yy.resolve(null).then(e).catch(UT)}:py;function UT(e){setTimeout(function(){throw e})}function Ur(e){return e==="head"}function vy(e,n){var s=n,l=0,f=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(0<l&&8>l){s=l;var _=e.ownerDocument;if(s&1&&Gl(_.documentElement),s&2&&Gl(_.body),s&4)for(s=_.head,Gl(s),_=s.firstChild;_;){var T=_.nextSibling,C=_.nodeName;_[ni]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=T}}if(f===0){e.removeChild(h),Jl(n);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=h}while(s);Jl(n)}function jh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":jh(s),pr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function LT(e,n,s,l){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ni])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=li(e.nextSibling),e===null)break}return null}function zT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=li(e.nextSibling),e===null))return null;return e}function qh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function PT(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function li(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Hh=null;function _y(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function Ey(e,n,s){switch(n=Bu(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);pr(e)}var Xn=new Map,Ty=new Set;function ku(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var or=rt.d;rt.d={f:BT,r:kT,D:jT,C:qT,L:HT,m:GT,X:KT,S:QT,M:FT};function BT(){var e=or.f(),n=Iu();return e||n}function kT(e){var n=di(e);n!==null&&n.tag===5&&n.type==="form"?jm(n):or.r(e)}var Da=typeof document>"u"?null:document;function by(e,n,s){var l=Da;if(l&&typeof n=="string"&&n){var f=De(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),Ty.has(f)||(Ty.add(f),e={rel:e,crossOrigin:s,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),en(n,"link",e),Ee(n),l.head.appendChild(n)))}}function jT(e){or.D(e),by("dns-prefetch",e,null)}function qT(e,n){or.C(e,n),by("preconnect",e,n)}function HT(e,n,s){or.L(e,n,s);var l=Da;if(l&&e&&n){var f='link[rel="preload"][as="'+De(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+De(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+De(s.imageSizes)+'"]')):f+='[href="'+De(e)+'"]';var h=f;switch(n){case"style":h=Ca(e);break;case"script":h=xa(e)}Xn.has(h)||(e=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Xn.set(h,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(Ql(h))||n==="script"&&l.querySelector(Kl(h))||(n=l.createElement("link"),en(n,"link",e),Ee(n),l.head.appendChild(n)))}}function GT(e,n){or.m(e,n);var s=Da;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+De(l)+'"][href="'+De(e)+'"]',h=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=xa(e)}if(!Xn.has(h)&&(e=E({rel:"modulepreload",href:e},n),Xn.set(h,e),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Kl(h)))return}l=s.createElement("link"),en(l,"link",e),Ee(l),s.head.appendChild(l)}}}function QT(e,n,s){or.S(e,n,s);var l=Da;if(l&&e){var f=pn(l).hoistableStyles,h=Ca(e);n=n||"default";var _=f.get(h);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Ql(h)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Xn.get(h))&&Gh(e,s);var C=_=l.createElement("link");Ee(C),en(C,"link",e),C._p=new Promise(function(B,Y){C.onload=B,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ju(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(h,_)}}}function KT(e,n){or.X(e,n);var s=Da;if(s&&e){var l=pn(s).hoistableScripts,f=xa(e),h=l.get(f);h||(h=s.querySelector(Kl(f)),h||(e=E({src:e,async:!0},n),(n=Xn.get(f))&&Qh(e,n),h=s.createElement("script"),Ee(h),en(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function FT(e,n){or.M(e,n);var s=Da;if(s&&e){var l=pn(s).hoistableScripts,f=xa(e),h=l.get(f);h||(h=s.querySelector(Kl(f)),h||(e=E({src:e,async:!0,type:"module"},n),(n=Xn.get(f))&&Qh(e,n),h=s.createElement("script"),Ee(h),en(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function Ay(e,n,s,l){var f=(f=mt.current)?ku(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ca(s.href),s=pn(f).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ca(s.href);var h=pn(f).hoistableStyles,_=h.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,_),(h=f.querySelector(Ql(e)))&&!h._p&&(_.instance=h,_.state.loading=5),Xn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xn.set(e,s),h||YT(f,e,s,_.state))),n&&l===null)throw Error(a(528,""));return _}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(s),s=pn(f).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ca(e){return'href="'+De(e)+'"'}function Ql(e){return'link[rel="stylesheet"]['+e+"]"}function Sy(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function YT(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),en(n,"link",s),Ee(n),e.head.appendChild(n))}function xa(e){return'[src="'+De(e)+'"]'}function Kl(e){return"script[async]"+e}function Ry(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+De(s.href)+'"]');if(l)return n.instance=l,Ee(l),l;var f=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),en(l,"style",f),ju(l,s.precedence,e),n.instance=l;case"stylesheet":f=Ca(s.href);var h=e.querySelector(Ql(f));if(h)return n.state.loading|=4,n.instance=h,Ee(h),h;l=Sy(s),(f=Xn.get(f))&&Gh(l,f),h=(e.ownerDocument||e).createElement("link"),Ee(h);var _=h;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),en(h,"link",l),n.state.loading|=4,ju(h,s.precedence,e),n.instance=h;case"script":return h=xa(s.src),(f=e.querySelector(Kl(h)))?(n.instance=f,Ee(f),f):(l=s,(f=Xn.get(h))&&(l=E({},s),Qh(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ee(f),en(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ju(l,s.precedence,e));return n.instance}function ju(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,h=f,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)h=T;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Gh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Qh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var qu=null;function wy(e,n,s){if(qu===null){var l=new Map,f=qu=new Map;f.set(s,l)}else f=qu,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var h=s[f];if(!(h[ni]||h[Wt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(n)||"";_=e+_;var T=l.get(_);T?T.push(h):l.set(_,[h])}}return l}function Dy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function XT(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Fl=null;function ZT(){}function $T(e,n,s){if(Fl===null)throw Error(a(475));var l=Fl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Ca(s.href),h=e.querySelector(Ql(f));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Hu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=h,Ee(h);return}h=e.ownerDocument||e,s=Sy(s),(f=Xn.get(f))&&Gh(s,f),h=h.createElement("link"),Ee(h);var _=h;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),en(h,"link",s),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Hu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function JT(){if(Fl===null)throw Error(a(475));var e=Fl;return e.stylesheets&&e.count===0&&Kh(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&Kh(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Hu(){if(this.count--,this.count===0){if(this.stylesheets)Kh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gu=null;function Kh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gu=new Map,n.forEach(WT,e),Gu=null,Hu.call(e))}function WT(e,n){if(!(n.state.loading&4)){var s=Gu.get(e);if(s)var l=s.get(null);else{s=new Map,Gu.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var _=f[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}f=n.instance,_=f.getAttribute("data-precedence"),h=s.get(_)||l,h===l&&s.set(null,f),s.set(_,f),this.count++,l=Hu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Yl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function tb(e,n,s,l,f,h,_,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function xy(e,n,s,l,f,h,_,T,C,B,Y,J){return e=new tb(e,n,s,_,T,C,B,J),n=1,h===!0&&(n|=24),h=xn(3,null,null,n),e.current=h,h.stateNode=e,n=Df(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:s,cache:n},If(h),e}function Ny(e){return e?(e=aa,e):aa}function Iy(e,n,s,l,f,h){f=Ny(f),l.context===null?l.context=f:l.pendingContext=f,l=br(n),l.payload={element:s},h=h===void 0?null:h,h!==null&&(l.callback=h),s=Ar(e,l,n),s!==null&&(Mn(s,e,n),Sl(s,e,n))}function Vy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Fh(e,n){Vy(e,n),(e=e.alternate)&&Vy(e,n)}function Oy(e){if(e.tag===13){var n=sa(e,67108864);n!==null&&Mn(n,e,67108864),Fh(e,67108864)}}var Qu=!0;function eb(e,n,s,l){var f=K.T;K.T=null;var h=rt.p;try{rt.p=2,Yh(e,n,s,l)}finally{rt.p=h,K.T=f}}function nb(e,n,s,l){var f=K.T;K.T=null;var h=rt.p;try{rt.p=8,Yh(e,n,s,l)}finally{rt.p=h,K.T=f}}function Yh(e,n,s,l){if(Qu){var f=Xh(l);if(f===null)Uh(e,n,l,Ku,s),Uy(e,l);else if(rb(f,e,n,s,l))l.stopPropagation();else if(Uy(e,l),n&4&&-1<ib.indexOf(e)){for(;f!==null;){var h=di(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=mn(h.pendingLanes);if(_!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-me(_);T.entanglements[1]|=C,_&=~C}Di(h),($t&6)===0&&(xu=dn()+500,jl(0))}}break;case 13:T=sa(h,2),T!==null&&Mn(T,h,2),Iu(),Fh(h,2)}if(h=Xh(l),h===null&&Uh(e,n,l,Ku,s),h===f)break;f=h}f!==null&&l.stopPropagation()}else Uh(e,n,l,null,s)}}function Xh(e){return e=kn(e),Zh(e)}var Ku=null;function Zh(e){if(Ku=null,e=ki(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ku=e,null}function My(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ks()){case Oi:return 2;case gn:return 8;case zn:case dr:return 32;case Mi:return 268435456;default:return 32}default:return 32}}var $h=!1,Lr=null,zr=null,Pr=null,Xl=new Map,Zl=new Map,Br=[],ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uy(e,n){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(n.pointerId)}}function $l(e,n,s,l,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[f]},n!==null&&(n=di(n),n!==null&&Oy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function rb(e,n,s,l,f){switch(n){case"focusin":return Lr=$l(Lr,e,n,s,l,f),!0;case"dragenter":return zr=$l(zr,e,n,s,l,f),!0;case"mouseover":return Pr=$l(Pr,e,n,s,l,f),!0;case"pointerover":var h=f.pointerId;return Xl.set(h,$l(Xl.get(h)||null,e,n,s,l,f)),!0;case"gotpointercapture":return h=f.pointerId,Zl.set(h,$l(Zl.get(h)||null,e,n,s,l,f)),!0}return!1}function Ly(e){var n=ki(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ti(e.priority,function(){if(s.tag===13){var l=On();l=_e(l);var f=sa(s,l);f!==null&&Mn(f,s,l),Fh(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Xh(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Gi=l,s.target.dispatchEvent(l),Gi=null}else return n=di(s),n!==null&&Oy(n),e.blockedOn=s,!1;n.shift()}return!0}function zy(e,n,s){Fu(e)&&s.delete(n)}function sb(){$h=!1,Lr!==null&&Fu(Lr)&&(Lr=null),zr!==null&&Fu(zr)&&(zr=null),Pr!==null&&Fu(Pr)&&(Pr=null),Xl.forEach(zy),Zl.forEach(zy)}function Yu(e,n){e.blockedOn===n&&(e.blockedOn=null,$h||($h=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sb)))}var Xu=null;function Py(e){Xu!==e&&(Xu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xu===e&&(Xu=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(Zh(l||s)===null)continue;break}var h=di(s);h!==null&&(e.splice(n,3),n-=3,Zf(h,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Jl(e){function n(C){return Yu(C,e)}Lr!==null&&Yu(Lr,e),zr!==null&&Yu(zr,e),Pr!==null&&Yu(Pr,e),Xl.forEach(n),Zl.forEach(n);for(var s=0;s<Br.length;s++){var l=Br[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Br.length&&(s=Br[0],s.blockedOn===null);)Ly(s),s.blockedOn===null&&Br.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],h=s[l+1],_=f[Gt]||null;if(typeof h=="function")_||Py(s);else if(_){var T=null;if(h&&h.hasAttribute("formAction")){if(f=h,_=h[Gt]||null)T=_.formAction;else if(Zh(f)!==null)continue}else T=_.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),Py(s)}}}function Jh(e){this._internalRoot=e}Zu.prototype.render=Jh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=On();Iy(s,l,e,n,null,null)},Zu.prototype.unmount=Jh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Iy(e.current,2,null,e,null,null),Iu(),n[pe]=null}};function Zu(e){this._internalRoot=e}Zu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ve();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Br.length&&n!==0&&n<Br[s].priority;s++);Br.splice(s,0,e),s===0&&Ly(e)}};var By=t.version;if(By!=="19.1.0")throw Error(a(527,By,"19.1.0"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var ab={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{le=$u.inject(ab),Ut=$u}catch{}}return to.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",f=ep,h=np,_=ip,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=xy(e,1,!1,null,null,s,l,f,h,_,T,null),e[pe]=n.current,Mh(e),new Jh(n)},to.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,f="",h=ep,_=np,T=ip,C=null,B=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(B=s.formState)),n=xy(e,1,!0,n,s??null,l,f,h,_,T,C,B),n.context=Ny(null),s=n.current,l=On(),l=_e(l),f=br(l),f.callback=null,Ar(s,f,l),s=l,n.current.lanes=s,se(n,s),Di(n),e[pe]=n.current,Mh(e),new Zu(n)},to.version="19.1.0",to}var Xy;function mb(){if(Xy)return ed.exports;Xy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ed.exports=gb(),ed.exports}var pb=mb();const yb=__(pb),nn=[];for(let r=0;r<256;++r)nn.push((r+256).toString(16).slice(1));function vb(r,t=0){return(nn[r[t+0]]+nn[r[t+1]]+nn[r[t+2]]+nn[r[t+3]]+"-"+nn[r[t+4]]+nn[r[t+5]]+"-"+nn[r[t+6]]+nn[r[t+7]]+"-"+nn[r[t+8]]+nn[r[t+9]]+"-"+nn[r[t+10]]+nn[r[t+11]]+nn[r[t+12]]+nn[r[t+13]]+nn[r[t+14]]+nn[r[t+15]]).toLowerCase()}let sd;const _b=new Uint8Array(16);function Eb(){if(!sd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sd=crypto.getRandomValues.bind(crypto)}return sd(_b)}const Tb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zy={randomUUID:Tb};function vd(r,t,i){var o;if(Zy.randomUUID&&!r)return Zy.randomUUID();r=r||{};const a=r.random??((o=r.rng)==null?void 0:o.call(r))??Eb();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,vb(a)}var eo=E_();function bb(){for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];return k.useMemo(()=>a=>{t.forEach(o=>o(a))},t)}const Uc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ka(r){const t=Object.prototype.toString.call(r);return t==="[object Window]"||t==="[object global]"}function Gd(r){return"nodeType"in r}function En(r){var t,i;return r?Ka(r)?r:Gd(r)&&(t=(i=r.ownerDocument)==null?void 0:i.defaultView)!=null?t:window:window}function Qd(r){const{Document:t}=En(r);return r instanceof t}function Ro(r){return Ka(r)?!1:r instanceof En(r).HTMLElement}function T_(r){return r instanceof En(r).SVGElement}function Fa(r){return r?Ka(r)?r.document:Gd(r)?Qd(r)?r:Ro(r)||T_(r)?r.ownerDocument:document:document:document}const ui=Uc?k.useLayoutEffect:k.useEffect;function Lc(r){const t=k.useRef(r);return ui(()=>{t.current=r}),k.useCallback(function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t.current==null?void 0:t.current(...a)},[])}function Ab(){const r=k.useRef(null),t=k.useCallback((a,o)=>{r.current=setInterval(a,o)},[]),i=k.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[t,i]}function go(r,t){t===void 0&&(t=[r]);const i=k.useRef(r);return ui(()=>{i.current!==r&&(i.current=r)},t),i}function wo(r,t){const i=k.useRef();return k.useMemo(()=>{const a=r(i.current);return i.current=a,a},[...t])}function fc(r){const t=Lc(r),i=k.useRef(null),a=k.useCallback(o=>{o!==i.current&&(t==null||t(o,i.current)),i.current=o},[]);return[i,a]}function hc(r){const t=k.useRef();return k.useEffect(()=>{t.current=r},[r]),t.current}let ad={};function Do(r,t){return k.useMemo(()=>{if(t)return t;const i=ad[r]==null?0:ad[r]+1;return ad[r]=i,r+"-"+i},[r,t])}function b_(r){return function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return a.reduce((c,d)=>{const g=Object.entries(d);for(const[p,y]of g){const E=c[p];E!=null&&(c[p]=E+r*y)}return c},{...t})}}const Ma=b_(1),dc=b_(-1);function Sb(r){return"clientX"in r&&"clientY"in r}function zc(r){if(!r)return!1;const{KeyboardEvent:t}=En(r.target);return t&&r instanceof t}function Rb(r){if(!r)return!1;const{TouchEvent:t}=En(r.target);return t&&r instanceof t}function gc(r){if(Rb(r)){if(r.touches&&r.touches.length){const{clientX:t,clientY:i}=r.touches[0];return{x:t,y:i}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:t,clientY:i}=r.changedTouches[0];return{x:t,y:i}}}return Sb(r)?{x:r.clientX,y:r.clientY}:null}const Fr=Object.freeze({Translate:{toString(r){if(!r)return;const{x:t,y:i}=r;return"translate3d("+(t?Math.round(t):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:t,scaleY:i}=r;return"scaleX("+t+") scaleY("+i+")"}},Transform:{toString(r){if(r)return[Fr.Translate.toString(r),Fr.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:t,duration:i,easing:a}=r;return t+" "+i+"ms "+a}}}),$y="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function wb(r){return r.matches($y)?r:r.querySelector($y)}const Db={display:"none"};function Cb(r){let{id:t,value:i}=r;return ce.createElement("div",{id:t,style:Db},i)}function xb(r){let{id:t,announcement:i,ariaLiveType:a="assertive"}=r;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ce.createElement("div",{id:t,style:o,role:"status","aria-live":a,"aria-atomic":!0},i)}function Nb(){const[r,t]=k.useState("");return{announce:k.useCallback(a=>{a!=null&&t(a)},[]),announcement:r}}const A_=k.createContext(null);function Ib(r){const t=k.useContext(A_);k.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(r)},[r,t])}function Vb(){const[r]=k.useState(()=>new Set),t=k.useCallback(a=>(r.add(a),()=>r.delete(a)),[r]);return[k.useCallback(a=>{let{type:o,event:c}=a;r.forEach(d=>{var g;return(g=d[o])==null?void 0:g.call(d,c)})},[r]),t]}const Ob={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Mb={onDragStart(r){let{active:t}=r;return"Picked up draggable item "+t.id+"."},onDragOver(r){let{active:t,over:i}=r;return i?"Draggable item "+t.id+" was moved over droppable area "+i.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(r){let{active:t,over:i}=r;return i?"Draggable item "+t.id+" was dropped over droppable area "+i.id:"Draggable item "+t.id+" was dropped."},onDragCancel(r){let{active:t}=r;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Ub(r){let{announcements:t=Mb,container:i,hiddenTextDescribedById:a,screenReaderInstructions:o=Ob}=r;const{announce:c,announcement:d}=Nb(),g=Do("DndLiveRegion"),[p,y]=k.useState(!1);if(k.useEffect(()=>{y(!0)},[]),Ib(k.useMemo(()=>({onDragStart(S){let{active:V}=S;c(t.onDragStart({active:V}))},onDragMove(S){let{active:V,over:U}=S;t.onDragMove&&c(t.onDragMove({active:V,over:U}))},onDragOver(S){let{active:V,over:U}=S;c(t.onDragOver({active:V,over:U}))},onDragEnd(S){let{active:V,over:U}=S;c(t.onDragEnd({active:V,over:U}))},onDragCancel(S){let{active:V,over:U}=S;c(t.onDragCancel({active:V,over:U}))}}),[c,t])),!p)return null;const E=ce.createElement(ce.Fragment,null,ce.createElement(Cb,{id:a,value:o.draggable}),ce.createElement(xb,{id:g,announcement:d}));return i?eo.createPortal(E,i):E}var ze;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(ze||(ze={}));function mc(){}function pc(r,t){return k.useMemo(()=>({sensor:r,options:t??{}}),[r,t])}function S_(){for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];return k.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const ci=Object.freeze({x:0,y:0});function Lb(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function zb(r,t){const i=gc(r);if(!i)return"0 0";const a={x:(i.x-t.left)/t.width*100,y:(i.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function Pb(r,t){let{data:{value:i}}=r,{data:{value:a}}=t;return i-a}function Bb(r,t){let{data:{value:i}}=r,{data:{value:a}}=t;return a-i}function kb(r,t){if(!r||r.length===0)return null;const[i]=r;return i[t]}function Jy(r,t,i){return t===void 0&&(t=r.left),i===void 0&&(i=r.top),{x:t+r.width*.5,y:i+r.height*.5}}const R_=r=>{let{collisionRect:t,droppableRects:i,droppableContainers:a}=r;const o=Jy(t,t.left,t.top),c=[];for(const d of a){const{id:g}=d,p=i.get(g);if(p){const y=Lb(Jy(p),o);c.push({id:g,data:{droppableContainer:d,value:y}})}}return c.sort(Pb)};function jb(r,t){const i=Math.max(t.top,r.top),a=Math.max(t.left,r.left),o=Math.min(t.left+t.width,r.left+r.width),c=Math.min(t.top+t.height,r.top+r.height),d=o-a,g=c-i;if(a<o&&i<c){const p=t.width*t.height,y=r.width*r.height,E=d*g,S=E/(p+y-E);return Number(S.toFixed(4))}return 0}const qb=r=>{let{collisionRect:t,droppableRects:i,droppableContainers:a}=r;const o=[];for(const c of a){const{id:d}=c,g=i.get(d);if(g){const p=jb(g,t);p>0&&o.push({id:d,data:{droppableContainer:c,value:p}})}}return o.sort(Bb)};function Hb(r,t,i){return{...r,scaleX:t&&i?t.width/i.width:1,scaleY:t&&i?t.height/i.height:1}}function w_(r,t){return r&&t?{x:r.left-t.left,y:r.top-t.top}:ci}function Gb(r){return function(i){for(var a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];return o.reduce((d,g)=>({...d,top:d.top+r*g.y,bottom:d.bottom+r*g.y,left:d.left+r*g.x,right:d.right+r*g.x}),{...i})}}const Qb=Gb(1);function D_(r){if(r.startsWith("matrix3d(")){const t=r.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(r.startsWith("matrix(")){const t=r.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Kb(r,t,i){const a=D_(t);if(!a)return r;const{scaleX:o,scaleY:c,x:d,y:g}=a,p=r.left-d-(1-o)*parseFloat(i),y=r.top-g-(1-c)*parseFloat(i.slice(i.indexOf(" ")+1)),E=o?r.width/o:r.width,S=c?r.height/c:r.height;return{width:E,height:S,top:y,right:p+E,bottom:y+S,left:p}}const Fb={ignoreTransform:!1};function Ya(r,t){t===void 0&&(t=Fb);let i=r.getBoundingClientRect();if(t.ignoreTransform){const{transform:y,transformOrigin:E}=En(r).getComputedStyle(r);y&&(i=Kb(i,y,E))}const{top:a,left:o,width:c,height:d,bottom:g,right:p}=i;return{top:a,left:o,width:c,height:d,bottom:g,right:p}}function Wy(r){return Ya(r,{ignoreTransform:!0})}function Yb(r){const t=r.innerWidth,i=r.innerHeight;return{top:0,left:0,right:t,bottom:i,width:t,height:i}}function Xb(r,t){return t===void 0&&(t=En(r).getComputedStyle(r)),t.position==="fixed"}function Zb(r,t){t===void 0&&(t=En(r).getComputedStyle(r));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const c=t[o];return typeof c=="string"?i.test(c):!1})}function Kd(r,t){const i=[];function a(o){if(t!=null&&i.length>=t||!o)return i;if(Qd(o)&&o.scrollingElement!=null&&!i.includes(o.scrollingElement))return i.push(o.scrollingElement),i;if(!Ro(o)||T_(o)||i.includes(o))return i;const c=En(r).getComputedStyle(o);return o!==r&&Zb(o,c)&&i.push(o),Xb(o,c)?i:a(o.parentNode)}return r?a(r):i}function C_(r){const[t]=Kd(r,1);return t??null}function ld(r){return!Uc||!r?null:Ka(r)?r:Gd(r)?Qd(r)||r===Fa(r).scrollingElement?window:Ro(r)?r:null:null}function x_(r){return Ka(r)?r.scrollX:r.scrollLeft}function N_(r){return Ka(r)?r.scrollY:r.scrollTop}function _d(r){return{x:x_(r),y:N_(r)}}var Ye;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(Ye||(Ye={}));function I_(r){return!Uc||!r?!1:r===document.scrollingElement}function V_(r){const t={x:0,y:0},i=I_(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},a={x:r.scrollWidth-i.width,y:r.scrollHeight-i.height},o=r.scrollTop<=t.y,c=r.scrollLeft<=t.x,d=r.scrollTop>=a.y,g=r.scrollLeft>=a.x;return{isTop:o,isLeft:c,isBottom:d,isRight:g,maxScroll:a,minScroll:t}}const $b={x:.2,y:.2};function Jb(r,t,i,a,o){let{top:c,left:d,right:g,bottom:p}=i;a===void 0&&(a=10),o===void 0&&(o=$b);const{isTop:y,isBottom:E,isLeft:S,isRight:V}=V_(r),U={x:0,y:0},X={x:0,y:0},F={height:t.height*o.y,width:t.width*o.x};return!y&&c<=t.top+F.height?(U.y=Ye.Backward,X.y=a*Math.abs((t.top+F.height-c)/F.height)):!E&&p>=t.bottom-F.height&&(U.y=Ye.Forward,X.y=a*Math.abs((t.bottom-F.height-p)/F.height)),!V&&g>=t.right-F.width?(U.x=Ye.Forward,X.x=a*Math.abs((t.right-F.width-g)/F.width)):!S&&d<=t.left+F.width&&(U.x=Ye.Backward,X.x=a*Math.abs((t.left+F.width-d)/F.width)),{direction:U,speed:X}}function Wb(r){if(r===document.scrollingElement){const{innerWidth:c,innerHeight:d}=window;return{top:0,left:0,right:c,bottom:d,width:c,height:d}}const{top:t,left:i,right:a,bottom:o}=r.getBoundingClientRect();return{top:t,left:i,right:a,bottom:o,width:r.clientWidth,height:r.clientHeight}}function O_(r){return r.reduce((t,i)=>Ma(t,_d(i)),ci)}function tA(r){return r.reduce((t,i)=>t+x_(i),0)}function eA(r){return r.reduce((t,i)=>t+N_(i),0)}function M_(r,t){if(t===void 0&&(t=Ya),!r)return;const{top:i,left:a,bottom:o,right:c}=t(r);C_(r)&&(o<=0||c<=0||i>=window.innerHeight||a>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const nA=[["x",["left","right"],tA],["y",["top","bottom"],eA]];class Fd{constructor(t,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Kd(i),o=O_(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[c,d,g]of nA)for(const p of d)Object.defineProperty(this,p,{get:()=>{const y=g(a),E=o[c]-y;return this.rect[p]+E},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ao{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...i)})},this.target=t}add(t,i,a){var o;(o=this.target)==null||o.addEventListener(t,i,a),this.listeners.push([t,i,a])}}function iA(r){const{EventTarget:t}=En(r);return r instanceof t?r:Fa(r)}function od(r,t){const i=Math.abs(r.x),a=Math.abs(r.y);return typeof t=="number"?Math.sqrt(i**2+a**2)>t:"x"in t&&"y"in t?i>t.x&&a>t.y:"x"in t?i>t.x:"y"in t?a>t.y:!1}var Zn;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(Zn||(Zn={}));function tv(r){r.preventDefault()}function rA(r){r.stopPropagation()}var Kt;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Kt||(Kt={}));const U_={start:[Kt.Space,Kt.Enter],cancel:[Kt.Esc],end:[Kt.Space,Kt.Enter,Kt.Tab]},sA=(r,t)=>{let{currentCoordinates:i}=t;switch(r.code){case Kt.Right:return{...i,x:i.x+25};case Kt.Left:return{...i,x:i.x-25};case Kt.Down:return{...i,y:i.y+25};case Kt.Up:return{...i,y:i.y-25}}};class L_{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:i}}=t;this.props=t,this.listeners=new ao(Fa(i)),this.windowListeners=new ao(En(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Zn.Resize,this.handleCancel),this.windowListeners.add(Zn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Zn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:i}=this.props,a=t.node.current;a&&M_(a),i(ci)}handleKeyDown(t){if(zc(t)){const{active:i,context:a,options:o}=this.props,{keyboardCodes:c=U_,coordinateGetter:d=sA,scrollBehavior:g="smooth"}=o,{code:p}=t;if(c.end.includes(p)){this.handleEnd(t);return}if(c.cancel.includes(p)){this.handleCancel(t);return}const{collisionRect:y}=a.current,E=y?{x:y.left,y:y.top}:ci;this.referenceCoordinates||(this.referenceCoordinates=E);const S=d(t,{active:i,context:a.current,currentCoordinates:E});if(S){const V=dc(S,E),U={x:0,y:0},{scrollableAncestors:X}=a.current;for(const F of X){const H=t.code,{isTop:ot,isRight:ct,isLeft:Q,isBottom:ut,maxScroll:nt,minScroll:tt}=V_(F),w=Wb(F),A={x:Math.min(H===Kt.Right?w.right-w.width/2:w.right,Math.max(H===Kt.Right?w.left:w.left+w.width/2,S.x)),y:Math.min(H===Kt.Down?w.bottom-w.height/2:w.bottom,Math.max(H===Kt.Down?w.top:w.top+w.height/2,S.y))},R=H===Kt.Right&&!ct||H===Kt.Left&&!Q,N=H===Kt.Down&&!ut||H===Kt.Up&&!ot;if(R&&A.x!==S.x){const x=F.scrollLeft+V.x,M=H===Kt.Right&&x<=nt.x||H===Kt.Left&&x>=tt.x;if(M&&!V.y){F.scrollTo({left:x,behavior:g});return}M?U.x=F.scrollLeft-x:U.x=H===Kt.Right?F.scrollLeft-nt.x:F.scrollLeft-tt.x,U.x&&F.scrollBy({left:-U.x,behavior:g});break}else if(N&&A.y!==S.y){const x=F.scrollTop+V.y,M=H===Kt.Down&&x<=nt.y||H===Kt.Up&&x>=tt.y;if(M&&!V.x){F.scrollTo({top:x,behavior:g});return}M?U.y=F.scrollTop-x:U.y=H===Kt.Down?F.scrollTop-nt.y:F.scrollTop-tt.y,U.y&&F.scrollBy({top:-U.y,behavior:g});break}}this.handleMove(t,Ma(dc(S,this.referenceCoordinates),U))}}}handleMove(t,i){const{onMove:a}=this.props;t.preventDefault(),a(i)}handleEnd(t){const{onEnd:i}=this.props;t.preventDefault(),this.detach(),i()}handleCancel(t){const{onCancel:i}=this.props;t.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}L_.activators=[{eventName:"onKeyDown",handler:(r,t,i)=>{let{keyboardCodes:a=U_,onActivation:o}=t,{active:c}=i;const{code:d}=r.nativeEvent;if(a.start.includes(d)){const g=c.activatorNode.current;return g&&r.target!==g?!1:(r.preventDefault(),o==null||o({event:r.nativeEvent}),!0)}return!1}}];function ev(r){return!!(r&&"distance"in r)}function nv(r){return!!(r&&"delay"in r)}class Yd{constructor(t,i,a){var o;a===void 0&&(a=iA(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=i;const{event:c}=t,{target:d}=c;this.props=t,this.events=i,this.document=Fa(d),this.documentListeners=new ao(this.document),this.listeners=new ao(a),this.windowListeners=new ao(En(d)),this.initialCoordinates=(o=gc(c))!=null?o:ci,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:i,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Zn.Resize,this.handleCancel),this.windowListeners.add(Zn.DragStart,tv),this.windowListeners.add(Zn.VisibilityChange,this.handleCancel),this.windowListeners.add(Zn.ContextMenu,tv),this.documentListeners.add(Zn.Keydown,this.handleKeydown),i){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(nv(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(ev(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,i){const{active:a,onPending:o}=this.props;o(a,t,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:t}=this,{onStart:i}=this.props;t&&(this.activated=!0,this.documentListeners.add(Zn.Click,rA,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Zn.SelectionChange,this.removeTextSelection),i(t))}handleMove(t){var i;const{activated:a,initialCoordinates:o,props:c}=this,{onMove:d,options:{activationConstraint:g}}=c;if(!o)return;const p=(i=gc(t))!=null?i:ci,y=dc(o,p);if(!a&&g){if(ev(g)){if(g.tolerance!=null&&od(y,g.tolerance))return this.handleCancel();if(od(y,g.distance))return this.handleStart()}if(nv(g)&&od(y,g.tolerance))return this.handleCancel();this.handlePending(g,y);return}t.cancelable&&t.preventDefault(),d(p)}handleEnd(){const{onAbort:t,onEnd:i}=this.props;this.detach(),this.activated||t(this.props.active),i()}handleCancel(){const{onAbort:t,onCancel:i}=this.props;this.detach(),this.activated||t(this.props.active),i()}handleKeydown(t){t.code===Kt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const aA={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Pc extends Yd{constructor(t){const{event:i}=t,a=Fa(i.target);super(t,aA,a)}}Pc.activators=[{eventName:"onPointerDown",handler:(r,t)=>{let{nativeEvent:i}=r,{onActivation:a}=t;return!i.isPrimary||i.button!==0?!1:(a==null||a({event:i}),!0)}}];const lA={move:{name:"mousemove"},end:{name:"mouseup"}};var Ed;(function(r){r[r.RightClick=2]="RightClick"})(Ed||(Ed={}));class oA extends Yd{constructor(t){super(t,lA,Fa(t.event.target))}}oA.activators=[{eventName:"onMouseDown",handler:(r,t)=>{let{nativeEvent:i}=r,{onActivation:a}=t;return i.button===Ed.RightClick?!1:(a==null||a({event:i}),!0)}}];const ud={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Xd extends Yd{constructor(t){super(t,ud)}static setup(){return window.addEventListener(ud.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ud.move.name,t)};function t(){}}}Xd.activators=[{eventName:"onTouchStart",handler:(r,t)=>{let{nativeEvent:i}=r,{onActivation:a}=t;const{touches:o}=i;return o.length>1?!1:(a==null||a({event:i}),!0)}}];var lo;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(lo||(lo={}));var yc;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(yc||(yc={}));function uA(r){let{acceleration:t,activator:i=lo.Pointer,canScroll:a,draggingRect:o,enabled:c,interval:d=5,order:g=yc.TreeOrder,pointerCoordinates:p,scrollableAncestors:y,scrollableAncestorRects:E,delta:S,threshold:V}=r;const U=fA({delta:S,disabled:!c}),[X,F]=Ab(),H=k.useRef({x:0,y:0}),ot=k.useRef({x:0,y:0}),ct=k.useMemo(()=>{switch(i){case lo.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case lo.DraggableRect:return o}},[i,o,p]),Q=k.useRef(null),ut=k.useCallback(()=>{const tt=Q.current;if(!tt)return;const w=H.current.x*ot.current.x,A=H.current.y*ot.current.y;tt.scrollBy(w,A)},[]),nt=k.useMemo(()=>g===yc.TreeOrder?[...y].reverse():y,[g,y]);k.useEffect(()=>{if(!c||!y.length||!ct){F();return}for(const tt of nt){if((a==null?void 0:a(tt))===!1)continue;const w=y.indexOf(tt),A=E[w];if(!A)continue;const{direction:R,speed:N}=Jb(tt,A,ct,t,V);for(const x of["x","y"])U[x][R[x]]||(N[x]=0,R[x]=0);if(N.x>0||N.y>0){F(),Q.current=tt,X(ut,d),H.current=N,ot.current=R;return}}H.current={x:0,y:0},ot.current={x:0,y:0},F()},[t,ut,a,F,c,d,JSON.stringify(ct),JSON.stringify(U),X,y,nt,E,JSON.stringify(V)])}const cA={x:{[Ye.Backward]:!1,[Ye.Forward]:!1},y:{[Ye.Backward]:!1,[Ye.Forward]:!1}};function fA(r){let{delta:t,disabled:i}=r;const a=hc(t);return wo(o=>{if(i||!a||!o)return cA;const c={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[Ye.Backward]:o.x[Ye.Backward]||c.x===-1,[Ye.Forward]:o.x[Ye.Forward]||c.x===1},y:{[Ye.Backward]:o.y[Ye.Backward]||c.y===-1,[Ye.Forward]:o.y[Ye.Forward]||c.y===1}}},[i,t,a])}function hA(r,t){const i=t!=null?r.get(t):void 0,a=i?i.node.current:null;return wo(o=>{var c;return t==null?null:(c=a??o)!=null?c:null},[a,t])}function dA(r,t){return k.useMemo(()=>r.reduce((i,a)=>{const{sensor:o}=a,c=o.activators.map(d=>({eventName:d.eventName,handler:t(d.handler,a)}));return[...i,...c]},[]),[r,t])}var mo;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(mo||(mo={}));var Td;(function(r){r.Optimized="optimized"})(Td||(Td={}));const iv=new Map;function gA(r,t){let{dragging:i,dependencies:a,config:o}=t;const[c,d]=k.useState(null),{frequency:g,measure:p,strategy:y}=o,E=k.useRef(r),S=H(),V=go(S),U=k.useCallback(function(ot){ot===void 0&&(ot=[]),!V.current&&d(ct=>ct===null?ot:ct.concat(ot.filter(Q=>!ct.includes(Q))))},[V]),X=k.useRef(null),F=wo(ot=>{if(S&&!i)return iv;if(!ot||ot===iv||E.current!==r||c!=null){const ct=new Map;for(let Q of r){if(!Q)continue;if(c&&c.length>0&&!c.includes(Q.id)&&Q.rect.current){ct.set(Q.id,Q.rect.current);continue}const ut=Q.node.current,nt=ut?new Fd(p(ut),ut):null;Q.rect.current=nt,nt&&ct.set(Q.id,nt)}return ct}return ot},[r,c,i,S,p]);return k.useEffect(()=>{E.current=r},[r]),k.useEffect(()=>{S||U()},[i,S]),k.useEffect(()=>{c&&c.length>0&&d(null)},[JSON.stringify(c)]),k.useEffect(()=>{S||typeof g!="number"||X.current!==null||(X.current=setTimeout(()=>{U(),X.current=null},g))},[g,S,U,...a]),{droppableRects:F,measureDroppableContainers:U,measuringScheduled:c!=null};function H(){switch(y){case mo.Always:return!1;case mo.BeforeDragging:return i;default:return!i}}}function Zd(r,t){return wo(i=>r?i||(typeof t=="function"?t(r):r):null,[t,r])}function mA(r,t){return Zd(r,t)}function pA(r){let{callback:t,disabled:i}=r;const a=Lc(t),o=k.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(a)},[a,i]);return k.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Bc(r){let{callback:t,disabled:i}=r;const a=Lc(t),o=k.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(a)},[i]);return k.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function yA(r){return new Fd(Ya(r),r)}function rv(r,t,i){t===void 0&&(t=yA);const[a,o]=k.useState(null);function c(){o(p=>{if(!r)return null;if(r.isConnected===!1){var y;return(y=p??i)!=null?y:null}const E=t(r);return JSON.stringify(p)===JSON.stringify(E)?p:E})}const d=pA({callback(p){if(r)for(const y of p){const{type:E,target:S}=y;if(E==="childList"&&S instanceof HTMLElement&&S.contains(r)){c();break}}}}),g=Bc({callback:c});return ui(()=>{c(),r?(g==null||g.observe(r),d==null||d.observe(document.body,{childList:!0,subtree:!0})):(g==null||g.disconnect(),d==null||d.disconnect())},[r]),a}function vA(r){const t=Zd(r);return w_(r,t)}const sv=[];function _A(r){const t=k.useRef(r),i=wo(a=>r?a&&a!==sv&&r&&t.current&&r.parentNode===t.current.parentNode?a:Kd(r):sv,[r]);return k.useEffect(()=>{t.current=r},[r]),i}function EA(r){const[t,i]=k.useState(null),a=k.useRef(r),o=k.useCallback(c=>{const d=ld(c.target);d&&i(g=>g?(g.set(d,_d(d)),new Map(g)):null)},[]);return k.useEffect(()=>{const c=a.current;if(r!==c){d(c);const g=r.map(p=>{const y=ld(p);return y?(y.addEventListener("scroll",o,{passive:!0}),[y,_d(y)]):null}).filter(p=>p!=null);i(g.length?new Map(g):null),a.current=r}return()=>{d(r),d(c)};function d(g){g.forEach(p=>{const y=ld(p);y==null||y.removeEventListener("scroll",o)})}},[o,r]),k.useMemo(()=>r.length?t?Array.from(t.values()).reduce((c,d)=>Ma(c,d),ci):O_(r):ci,[r,t])}function av(r,t){t===void 0&&(t=[]);const i=k.useRef(null);return k.useEffect(()=>{i.current=null},t),k.useEffect(()=>{const a=r!==ci;a&&!i.current&&(i.current=r),!a&&i.current&&(i.current=null)},[r]),i.current?dc(r,i.current):ci}function TA(r){k.useEffect(()=>{if(!Uc)return;const t=r.map(i=>{let{sensor:a}=i;return a.setup==null?void 0:a.setup()});return()=>{for(const i of t)i==null||i()}},r.map(t=>{let{sensor:i}=t;return i}))}function bA(r,t){return k.useMemo(()=>r.reduce((i,a)=>{let{eventName:o,handler:c}=a;return i[o]=d=>{c(d,t)},i},{}),[r,t])}function z_(r){return k.useMemo(()=>r?Yb(r):null,[r])}const lv=[];function AA(r,t){t===void 0&&(t=Ya);const[i]=r,a=z_(i?En(i):null),[o,c]=k.useState(lv);function d(){c(()=>r.length?r.map(p=>I_(p)?a:new Fd(t(p),p)):lv)}const g=Bc({callback:d});return ui(()=>{g==null||g.disconnect(),d(),r.forEach(p=>g==null?void 0:g.observe(p))},[r]),o}function P_(r){if(!r)return null;if(r.children.length>1)return r;const t=r.children[0];return Ro(t)?t:r}function SA(r){let{measure:t}=r;const[i,a]=k.useState(null),o=k.useCallback(y=>{for(const{target:E}of y)if(Ro(E)){a(S=>{const V=t(E);return S?{...S,width:V.width,height:V.height}:V});break}},[t]),c=Bc({callback:o}),d=k.useCallback(y=>{const E=P_(y);c==null||c.disconnect(),E&&(c==null||c.observe(E)),a(E?t(E):null)},[t,c]),[g,p]=fc(d);return k.useMemo(()=>({nodeRef:g,rect:i,setRef:p}),[i,g,p])}const RA=[{sensor:Pc,options:{}},{sensor:L_,options:{}}],wA={current:{}},rc={draggable:{measure:Wy},droppable:{measure:Wy,strategy:mo.WhileDragging,frequency:Td.Optimized},dragOverlay:{measure:Ya}};class oo extends Map{get(t){var i;return t!=null&&(i=super.get(t))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:i}=t;return!i})}getNodeFor(t){var i,a;return(i=(a=this.get(t))==null?void 0:a.node.current)!=null?i:void 0}}const DA={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new oo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:mc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rc,measureDroppableContainers:mc,windowRect:null,measuringScheduled:!1},B_={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:mc,draggableNodes:new Map,over:null,measureDroppableContainers:mc},Co=k.createContext(B_),k_=k.createContext(DA);function CA(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new oo}}}function xA(r,t){switch(t.type){case ze.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ze.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:t.coordinates.x-r.draggable.initialCoordinates.x,y:t.coordinates.y-r.draggable.initialCoordinates.y}}};case ze.DragEnd:case ze.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ze.RegisterDroppable:{const{element:i}=t,{id:a}=i,o=new oo(r.droppable.containers);return o.set(a,i),{...r,droppable:{...r.droppable,containers:o}}}case ze.SetDroppableDisabled:{const{id:i,key:a,disabled:o}=t,c=r.droppable.containers.get(i);if(!c||a!==c.key)return r;const d=new oo(r.droppable.containers);return d.set(i,{...c,disabled:o}),{...r,droppable:{...r.droppable,containers:d}}}case ze.UnregisterDroppable:{const{id:i,key:a}=t,o=r.droppable.containers.get(i);if(!o||a!==o.key)return r;const c=new oo(r.droppable.containers);return c.delete(i),{...r,droppable:{...r.droppable,containers:c}}}default:return r}}function NA(r){let{disabled:t}=r;const{active:i,activatorEvent:a,draggableNodes:o}=k.useContext(Co),c=hc(a),d=hc(i==null?void 0:i.id);return k.useEffect(()=>{if(!t&&!a&&c&&d!=null){if(!zc(c)||document.activeElement===c.target)return;const g=o.get(d);if(!g)return;const{activatorNode:p,node:y}=g;if(!p.current&&!y.current)return;requestAnimationFrame(()=>{for(const E of[p.current,y.current]){if(!E)continue;const S=wb(E);if(S){S.focus();break}}})}},[a,t,o,d,c]),null}function j_(r,t){let{transform:i,...a}=t;return r!=null&&r.length?r.reduce((o,c)=>c({transform:o,...a}),i):i}function IA(r){return k.useMemo(()=>({draggable:{...rc.draggable,...r==null?void 0:r.draggable},droppable:{...rc.droppable,...r==null?void 0:r.droppable},dragOverlay:{...rc.dragOverlay,...r==null?void 0:r.dragOverlay}}),[r==null?void 0:r.draggable,r==null?void 0:r.droppable,r==null?void 0:r.dragOverlay])}function VA(r){let{activeNode:t,measure:i,initialRect:a,config:o=!0}=r;const c=k.useRef(!1),{x:d,y:g}=typeof o=="boolean"?{x:o,y:o}:o;ui(()=>{if(!d&&!g||!t){c.current=!1;return}if(c.current||!a)return;const y=t==null?void 0:t.node.current;if(!y||y.isConnected===!1)return;const E=i(y),S=w_(E,a);if(d||(S.x=0),g||(S.y=0),c.current=!0,Math.abs(S.x)>0||Math.abs(S.y)>0){const V=C_(y);V&&V.scrollBy({top:S.y,left:S.x})}},[t,d,g,a,i])}const kc=k.createContext({...ci,scaleX:1,scaleY:1});var jr;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(jr||(jr={}));const q_=k.memo(function(t){var i,a,o,c;let{id:d,accessibility:g,autoScroll:p=!0,children:y,sensors:E=RA,collisionDetection:S=qb,measuring:V,modifiers:U,...X}=t;const F=k.useReducer(xA,void 0,CA),[H,ot]=F,[ct,Q]=Vb(),[ut,nt]=k.useState(jr.Uninitialized),tt=ut===jr.Initialized,{draggable:{active:w,nodes:A,translate:R},droppable:{containers:N}}=H,x=w!=null?A.get(w):null,M=k.useRef({initial:null,translated:null}),D=k.useMemo(()=>{var se;return w!=null?{id:w,data:(se=x==null?void 0:x.data)!=null?se:wA,rect:M}:null},[w,x]),Ft=k.useRef(null),[Yt,K]=k.useState(null),[rt,st]=k.useState(null),pt=go(X,Object.values(X)),I=Do("DndDescribedBy",d),$=k.useMemo(()=>N.getEnabled(),[N]),at=IA(V),{droppableRects:et,measureDroppableContainers:gt,measuringScheduled:Rt}=gA($,{dragging:tt,dependencies:[R.x,R.y],config:at.droppable}),mt=hA(A,w),he=k.useMemo(()=>rt?gc(rt):null,[rt]),zt=Wn(),Se=mA(mt,at.draggable.measure);VA({activeNode:w!=null?A.get(w):null,config:zt.layoutShiftCompensation,initialRect:Se,measure:at.draggable.measure});const Vt=rv(mt,at.draggable.measure,Se),hn=rv(mt?mt.parentElement:null),je=k.useRef({activatorEvent:null,active:null,activeNode:mt,collisionRect:null,collisions:null,droppableRects:et,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Tn=N.getNodeFor((i=je.current.over)==null?void 0:i.id),Xe=SA({measure:at.dragOverlay.measure}),Ln=(a=Xe.nodeRef.current)!=null?a:mt,Jn=tt?(o=Xe.rect)!=null?o:Vt:null,dn=!!(Xe.nodeRef.current&&Xe.rect),ks=vA(dn?null:Vt),Oi=z_(Ln?En(Ln):null),gn=_A(tt?Tn??mt:null),zn=AA(gn),dr=j_(U,{transform:{x:R.x-ks.x,y:R.y-ks.y,scaleX:1,scaleY:1},activatorEvent:rt,active:D,activeNodeRect:Vt,containerNodeRect:hn,draggingNodeRect:Jn,over:je.current.over,overlayNodeRect:Xe.rect,scrollableAncestors:gn,scrollableAncestorRects:zn,windowRect:Oi}),Mi=he?Ma(he,R):null,gr=EA(gn),js=av(gr),le=av(gr,[Vt]),Ut=Ma(dr,js),Re=Jn?Qb(Jn,dr):null,me=D&&Re?S({active:D,collisionRect:Re,droppableRects:et,droppableContainers:$,pointerCoordinates:Mi}):null,ts=kb(me,"id"),[Pn,fi]=k.useState(null),Ui=dn?dr:Ma(dr,le),Li=Hb(Ui,(c=Pn==null?void 0:Pn.rect)!=null?c:null,Vt),mn=k.useRef(null),zi=k.useCallback((se,Ie)=>{let{sensor:oe,options:bn}=Ie;if(Ft.current==null)return;const _e=A.get(Ft.current);if(!_e)return;const we=se.nativeEvent,Ve=new oe({active:Ft.current,activeNode:_e,event:we,options:bn,context:je,onAbort(Dt){if(!A.get(Dt))return;const{onDragAbort:Gt}=pt.current,pe={id:Dt};Gt==null||Gt(pe),ct({type:"onDragAbort",event:pe})},onPending(Dt,Wt,Gt,pe){if(!A.get(Dt))return;const{onDragPending:Bi}=pt.current,Ze={id:Dt,constraint:Wt,initialCoordinates:Gt,offset:pe};Bi==null||Bi(Ze),ct({type:"onDragPending",event:Ze})},onStart(Dt){const Wt=Ft.current;if(Wt==null)return;const Gt=A.get(Wt);if(!Gt)return;const{onDragStart:pe}=pt.current,ei={activatorEvent:we,active:{id:Wt,data:Gt.data,rect:M}};eo.unstable_batchedUpdates(()=>{pe==null||pe(ei),nt(jr.Initializing),ot({type:ze.DragStart,initialCoordinates:Dt,active:Wt}),ct({type:"onDragStart",event:ei}),K(mn.current),st(we)})},onMove(Dt){ot({type:ze.DragMove,coordinates:Dt})},onEnd:ti(ze.DragEnd),onCancel:ti(ze.DragCancel)});mn.current=Ve;function ti(Dt){return async function(){const{active:Gt,collisions:pe,over:ei,scrollAdjustedTranslate:Bi}=je.current;let Ze=null;if(Gt&&Bi){const{cancelDrop:hi}=pt.current;Ze={activatorEvent:we,active:Gt,collisions:pe,delta:Bi,over:ei},Dt===ze.DragEnd&&typeof hi=="function"&&await Promise.resolve(hi(Ze))&&(Dt=ze.DragCancel)}Ft.current=null,eo.unstable_batchedUpdates(()=>{ot({type:Dt}),nt(jr.Uninitialized),fi(null),K(null),st(null),mn.current=null;const hi=Dt===ze.DragEnd?"onDragEnd":"onDragCancel";if(Ze){const ni=pt.current[hi];ni==null||ni(Ze),ct({type:hi,event:Ze})}})}}},[A]),Pi=k.useCallback((se,Ie)=>(oe,bn)=>{const _e=oe.nativeEvent,we=A.get(bn);if(Ft.current!==null||!we||_e.dndKit||_e.defaultPrevented)return;const Ve={active:we};se(oe,Ie.options,Ve)===!0&&(_e.dndKit={capturedBy:Ie.sensor},Ft.current=bn,zi(oe,Ie))},[A,zi]),mr=dA(E,Pi);TA(E),ui(()=>{Vt&&ut===jr.Initializing&&nt(jr.Initialized)},[Vt,ut]),k.useEffect(()=>{const{onDragMove:se}=pt.current,{active:Ie,activatorEvent:oe,collisions:bn,over:_e}=je.current;if(!Ie||!oe)return;const we={active:Ie,activatorEvent:oe,collisions:bn,delta:{x:Ut.x,y:Ut.y},over:_e};eo.unstable_batchedUpdates(()=>{se==null||se(we),ct({type:"onDragMove",event:we})})},[Ut.x,Ut.y]),k.useEffect(()=>{const{active:se,activatorEvent:Ie,collisions:oe,droppableContainers:bn,scrollAdjustedTranslate:_e}=je.current;if(!se||Ft.current==null||!Ie||!_e)return;const{onDragOver:we}=pt.current,Ve=bn.get(ts),ti=Ve&&Ve.rect.current?{id:Ve.id,rect:Ve.rect.current,data:Ve.data,disabled:Ve.disabled}:null,Dt={active:se,activatorEvent:Ie,collisions:oe,delta:{x:_e.x,y:_e.y},over:ti};eo.unstable_batchedUpdates(()=>{fi(ti),we==null||we(Dt),ct({type:"onDragOver",event:Dt})})},[ts]),ui(()=>{je.current={activatorEvent:rt,active:D,activeNode:mt,collisionRect:Re,collisions:me,droppableRects:et,draggableNodes:A,draggingNode:Ln,draggingNodeRect:Jn,droppableContainers:N,over:Pn,scrollableAncestors:gn,scrollAdjustedTranslate:Ut},M.current={initial:Jn,translated:Re}},[D,mt,me,Re,A,Ln,Jn,et,N,Pn,gn,Ut]),uA({...zt,delta:R,draggingRect:Re,pointerCoordinates:Mi,scrollableAncestors:gn,scrollableAncestorRects:zn});const es=k.useMemo(()=>({active:D,activeNode:mt,activeNodeRect:Vt,activatorEvent:rt,collisions:me,containerNodeRect:hn,dragOverlay:Xe,draggableNodes:A,droppableContainers:N,droppableRects:et,over:Pn,measureDroppableContainers:gt,scrollableAncestors:gn,scrollableAncestorRects:zn,measuringConfiguration:at,measuringScheduled:Rt,windowRect:Oi}),[D,mt,Vt,rt,me,hn,Xe,A,N,et,Pn,gt,gn,zn,at,Rt,Oi]),ns=k.useMemo(()=>({activatorEvent:rt,activators:mr,active:D,activeNodeRect:Vt,ariaDescribedById:{draggable:I},dispatch:ot,draggableNodes:A,over:Pn,measureDroppableContainers:gt}),[rt,mr,D,Vt,ot,I,A,Pn,gt]);return ce.createElement(A_.Provider,{value:Q},ce.createElement(Co.Provider,{value:ns},ce.createElement(k_.Provider,{value:es},ce.createElement(kc.Provider,{value:Li},y)),ce.createElement(NA,{disabled:(g==null?void 0:g.restoreFocus)===!1})),ce.createElement(Ub,{...g,hiddenTextDescribedById:I}));function Wn(){const se=(Yt==null?void 0:Yt.autoScrollEnabled)===!1,Ie=typeof p=="object"?p.enabled===!1:p===!1,oe=tt&&!se&&!Ie;return typeof p=="object"?{...p,enabled:oe}:{enabled:oe}}}),OA=k.createContext(null),ov="button",MA="Draggable";function UA(r){let{id:t,data:i,disabled:a=!1,attributes:o}=r;const c=Do(MA),{activators:d,activatorEvent:g,active:p,activeNodeRect:y,ariaDescribedById:E,draggableNodes:S,over:V}=k.useContext(Co),{role:U=ov,roleDescription:X="draggable",tabIndex:F=0}=o??{},H=(p==null?void 0:p.id)===t,ot=k.useContext(H?kc:OA),[ct,Q]=fc(),[ut,nt]=fc(),tt=bA(d,t),w=go(i);ui(()=>(S.set(t,{id:t,key:c,node:ct,activatorNode:ut,data:w}),()=>{const R=S.get(t);R&&R.key===c&&S.delete(t)}),[S,t]);const A=k.useMemo(()=>({role:U,tabIndex:F,"aria-disabled":a,"aria-pressed":H&&U===ov?!0:void 0,"aria-roledescription":X,"aria-describedby":E.draggable}),[a,U,F,H,X,E.draggable]);return{active:p,activatorEvent:g,activeNodeRect:y,attributes:A,isDragging:H,listeners:a?void 0:tt,node:ct,over:V,setNodeRef:Q,setActivatorNodeRef:nt,transform:ot}}function H_(){return k.useContext(k_)}const LA="Droppable",zA={timeout:25};function PA(r){let{data:t,disabled:i=!1,id:a,resizeObserverConfig:o}=r;const c=Do(LA),{active:d,dispatch:g,over:p,measureDroppableContainers:y}=k.useContext(Co),E=k.useRef({disabled:i}),S=k.useRef(!1),V=k.useRef(null),U=k.useRef(null),{disabled:X,updateMeasurementsFor:F,timeout:H}={...zA,...o},ot=go(F??a),ct=k.useCallback(()=>{if(!S.current){S.current=!0;return}U.current!=null&&clearTimeout(U.current),U.current=setTimeout(()=>{y(Array.isArray(ot.current)?ot.current:[ot.current]),U.current=null},H)},[H]),Q=Bc({callback:ct,disabled:X||!d}),ut=k.useCallback((A,R)=>{Q&&(R&&(Q.unobserve(R),S.current=!1),A&&Q.observe(A))},[Q]),[nt,tt]=fc(ut),w=go(t);return k.useEffect(()=>{!Q||!nt.current||(Q.disconnect(),S.current=!1,Q.observe(nt.current))},[nt,Q]),k.useEffect(()=>(g({type:ze.RegisterDroppable,element:{id:a,key:c,disabled:i,node:nt,rect:V,data:w}}),()=>g({type:ze.UnregisterDroppable,key:c,id:a})),[a]),k.useEffect(()=>{i!==E.current.disabled&&(g({type:ze.SetDroppableDisabled,id:a,key:c,disabled:i}),E.current.disabled=i)},[a,c,i,g]),{active:d,rect:V,isOver:(p==null?void 0:p.id)===a,node:nt,over:p,setNodeRef:tt}}function BA(r){let{animation:t,children:i}=r;const[a,o]=k.useState(null),[c,d]=k.useState(null),g=hc(i);return!i&&!a&&g&&o(g),ui(()=>{if(!c)return;const p=a==null?void 0:a.key,y=a==null?void 0:a.props.id;if(p==null||y==null){o(null);return}Promise.resolve(t(y,c)).then(()=>{o(null)})},[t,a,c]),ce.createElement(ce.Fragment,null,i,a?k.cloneElement(a,{ref:d}):null)}const kA={x:0,y:0,scaleX:1,scaleY:1};function jA(r){let{children:t}=r;return ce.createElement(Co.Provider,{value:B_},ce.createElement(kc.Provider,{value:kA},t))}const qA={position:"fixed",touchAction:"none"},HA=r=>zc(r)?"transform 250ms ease":void 0,GA=k.forwardRef((r,t)=>{let{as:i,activatorEvent:a,adjustScale:o,children:c,className:d,rect:g,style:p,transform:y,transition:E=HA}=r;if(!g)return null;const S=o?y:{...y,scaleX:1,scaleY:1},V={...qA,width:g.width,height:g.height,top:g.top,left:g.left,transform:Fr.Transform.toString(S),transformOrigin:o&&a?zb(a,g):void 0,transition:typeof E=="function"?E(a):E,...p};return ce.createElement(i,{className:d,style:V,ref:t},c)}),QA=r=>t=>{let{active:i,dragOverlay:a}=t;const o={},{styles:c,className:d}=r;if(c!=null&&c.active)for(const[g,p]of Object.entries(c.active))p!==void 0&&(o[g]=i.node.style.getPropertyValue(g),i.node.style.setProperty(g,p));if(c!=null&&c.dragOverlay)for(const[g,p]of Object.entries(c.dragOverlay))p!==void 0&&a.node.style.setProperty(g,p);return d!=null&&d.active&&i.node.classList.add(d.active),d!=null&&d.dragOverlay&&a.node.classList.add(d.dragOverlay),function(){for(const[p,y]of Object.entries(o))i.node.style.setProperty(p,y);d!=null&&d.active&&i.node.classList.remove(d.active)}},KA=r=>{let{transform:{initial:t,final:i}}=r;return[{transform:Fr.Transform.toString(t)},{transform:Fr.Transform.toString(i)}]},FA={duration:250,easing:"ease",keyframes:KA,sideEffects:QA({styles:{active:{opacity:"0"}}})};function YA(r){let{config:t,draggableNodes:i,droppableContainers:a,measuringConfiguration:o}=r;return Lc((c,d)=>{if(t===null)return;const g=i.get(c);if(!g)return;const p=g.node.current;if(!p)return;const y=P_(d);if(!y)return;const{transform:E}=En(d).getComputedStyle(d),S=D_(E);if(!S)return;const V=typeof t=="function"?t:XA(t);return M_(p,o.draggable.measure),V({active:{id:c,data:g.data,node:p,rect:o.draggable.measure(p)},draggableNodes:i,dragOverlay:{node:d,rect:o.dragOverlay.measure(y)},droppableContainers:a,measuringConfiguration:o,transform:S})})}function XA(r){const{duration:t,easing:i,sideEffects:a,keyframes:o}={...FA,...r};return c=>{let{active:d,dragOverlay:g,transform:p,...y}=c;if(!t)return;const E={x:g.rect.left-d.rect.left,y:g.rect.top-d.rect.top},S={scaleX:p.scaleX!==1?d.rect.width*p.scaleX/g.rect.width:1,scaleY:p.scaleY!==1?d.rect.height*p.scaleY/g.rect.height:1},V={x:p.x-E.x,y:p.y-E.y,...S},U=o({...y,active:d,dragOverlay:g,transform:{initial:p,final:V}}),[X]=U,F=U[U.length-1];if(JSON.stringify(X)===JSON.stringify(F))return;const H=a==null?void 0:a({active:d,dragOverlay:g,...y}),ot=g.node.animate(U,{duration:t,easing:i,fill:"forwards"});return new Promise(ct=>{ot.onfinish=()=>{H==null||H(),ct()}})}}let uv=0;function ZA(r){return k.useMemo(()=>{if(r!=null)return uv++,uv},[r])}const $A=ce.memo(r=>{let{adjustScale:t=!1,children:i,dropAnimation:a,style:o,transition:c,modifiers:d,wrapperElement:g="div",className:p,zIndex:y=999}=r;const{activatorEvent:E,active:S,activeNodeRect:V,containerNodeRect:U,draggableNodes:X,droppableContainers:F,dragOverlay:H,over:ot,measuringConfiguration:ct,scrollableAncestors:Q,scrollableAncestorRects:ut,windowRect:nt}=H_(),tt=k.useContext(kc),w=ZA(S==null?void 0:S.id),A=j_(d,{activatorEvent:E,active:S,activeNodeRect:V,containerNodeRect:U,draggingNodeRect:H.rect,over:ot,overlayNodeRect:H.rect,scrollableAncestors:Q,scrollableAncestorRects:ut,transform:tt,windowRect:nt}),R=Zd(V),N=YA({config:a,draggableNodes:X,droppableContainers:F,measuringConfiguration:ct}),x=R?H.setRef:void 0;return ce.createElement(jA,null,ce.createElement(BA,{animation:N},S&&w?ce.createElement(GA,{key:w,id:S.id,ref:x,as:g,activatorEvent:E,adjustScale:t,className:p,transition:c,rect:R,style:{zIndex:y,...o},transform:A},i):null))});function po(r,t,i){const a=r.slice();return a.splice(i<0?a.length+i:i,0,a.splice(t,1)[0]),a}function JA(r,t){return r.reduce((i,a,o)=>{const c=t.get(a);return c&&(i[o]=c),i},Array(r.length))}function Ju(r){return r!==null&&r>=0}function WA(r,t){if(r===t)return!0;if(r.length!==t.length)return!1;for(let i=0;i<r.length;i++)if(r[i]!==t[i])return!1;return!0}function tS(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const jc=r=>{let{rects:t,activeIndex:i,overIndex:a,index:o}=r;const c=po(t,a,i),d=t[o],g=c[o];return!g||!d?null:{x:g.left-d.left,y:g.top-d.top,scaleX:g.width/d.width,scaleY:g.height/d.height}},G_="Sortable",Q_=ce.createContext({activeIndex:-1,containerId:G_,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:jc,disabled:{draggable:!1,droppable:!1}});function K_(r){let{children:t,id:i,items:a,strategy:o=jc,disabled:c=!1}=r;const{active:d,dragOverlay:g,droppableRects:p,over:y,measureDroppableContainers:E}=H_(),S=Do(G_,i),V=g.rect!==null,U=k.useMemo(()=>a.map(tt=>typeof tt=="object"&&"id"in tt?tt.id:tt),[a]),X=d!=null,F=d?U.indexOf(d.id):-1,H=y?U.indexOf(y.id):-1,ot=k.useRef(U),ct=!WA(U,ot.current),Q=H!==-1&&F===-1||ct,ut=tS(c);ui(()=>{ct&&X&&E(U)},[ct,U,X,E]),k.useEffect(()=>{ot.current=U},[U]);const nt=k.useMemo(()=>({activeIndex:F,containerId:S,disabled:ut,disableTransforms:Q,items:U,overIndex:H,useDragOverlay:V,sortedRects:JA(U,p),strategy:o}),[F,S,ut.draggable,ut.droppable,Q,U,H,p,V,o]);return ce.createElement(Q_.Provider,{value:nt},t)}const eS=r=>{let{id:t,items:i,activeIndex:a,overIndex:o}=r;return po(i,a,o).indexOf(t)},nS=r=>{let{containerId:t,isSorting:i,wasDragging:a,index:o,items:c,newIndex:d,previousItems:g,previousContainerId:p,transition:y}=r;return!y||!a||g!==c&&o===d?!1:i?!0:d!==o&&t===p},iS={duration:200,easing:"ease"},F_="transform",rS=Fr.Transition.toString({property:F_,duration:0,easing:"linear"}),sS={roleDescription:"sortable"};function aS(r){let{disabled:t,index:i,node:a,rect:o}=r;const[c,d]=k.useState(null),g=k.useRef(i);return ui(()=>{if(!t&&i!==g.current&&a.current){const p=o.current;if(p){const y=Ya(a.current,{ignoreTransform:!0}),E={x:p.left-y.left,y:p.top-y.top,scaleX:p.width/y.width,scaleY:p.height/y.height};(E.x||E.y)&&d(E)}}i!==g.current&&(g.current=i)},[t,i,a,o]),k.useEffect(()=>{c&&d(null)},[c]),c}function Y_(r){let{animateLayoutChanges:t=nS,attributes:i,disabled:a,data:o,getNewIndex:c=eS,id:d,strategy:g,resizeObserverConfig:p,transition:y=iS}=r;const{items:E,containerId:S,activeIndex:V,disabled:U,disableTransforms:X,sortedRects:F,overIndex:H,useDragOverlay:ot,strategy:ct}=k.useContext(Q_),Q=lS(a,U),ut=E.indexOf(d),nt=k.useMemo(()=>({sortable:{containerId:S,index:ut,items:E},...o}),[S,o,ut,E]),tt=k.useMemo(()=>E.slice(E.indexOf(d)),[E,d]),{rect:w,node:A,isOver:R,setNodeRef:N}=PA({id:d,data:nt,disabled:Q.droppable,resizeObserverConfig:{updateMeasurementsFor:tt,...p}}),{active:x,activatorEvent:M,activeNodeRect:D,attributes:Ft,setNodeRef:Yt,listeners:K,isDragging:rt,over:st,setActivatorNodeRef:pt,transform:I}=UA({id:d,data:nt,attributes:{...sS,...i},disabled:Q.draggable}),$=bb(N,Yt),at=!!x,et=at&&!X&&Ju(V)&&Ju(H),gt=!ot&&rt,Rt=gt&&et?I:null,he=et?Rt??(g??ct)({rects:F,activeNodeRect:D,activeIndex:V,overIndex:H,index:ut}):null,zt=Ju(V)&&Ju(H)?c({id:d,items:E,activeIndex:V,overIndex:H}):ut,Se=x==null?void 0:x.id,Vt=k.useRef({activeId:Se,items:E,newIndex:zt,containerId:S}),hn=E!==Vt.current.items,je=t({active:x,containerId:S,isDragging:rt,isSorting:at,id:d,index:ut,items:E,newIndex:Vt.current.newIndex,previousItems:Vt.current.items,previousContainerId:Vt.current.containerId,transition:y,wasDragging:Vt.current.activeId!=null}),Tn=aS({disabled:!je,index:ut,node:A,rect:w});return k.useEffect(()=>{at&&Vt.current.newIndex!==zt&&(Vt.current.newIndex=zt),S!==Vt.current.containerId&&(Vt.current.containerId=S),E!==Vt.current.items&&(Vt.current.items=E)},[at,zt,S,E]),k.useEffect(()=>{if(Se===Vt.current.activeId)return;if(Se!=null&&Vt.current.activeId==null){Vt.current.activeId=Se;return}const Ln=setTimeout(()=>{Vt.current.activeId=Se},50);return()=>clearTimeout(Ln)},[Se]),{active:x,activeIndex:V,attributes:Ft,data:nt,rect:w,index:ut,newIndex:zt,items:E,isOver:R,isSorting:at,isDragging:rt,listeners:K,node:A,overIndex:H,over:st,setNodeRef:$,setActivatorNodeRef:pt,setDroppableNodeRef:N,setDraggableNodeRef:Yt,transform:Tn??he,transition:Xe()};function Xe(){if(Tn||hn&&Vt.current.newIndex===ut)return rS;if(!(gt&&!zc(M)||!y)&&(at||je))return Fr.Transition.toString({...y,property:F_})}}function lS(r,t){var i,a;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(i=r==null?void 0:r.draggable)!=null?i:t.draggable,droppable:(a=r==null?void 0:r.droppable)!=null?a:t.droppable}}Kt.Down,Kt.Right,Kt.Up,Kt.Left;function oS({item:r,boxId:t,isSelected:i,isLowCount:a,onToggle:o,boxMode:c,onChangeItem:d,onRemoveItem:g,editingItemId:p,setEditingItemId:y,editingCountId:E,setEditingCountId:S,editingUnitId:V,setEditingUnitId:U}){const{attributes:X,listeners:F,setNodeRef:H,transform:ot,transition:ct}=Y_({id:r.id}),Q={transform:Fr.Transform.toString(ot),transition:ct},ut=r.status==="blue"?"bg-blue-100 text-blue-800":r.status==="red"?"bg-red-100 text-red-800":"bg-white text-black",nt=i?"text-[#66A3FF]":a?"text-[#CC6666]":"text-gray-500",tt=()=>{const w=r.status==="none"?"blue":r.status==="blue"?"red":"none";d(t,r.id,w,"status")};return lt.jsxs("li",{...X,ref:H,style:Q,className:`p-1 mb-1 rounded-md border border-gray-300 flex items-center justify-between transition-colors duration-300 ${ut}`,children:[lt.jsx("button",{...F,onClick:w=>{w.stopPropagation(),o(t,r.id),tt()},className:`mr-2 w-5 h-5 rounded-full border flex items-center justify-center text-xs shrink-0 transition-colors ${r.status==="blue"?"bg-blue-500 text-white border-blue-500":r.status==="red"?"bg-red-500 text-white border-red-500":"bg-white text-gray-400 border-gray-400"}`}),lt.jsx("div",{className:"flex-1 flex items-center gap-2 overflow-hidden leading-none min-w-0",children:c==="shopping"?lt.jsxs(lt.Fragment,{children:[lt.jsx("div",{className:"flex-[6] min-w-0 truncate",children:p===r.id?lt.jsx("input",{type:"text",value:r.text,onChange:w=>d(t,r.id,w.target.value),onBlur:()=>y(null),className:"text-sm font-normal bg-transparent border-none outline-none w-full truncate",autoFocus:!0}):lt.jsx("span",{className:"text-sm truncate cursor-text inline-block w-full",onClick:()=>y(r.id),children:r.text})}),lt.jsx("div",{className:"flex-[2] text-xs text-right font-mono truncate",children:E===r.id?lt.jsx("input",{type:"text",value:r.count,onChange:w=>d(t,r.id,w.target.value,"count"),onBlur:()=>S(null),onKeyDown:w=>{w.key==="Enter"&&S(null)},className:`w-full text-right bg-transparent outline-none border-none ${nt}`,autoFocus:!0}):lt.jsx("span",{className:`cursor-text ${nt}`,onClick:()=>S(r.id),children:r.count})}),lt.jsx("div",{className:"flex-[2] text-xs text-left font-mono truncate",children:V===r.id?lt.jsx("input",{type:"text",value:r.unit,onChange:w=>d(t,r.id,w.target.value,"unit"),onBlur:()=>U(null),onKeyDown:w=>{w.key==="Enter"&&U(null)},className:`w-full text-left bg-transparent outline-none border-none ${nt}`,autoFocus:!0}):lt.jsx("span",{className:`cursor-text ${nt}`,onClick:()=>U(r.id),children:r.unit})})]}):lt.jsx("div",{className:"flex-1 min-w-0 truncate",children:p===r.id?lt.jsx("input",{type:"text",value:r.text,onChange:w=>d(t,r.id,w.target.value),onBlur:()=>y(null),className:"text-sm font-normal bg-transparent border-none outline-none w-full truncate",autoFocus:!0}):lt.jsx("span",{className:"text-sm truncate cursor-text inline-block w-full",onClick:()=>y(r.id),children:r.text})})}),lt.jsx("button",{onClick:()=>g(t,r.id),className:"ml-2 px-2 text-gray rounded hover:bg-gray-200 transition text-sm shrink-0",title:"삭제",children:"X"})]})}const uS=()=>{};var cv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},cS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Z_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,U=y&63;p||(U=64,d||(V=64)),a.push(i[E],i[S],i[V],i[U])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(X_(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):cS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new fS;const V=c<<2|g>>4;if(a.push(V),y!==64){const U=g<<4&240|y>>2;if(a.push(U),S!==64){const X=y<<6&192|S;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class fS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hS=function(r){const t=X_(r);return Z_.encodeByteArray(t,!0)},vc=function(r){return hS(r).replace(/\./g,"")},dS=function(r){try{return Z_.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=()=>gS().__FIREBASE_DEFAULTS__,pS=()=>{if(typeof process>"u"||typeof cv>"u")return;const r=cv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},yS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&dS(r[1]);return t&&JSON.parse(t)},$d=()=>{try{return uS()||mS()||pS()||yS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},vS=r=>{var t,i;return(i=(t=$d())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},_S=r=>{const t=vS(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},$_=()=>{var r;return(r=$d())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[vc(JSON.stringify(i)),vc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AS(){var r;const t=(r=$d())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SS(){return!AS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RS(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="FirebaseError";class Xa extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=DS,Object.setPrototypeOf(this,Xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J_.prototype.create)}}class J_{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?CS(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Xa(o,g,a)}}function CS(r,t){return r.replace(xS,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const xS=/\{\$([^}]+)}/g;function _c(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(fv(c)&&fv(d)){if(!_c(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function fv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(r){return r&&r._delegate?r._delegate:r}class yo{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new ES;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VS(t))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Is){return this.instances.has(t)}getOptions(t=Is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){var a;const o=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&t(d,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:IS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Is){return this.component?this.component.multipleInstances?t:Is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IS(r){return r===Is?void 0:r}function VS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new NS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qt||(qt={}));const MS={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},US=qt.INFO,LS={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},zS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=LS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class W_{constructor(t){this.name=t,this._logLevel=US,this._logHandler=zS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const PS=(r,t)=>t.some(i=>r instanceof i);let hv,dv;function BS(){return hv||(hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kS(){return dv||(dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t0=new WeakMap,bd=new WeakMap,e0=new WeakMap,cd=new WeakMap,Jd=new WeakMap;function jS(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Hr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&t0.set(i,r)}).catch(()=>{}),Jd.set(t,r),t}function qS(r){if(bd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});bd.set(r,t)}let Ad={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return bd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||e0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function HS(r){Ad=r(Ad)}function GS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(fd(this),t,...i);return e0.set(a,t.sort?t.sort():[t]),Hr(a)}:kS().includes(r)?function(...t){return r.apply(fd(this),t),Hr(t0.get(this))}:function(...t){return Hr(r.apply(fd(this),t))}}function QS(r){return typeof r=="function"?GS(r):(r instanceof IDBTransaction&&qS(r),PS(r,BS())?new Proxy(r,Ad):r)}function Hr(r){if(r instanceof IDBRequest)return jS(r);if(cd.has(r))return cd.get(r);const t=QS(r);return t!==r&&(cd.set(r,t),Jd.set(t,r)),t}const fd=r=>Jd.get(r);function KS(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=Hr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Hr(d.result),p.oldVersion,p.newVersion,Hr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const FS=["get","getKey","getAll","getAllKeys","count"],YS=["put","add","delete","clear"],hd=new Map;function gv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(hd.get(t))return hd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=YS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||FS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return hd.set(t,c),c}HS(r=>({...r,get:(t,i,a)=>gv(t,i)||r.get(t,i,a),has:(t,i)=>!!gv(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function ZS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sd="@firebase/app",mv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new W_("@firebase/app"),$S="@firebase/app-compat",JS="@firebase/analytics-compat",WS="@firebase/analytics",t1="@firebase/app-check-compat",e1="@firebase/app-check",n1="@firebase/auth",i1="@firebase/auth-compat",r1="@firebase/database",s1="@firebase/data-connect",a1="@firebase/database-compat",l1="@firebase/functions",o1="@firebase/functions-compat",u1="@firebase/installations",c1="@firebase/installations-compat",f1="@firebase/messaging",h1="@firebase/messaging-compat",d1="@firebase/performance",g1="@firebase/performance-compat",m1="@firebase/remote-config",p1="@firebase/remote-config-compat",y1="@firebase/storage",v1="@firebase/storage-compat",_1="@firebase/firestore",E1="@firebase/vertexai",T1="@firebase/firestore-compat",b1="firebase",A1="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="[DEFAULT]",S1={[Sd]:"fire-core",[$S]:"fire-core-compat",[WS]:"fire-analytics",[JS]:"fire-analytics-compat",[e1]:"fire-app-check",[t1]:"fire-app-check-compat",[n1]:"fire-auth",[i1]:"fire-auth-compat",[r1]:"fire-rtdb",[s1]:"fire-data-connect",[a1]:"fire-rtdb-compat",[l1]:"fire-fn",[o1]:"fire-fn-compat",[u1]:"fire-iid",[c1]:"fire-iid-compat",[f1]:"fire-fcm",[h1]:"fire-fcm-compat",[d1]:"fire-perf",[g1]:"fire-perf-compat",[m1]:"fire-rc",[p1]:"fire-rc-compat",[y1]:"fire-gcs",[v1]:"fire-gcs-compat",[_1]:"fire-fst",[T1]:"fire-fst-compat",[E1]:"fire-vertex","fire-js":"fire-js",[b1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,R1=new Map,wd=new Map;function pv(r,t){try{r.container.addComponent(t)}catch(i){cr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Tc(r){const t=r.name;if(wd.has(t))return cr.debug(`There were multiple attempts to register component ${t}.`),!1;wd.set(t,r);for(const i of Ec.values())pv(i,r);for(const i of R1.values())pv(i,r);return!0}function w1(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function D1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new J_("app","Firebase",C1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=A1;function n0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Rd,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw Gr.create("bad-app-name",{appName:String(o)});if(i||(i=$_()),!i)throw Gr.create("no-options");const c=Ec.get(o);if(c){if(_c(i,c.options)&&_c(a,c.config))return c;throw Gr.create("duplicate-app",{appName:o})}const d=new OS(o);for(const p of wd.values())d.addComponent(p);const g=new x1(i,a,d);return Ec.set(o,g),g}function I1(r=Rd){const t=Ec.get(r);if(!t&&r===Rd&&$_())return n0();if(!t)throw Gr.create("no-app",{appName:r});return t}function Ua(r,t,i){var a;let o=(a=S1[r])!==null&&a!==void 0?a:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${t}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cr.warn(g.join(" "));return}Tc(new yo(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="firebase-heartbeat-database",O1=1,vo="firebase-heartbeat-store";let dd=null;function i0(){return dd||(dd=KS(V1,O1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(vo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Gr.create("idb-open",{originalErrorMessage:r.message})})),dd}async function M1(r){try{const i=(await i0()).transaction(vo),a=await i.objectStore(vo).get(r0(r));return await i.done,a}catch(t){if(t instanceof Xa)cr.warn(t.message);else{const i=Gr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});cr.warn(i.message)}}}async function yv(r,t){try{const a=(await i0()).transaction(vo,"readwrite");await a.objectStore(vo).put(t,r0(r)),await a.done}catch(i){if(i instanceof Xa)cr.warn(i.message);else{const a=Gr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});cr.warn(a.message)}}}function r0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=1024,L1=30;class z1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new B1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=vv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>L1){const d=k1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){cr.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=vv(),{heartbeatsToSend:a,unsentEntries:o}=P1(this._heartbeatsCache.heartbeats),c=vc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return cr.warn(i),""}}}function vv(){return new Date().toISOString().substring(0,10)}function P1(r,t=U1){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),_v(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),_v(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class B1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RS()?wS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await M1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return yv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return yv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function _v(r){return vc(JSON.stringify({version:2,heartbeats:r})).length}function k1(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(r){Tc(new yo("platform-logger",t=>new XS(t),"PRIVATE")),Tc(new yo("heartbeat",t=>new z1(t),"PRIVATE")),Ua(Sd,mv,r),Ua(Sd,mv,"esm2017"),Ua("fire-js","")}j1("");var q1="firebase",H1="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ua(q1,H1,"app");var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,s0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(w,A){function R(){}R.prototype=A.prototype,w.D=A.prototype,w.prototype=new R,w.prototype.constructor=w,w.C=function(N,x,M){for(var D=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)D[Ft-2]=arguments[Ft];return A.prototype[x].apply(N,D)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,A,R){R||(R=0);var N=Array(16);if(typeof A=="string")for(var x=0;16>x;++x)N[x]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(x=0;16>x;++x)N[x]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=w.g[0],R=w.g[1],x=w.g[2];var M=w.g[3],D=A+(M^R&(x^M))+N[0]+3614090360&4294967295;A=R+(D<<7&4294967295|D>>>25),D=M+(x^A&(R^x))+N[1]+3905402710&4294967295,M=A+(D<<12&4294967295|D>>>20),D=x+(R^M&(A^R))+N[2]+606105819&4294967295,x=M+(D<<17&4294967295|D>>>15),D=R+(A^x&(M^A))+N[3]+3250441966&4294967295,R=x+(D<<22&4294967295|D>>>10),D=A+(M^R&(x^M))+N[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=M+(x^A&(R^x))+N[5]+1200080426&4294967295,M=A+(D<<12&4294967295|D>>>20),D=x+(R^M&(A^R))+N[6]+2821735955&4294967295,x=M+(D<<17&4294967295|D>>>15),D=R+(A^x&(M^A))+N[7]+4249261313&4294967295,R=x+(D<<22&4294967295|D>>>10),D=A+(M^R&(x^M))+N[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=M+(x^A&(R^x))+N[9]+2336552879&4294967295,M=A+(D<<12&4294967295|D>>>20),D=x+(R^M&(A^R))+N[10]+4294925233&4294967295,x=M+(D<<17&4294967295|D>>>15),D=R+(A^x&(M^A))+N[11]+2304563134&4294967295,R=x+(D<<22&4294967295|D>>>10),D=A+(M^R&(x^M))+N[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=M+(x^A&(R^x))+N[13]+4254626195&4294967295,M=A+(D<<12&4294967295|D>>>20),D=x+(R^M&(A^R))+N[14]+2792965006&4294967295,x=M+(D<<17&4294967295|D>>>15),D=R+(A^x&(M^A))+N[15]+1236535329&4294967295,R=x+(D<<22&4294967295|D>>>10),D=A+(x^M&(R^x))+N[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=M+(R^x&(A^R))+N[6]+3225465664&4294967295,M=A+(D<<9&4294967295|D>>>23),D=x+(A^R&(M^A))+N[11]+643717713&4294967295,x=M+(D<<14&4294967295|D>>>18),D=R+(M^A&(x^M))+N[0]+3921069994&4294967295,R=x+(D<<20&4294967295|D>>>12),D=A+(x^M&(R^x))+N[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=M+(R^x&(A^R))+N[10]+38016083&4294967295,M=A+(D<<9&4294967295|D>>>23),D=x+(A^R&(M^A))+N[15]+3634488961&4294967295,x=M+(D<<14&4294967295|D>>>18),D=R+(M^A&(x^M))+N[4]+3889429448&4294967295,R=x+(D<<20&4294967295|D>>>12),D=A+(x^M&(R^x))+N[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=M+(R^x&(A^R))+N[14]+3275163606&4294967295,M=A+(D<<9&4294967295|D>>>23),D=x+(A^R&(M^A))+N[3]+4107603335&4294967295,x=M+(D<<14&4294967295|D>>>18),D=R+(M^A&(x^M))+N[8]+1163531501&4294967295,R=x+(D<<20&4294967295|D>>>12),D=A+(x^M&(R^x))+N[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=M+(R^x&(A^R))+N[2]+4243563512&4294967295,M=A+(D<<9&4294967295|D>>>23),D=x+(A^R&(M^A))+N[7]+1735328473&4294967295,x=M+(D<<14&4294967295|D>>>18),D=R+(M^A&(x^M))+N[12]+2368359562&4294967295,R=x+(D<<20&4294967295|D>>>12),D=A+(R^x^M)+N[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=M+(A^R^x)+N[8]+2272392833&4294967295,M=A+(D<<11&4294967295|D>>>21),D=x+(M^A^R)+N[11]+1839030562&4294967295,x=M+(D<<16&4294967295|D>>>16),D=R+(x^M^A)+N[14]+4259657740&4294967295,R=x+(D<<23&4294967295|D>>>9),D=A+(R^x^M)+N[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=M+(A^R^x)+N[4]+1272893353&4294967295,M=A+(D<<11&4294967295|D>>>21),D=x+(M^A^R)+N[7]+4139469664&4294967295,x=M+(D<<16&4294967295|D>>>16),D=R+(x^M^A)+N[10]+3200236656&4294967295,R=x+(D<<23&4294967295|D>>>9),D=A+(R^x^M)+N[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=M+(A^R^x)+N[0]+3936430074&4294967295,M=A+(D<<11&4294967295|D>>>21),D=x+(M^A^R)+N[3]+3572445317&4294967295,x=M+(D<<16&4294967295|D>>>16),D=R+(x^M^A)+N[6]+76029189&4294967295,R=x+(D<<23&4294967295|D>>>9),D=A+(R^x^M)+N[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=M+(A^R^x)+N[12]+3873151461&4294967295,M=A+(D<<11&4294967295|D>>>21),D=x+(M^A^R)+N[15]+530742520&4294967295,x=M+(D<<16&4294967295|D>>>16),D=R+(x^M^A)+N[2]+3299628645&4294967295,R=x+(D<<23&4294967295|D>>>9),D=A+(x^(R|~M))+N[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=M+(R^(A|~x))+N[7]+1126891415&4294967295,M=A+(D<<10&4294967295|D>>>22),D=x+(A^(M|~R))+N[14]+2878612391&4294967295,x=M+(D<<15&4294967295|D>>>17),D=R+(M^(x|~A))+N[5]+4237533241&4294967295,R=x+(D<<21&4294967295|D>>>11),D=A+(x^(R|~M))+N[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=M+(R^(A|~x))+N[3]+2399980690&4294967295,M=A+(D<<10&4294967295|D>>>22),D=x+(A^(M|~R))+N[10]+4293915773&4294967295,x=M+(D<<15&4294967295|D>>>17),D=R+(M^(x|~A))+N[1]+2240044497&4294967295,R=x+(D<<21&4294967295|D>>>11),D=A+(x^(R|~M))+N[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=M+(R^(A|~x))+N[15]+4264355552&4294967295,M=A+(D<<10&4294967295|D>>>22),D=x+(A^(M|~R))+N[6]+2734768916&4294967295,x=M+(D<<15&4294967295|D>>>17),D=R+(M^(x|~A))+N[13]+1309151649&4294967295,R=x+(D<<21&4294967295|D>>>11),D=A+(x^(R|~M))+N[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=M+(R^(A|~x))+N[11]+3174756917&4294967295,M=A+(D<<10&4294967295|D>>>22),D=x+(A^(M|~R))+N[2]+718787259&4294967295,x=M+(D<<15&4294967295|D>>>17),D=R+(M^(x|~A))+N[9]+3951481745&4294967295,w.g[0]=w.g[0]+A&4294967295,w.g[1]=w.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,w.g[2]=w.g[2]+x&4294967295,w.g[3]=w.g[3]+M&4294967295}a.prototype.u=function(w,A){A===void 0&&(A=w.length);for(var R=A-this.blockSize,N=this.B,x=this.h,M=0;M<A;){if(x==0)for(;M<=R;)o(this,w,M),M+=this.blockSize;if(typeof w=="string"){for(;M<A;)if(N[x++]=w.charCodeAt(M++),x==this.blockSize){o(this,N),x=0;break}}else for(;M<A;)if(N[x++]=w[M++],x==this.blockSize){o(this,N),x=0;break}}this.h=x,this.o+=A},a.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var A=1;A<w.length-8;++A)w[A]=0;var R=8*this.o;for(A=w.length-8;A<w.length;++A)w[A]=R&255,R/=256;for(this.u(w),w=Array(16),A=R=0;4>A;++A)for(var N=0;32>N;N+=8)w[R++]=this.g[A]>>>N&255;return w};function c(w,A){var R=g;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=A(w)}function d(w,A){this.h=A;for(var R=[],N=!0,x=w.length-1;0<=x;x--){var M=w[x]|0;N&&M==A||(R[x]=M,N=!1)}this.g=R}var g={};function p(w){return-128<=w&&128>w?c(w,function(A){return new d([A|0],0>A?-1:0)}):new d([w|0],0>w?-1:0)}function y(w){if(isNaN(w)||!isFinite(w))return S;if(0>w)return H(y(-w));for(var A=[],R=1,N=0;w>=R;N++)A[N]=w/R|0,R*=4294967296;return new d(A,0)}function E(w,A){if(w.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(w.charAt(0)=="-")return H(E(w.substring(1),A));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(A,8)),N=S,x=0;x<w.length;x+=8){var M=Math.min(8,w.length-x),D=parseInt(w.substring(x,x+M),A);8>M?(M=y(Math.pow(A,M)),N=N.j(M).add(y(D))):(N=N.j(R),N=N.add(y(D)))}return N}var S=p(0),V=p(1),U=p(16777216);r=d.prototype,r.m=function(){if(F(this))return-H(this).m();for(var w=0,A=1,R=0;R<this.g.length;R++){var N=this.i(R);w+=(0<=N?N:4294967296+N)*A,A*=4294967296}return w},r.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(X(this))return"0";if(F(this))return"-"+H(this).toString(w);for(var A=y(Math.pow(w,6)),R=this,N="";;){var x=ut(R,A).g;R=ot(R,x.j(A));var M=((0<R.g.length?R.g[0]:R.h)>>>0).toString(w);if(R=x,X(R))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},r.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function X(w){if(w.h!=0)return!1;for(var A=0;A<w.g.length;A++)if(w.g[A]!=0)return!1;return!0}function F(w){return w.h==-1}r.l=function(w){return w=ot(this,w),F(w)?-1:X(w)?0:1};function H(w){for(var A=w.g.length,R=[],N=0;N<A;N++)R[N]=~w.g[N];return new d(R,~w.h).add(V)}r.abs=function(){return F(this)?H(this):this},r.add=function(w){for(var A=Math.max(this.g.length,w.g.length),R=[],N=0,x=0;x<=A;x++){var M=N+(this.i(x)&65535)+(w.i(x)&65535),D=(M>>>16)+(this.i(x)>>>16)+(w.i(x)>>>16);N=D>>>16,M&=65535,D&=65535,R[x]=D<<16|M}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ot(w,A){return w.add(H(A))}r.j=function(w){if(X(this)||X(w))return S;if(F(this))return F(w)?H(this).j(H(w)):H(H(this).j(w));if(F(w))return H(this.j(H(w)));if(0>this.l(U)&&0>w.l(U))return y(this.m()*w.m());for(var A=this.g.length+w.g.length,R=[],N=0;N<2*A;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var x=0;x<w.g.length;x++){var M=this.i(N)>>>16,D=this.i(N)&65535,Ft=w.i(x)>>>16,Yt=w.i(x)&65535;R[2*N+2*x]+=D*Yt,ct(R,2*N+2*x),R[2*N+2*x+1]+=M*Yt,ct(R,2*N+2*x+1),R[2*N+2*x+1]+=D*Ft,ct(R,2*N+2*x+1),R[2*N+2*x+2]+=M*Ft,ct(R,2*N+2*x+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new d(R,0)};function ct(w,A){for(;(w[A]&65535)!=w[A];)w[A+1]+=w[A]>>>16,w[A]&=65535,A++}function Q(w,A){this.g=w,this.h=A}function ut(w,A){if(X(A))throw Error("division by zero");if(X(w))return new Q(S,S);if(F(w))return A=ut(H(w),A),new Q(H(A.g),H(A.h));if(F(A))return A=ut(w,H(A)),new Q(H(A.g),A.h);if(30<w.g.length){if(F(w)||F(A))throw Error("slowDivide_ only works with positive integers.");for(var R=V,N=A;0>=N.l(w);)R=nt(R),N=nt(N);var x=tt(R,1),M=tt(N,1);for(N=tt(N,2),R=tt(R,2);!X(N);){var D=M.add(N);0>=D.l(w)&&(x=x.add(R),M=D),N=tt(N,1),R=tt(R,1)}return A=ot(w,x.j(A)),new Q(x,A)}for(x=S;0<=w.l(A);){for(R=Math.max(1,Math.floor(w.m()/A.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=y(R),D=M.j(A);F(D)||0<D.l(w);)R-=N,M=y(R),D=M.j(A);X(M)&&(M=V),x=x.add(M),w=ot(w,D)}return new Q(x,w)}r.A=function(w){return ut(this,w).h},r.and=function(w){for(var A=Math.max(this.g.length,w.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)&w.i(N);return new d(R,this.h&w.h)},r.or=function(w){for(var A=Math.max(this.g.length,w.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)|w.i(N);return new d(R,this.h|w.h)},r.xor=function(w){for(var A=Math.max(this.g.length,w.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)^w.i(N);return new d(R,this.h^w.h)};function nt(w){for(var A=w.g.length+1,R=[],N=0;N<A;N++)R[N]=w.i(N)<<1|w.i(N-1)>>>31;return new d(R,w.h)}function tt(w,A){var R=A>>5;A%=32;for(var N=w.g.length-R,x=[],M=0;M<N;M++)x[M]=0<A?w.i(M+R)>>>A|w.i(M+R+1)<<32-A:w.i(M+R);return new d(x,w.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,s0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Qr=d}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a0,no,l0,sc,Dd,o0,u0,c0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var z=u[b];if(!(z in v))break t;v=v[z]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var v=0,b=!1,z={next:function(){if(!b&&v<u.length){var G=v++;return{value:m(G,u[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function V(u,m,v){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,V.apply(null,arguments)}function U(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function X(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(b,z,G){for(var ft=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)ft[Pt-2]=arguments[Pt];return m.prototype[z].apply(b,ft)}}function F(u){const m=u.length;if(0<m){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function H(u,m){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const z=u.length||0,G=b.length||0;u.length=z+G;for(let ft=0;ft<G;ft++)u[z+ft]=b[ft]}else u.push(b)}}class ot{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ct(u){return/^[\s\xa0]*$/.test(u)}function Q(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function ut(u){return ut[" "](u),u}ut[" "]=function(){};var nt=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function tt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function w(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function A(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let v,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(v in b)u[v]=b[v];for(let G=0;G<R.length;G++)v=R[G],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function x(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function M(u){g.setTimeout(()=>{throw u},0)}function D(){var u=pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ft{constructor(){this.h=this.g=null}add(m,v){const b=Yt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Yt=new ot(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,st=!1,pt=new Ft,I=()=>{const u=g.Promise.resolve(void 0);rt=()=>{u.then($)}};var $=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(v){M(v)}var m=Yt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}st=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return u}();function Rt(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(nt){t:{try{ut(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}X(Rt,et);var mt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),zt=0;function Se(u,m,v,b,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=z,this.key=++zt,this.da=this.fa=!1}function Vt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hn(u){this.src=u,this.g={},this.h=0}hn.prototype.add=function(u,m,v,b,z){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var ft=Tn(u,m,b,z);return-1<ft?(m=u[ft],v||(m.fa=!1)):(m=new Se(m,this.src,G,!!b,z),m.fa=v,u.push(m)),m};function je(u,m){var v=m.type;if(v in u.g){var b=u.g[v],z=Array.prototype.indexOf.call(b,m,void 0),G;(G=0<=z)&&Array.prototype.splice.call(b,z,1),G&&(Vt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Tn(u,m,v,b){for(var z=0;z<u.length;++z){var G=u[z];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==b)return z}return-1}var Xe="closure_lm_"+(1e6*Math.random()|0),Ln={};function Jn(u,m,v,b,z){if(Array.isArray(m)){for(var G=0;G<m.length;G++)Jn(u,m[G],v,b,z);return null}return v=js(v),u&&u[he]?u.K(m,v,y(b)?!!b.capture:!1,z):dn(u,m,v,!1,b,z)}function dn(u,m,v,b,z,G){if(!m)throw Error("Invalid event type");var ft=y(z)?!!z.capture:!!z,Pt=Mi(u);if(Pt||(u[Xe]=Pt=new hn(u)),v=Pt.add(m,v,b,ft,G),v.proxy)return v;if(b=ks(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)gt||(z=ft),z===void 0&&(z=!1),u.addEventListener(m.toString(),b,z);else if(u.attachEvent)u.attachEvent(zn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ks(){function u(v){return m.call(u.src,u.listener,v)}const m=dr;return u}function Oi(u,m,v,b,z){if(Array.isArray(m))for(var G=0;G<m.length;G++)Oi(u,m[G],v,b,z);else b=y(b)?!!b.capture:!!b,v=js(v),u&&u[he]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],v=Tn(G,v,b,z),-1<v&&(Vt(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=Mi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Tn(m,v,b,z)),(v=-1<u?m[u]:null)&&gn(v))}function gn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])je(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(zn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Mi(m))?(je(v,u),v.h==0&&(v.src=null,m[Xe]=null)):Vt(u)}}}function zn(u){return u in Ln?Ln[u]:Ln[u]="on"+u}function dr(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var v=u.listener,b=u.ha||u.src;u.fa&&gn(u),u=v.call(b,m)}return u}function Mi(u){return u=u[Xe],u instanceof hn?u:null}var gr="__closure_events_fn_"+(1e9*Math.random()>>>0);function js(u){return typeof u=="function"?u:(u[gr]||(u[gr]=function(m){return u.handleEvent(m)}),u[gr])}function le(){at.call(this),this.i=new hn(this),this.M=this,this.F=null}X(le,at),le.prototype[he]=!0,le.prototype.removeEventListener=function(u,m,v,b){Oi(this,u,m,v,b)};function Ut(u,m){var v,b=u.F;if(b)for(v=[];b;b=b.F)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var z=m;m=new et(b,u),N(m,z)}if(z=!0,v)for(var G=v.length-1;0<=G;G--){var ft=m.g=v[G];z=Re(ft,b,!0,m)&&z}if(ft=m.g=u,z=Re(ft,b,!0,m)&&z,z=Re(ft,b,!1,m)&&z,v)for(G=0;G<v.length;G++)ft=m.g=v[G],z=Re(ft,b,!1,m)&&z}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],b=0;b<v.length;b++)Vt(v[b]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},le.prototype.L=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Re(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,G=0;G<m.length;++G){var ft=m[G];if(ft&&!ft.da&&ft.capture==v){var Pt=ft.listener,Oe=ft.ha||ft.src;ft.fa&&je(u.i,ft),z=Pt.call(Oe,b)!==!1&&z}}return z&&!b.defaultPrevented}function me(u,m,v){if(typeof u=="function")v&&(u=V(u,v));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function ts(u){u.g=me(()=>{u.g=null,u.i&&(u.i=!1,ts(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Pn extends at{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ts(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(u){at.call(this),this.h=u,this.g={}}X(fi,at);var Ui=[];function Li(u){tt(u.g,function(m,v){this.g.hasOwnProperty(v)&&gn(m)},u),u.g={}}fi.prototype.N=function(){fi.aa.N.call(this),Li(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=g.JSON.stringify,zi=g.JSON.parse,Pi=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function mr(){}mr.prototype.h=null;function es(u){return u.h||(u.h=u.i())}function ns(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function se(){et.call(this,"d")}X(se,et);function Ie(){et.call(this,"c")}X(Ie,et);var oe={},bn=null;function _e(){return bn=bn||new le}oe.La="serverreachability";function we(u){et.call(this,oe.La,u)}X(we,et);function Ve(u){const m=_e();Ut(m,new we(m))}oe.STAT_EVENT="statevent";function ti(u,m){et.call(this,oe.STAT_EVENT,u),this.stat=m}X(ti,et);function Dt(u){const m=_e();Ut(m,new ti(m,u))}oe.Ma="timingevent";function Wt(u,m){et.call(this,oe.Ma,u),this.size=m}X(Wt,et);function Gt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pe(){this.g=!0}pe.prototype.xa=function(){this.g=!1};function ei(u,m,v,b,z,G){u.info(function(){if(u.g)if(G)for(var ft="",Pt=G.split("&"),Oe=0;Oe<Pt.length;Oe++){var Bt=Pt[Oe].split("=");if(1<Bt.length){var He=Bt[0];Bt=Bt[1];var Me=He.split("_");ft=2<=Me.length&&Me[1]=="type"?ft+(He+"="+Bt+"&"):ft+(He+"=redacted&")}}else ft=null;else ft=G;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+m+`
`+v+`
`+ft})}function Bi(u,m,v,b,z,G,ft){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+m+`
`+v+`
`+G+" "+ft})}function Ze(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ni(u,v)+(b?" "+b:"")})}function hi(u,m){u.info(function(){return"TIMEOUT: "+m})}pe.prototype.info=function(){};function ni(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var b=v[u];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ft=1;ft<z.length;ft++)z[ft]=""}}}}return mn(v)}catch{return m}}var pr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function gi(){}X(gi,mr),gi.prototype.g=function(){return new XMLHttpRequest},gi.prototype.i=function(){return{}},di=new gi;function pn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.R=b||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var tl={},qs={};function ii(u,m,v){u.L=1,u.v=ls(Dn(m)),u.m=v,u.P=!0,ji(u,null)}function ji(u,m){u.F=Date.now(),is(u),u.A=Dn(u.v);var v=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),al(v.i,"t",b),u.C=0,v=u.j.J,u.h=new Ee,u.g=Yo(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Pn(V(u.Y,u,u.g),u.O)),m=u.U,v=u.g,b=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ui[0]=z.toString()),z=Ui);for(var G=0;G<z.length;G++){var ft=Jn(v,z[G],b||m.handleEvent,!1,m.h||m);if(!ft)break;m.g[ft.key]=ft}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ve(),ei(u.i,u.u,u.A,u.l,u.R,u.m)}pn.prototype.ca=function(u){u=u.target;const m=this.M;m&&qn(u)==3?m.j():this.Y(u)},pn.prototype.Y=function(u){try{if(u==this.g)t:{const Me=qn(this.g);var m=this.g.Ba();const Xi=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||ko(this.g)))){this.J||Me!=4||m==7||(m==8||0>=Xi?Ve(3):Ve(2)),yr(this);var v=this.g.Z();this.X=v;e:if(Oo(this)){var b=ko(this.g);u="";var z=b.length,G=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),mi(this);var ft="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(G&&m==z-1)});b.length=0,this.h.g+=u,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=v==200,Bi(this.i,this.u,this.A,this.l,this.R,Me,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Oe=this.g;if((Pt=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ct(Pt)){var Bt=Pt;break e}}Bt=null}if(v=Bt)Ze(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rs(this,v);else{this.o=!1,this.s=3,Dt(12),$e(this),mi(this);break t}}if(this.P){v=!0;let Je;for(;!this.J&&this.C<ft.length;)if(Je=Mo(this,ft),Je==qs){Me==4&&(this.s=4,Dt(14),v=!1),Ze(this.i,this.l,null,"[Incomplete Response]");break}else if(Je==tl){this.s=4,Dt(15),Ze(this.i,this.l,ft,"[Invalid Chunk]"),v=!1;break}else Ze(this.i,this.l,Je,null),rs(this,Je);if(Oo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||ft.length!=0||this.h.h||(this.s=1,Dt(16),v=!1),this.o=this.o&&v,!v)Ze(this.i,this.l,ft,"[Invalid Chunked Response]"),$e(this),mi(this);else if(0<ft.length&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.ba&&!He.M&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),ms(He),He.M=!0,Dt(11))}}else Ze(this.i,this.l,ft,null),rs(this,ft);Me==4&&$e(this),this.o&&!this.J&&(Me==4?Qo(this.j,this):(this.o=!1,is(this)))}else lf(this.g),v==400&&0<ft.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),$e(this),mi(this)}}}catch{}finally{}};function Oo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Mo(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?qs:(v=Number(m.substring(v,b)),isNaN(v)?tl:(b+=1,b+v>m.length?qs:(m=m.slice(b,b+v),u.C=b+v,m)))}pn.prototype.cancel=function(){this.J=!0,$e(this)};function is(u){u.S=Date.now()+u.I,Uo(u,u.I)}function Uo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Gt(V(u.ba,u),m)}function yr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}pn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(hi(this.i,this.A),this.L!=2&&(Ve(),Dt(17)),$e(this),this.s=2,mi(this)):Uo(this,this.S-u)};function mi(u){u.j.G==0||u.J||Qo(u.j,u)}function $e(u){yr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Li(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function rs(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||el(v.h,u))){if(!u.K&&el(v.h,u)&&v.G==3){try{var b=v.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ta(v),Js(v);else break t;fl(v),Dt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Gt(V(v.Za,v),6e3));if(1>=Gs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Yi(v,11)}else if((u.K||v.g==u)&&ta(v),!ct(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let Bt=z[m];if(v.T=Bt[0],Bt=Bt[1],v.G==2)if(Bt[0]=="c"){v.K=Bt[1],v.ia=Bt[2];const He=Bt[3];He!=null&&(v.la=He,v.j.info("VER="+v.la));const Me=Bt[4];Me!=null&&(v.Aa=Me,v.j.info("SVER="+v.Aa));const Xi=Bt[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(b=1.5*Xi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Je=u.g;if(Je){const bi=Je.g?Je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var G=b.h;G.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Qs(G,G.h),G.h=null))}if(b.D){const dl=Je.g?Je.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(b.ya=dl,te(b.I,b.D,dl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var ft=u;if(b.qa=Fo(b,b.J?b.ia:null,b.W),ft.K){yn(b.h,ft);var Pt=ft,Oe=b.L;Oe&&(Pt.I=Oe),Pt.B&&(yr(Pt),is(Pt)),b.g=ft}else Ho(b);0<v.i.length&&Ws(v)}else Bt[0]!="stop"&&Bt[0]!="close"||Yi(v,7);else v.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Yi(v,7):ul(v):Bt[0]!="noop"&&v.l&&v.l.ta(Bt),v.v=0)}}Ve(4)}catch{}}var Lo=class{constructor(u,m){this.g=u,this.map=m}};function qi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Gs(u){return u.h?1:u.g?u.g.size:0}function el(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Qs(u,m){u.g?u.g.add(m):u.h=m}function yn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}qi.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return F(u.i)}function nf(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,b=0;b<v;b++)m.push(u[b]);return m}m=[],v=0;for(b in u)m[v++]=u[b];return m}function Ks(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const b in u)m[v++]=b;return m}}}function il(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ks(u),b=nf(u),z=b.length,G=0;G<z;G++)m.call(void 0,b[G],v&&v[G],u)}var ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rf(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var b=u[v].indexOf("="),z=null;if(0<=b){var G=u[v].substring(0,b);z=u[v].substring(b+1)}else G=u[v];m(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function De(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof De){this.h=u.h,as(this,u.j),this.o=u.o,this.g=u.g,vr(this,u.s),this.l=u.l;var m=u.i,v=new Gi;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Hi(this,v),this.m=u.m}else u&&(m=String(u).match(ss))?(this.h=!1,as(this,m[1]||"",!0),this.o=Bn(m[2]||""),this.g=Bn(m[3]||"",!0),vr(this,m[4]),this.l=Bn(m[5]||"",!0),Hi(this,m[6]||"",!0),this.m=Bn(m[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}De.prototype.toString=function(){var u=[],m=this.j;m&&u.push(os(m,rl,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(os(m,rl,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(os(v,v.charAt(0)=="/"?sf:sl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",os(v,Fs)),u.join("")};function Dn(u){return new De(u)}function as(u,m,v){u.j=v?Bn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Hi(u,m,v){m instanceof Gi?(u.i=m,Po(u.i,u.h)):(v||(m=os(m,af)),u.i=new Gi(m,u.h))}function te(u,m,v){u.i.set(m,v)}function ls(u){return te(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Bn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function os(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,zo),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var rl=/[#\/\?@]/g,sl=/[#\?:]/g,sf=/[#\?]/g,af=/[#\?@]/g,Fs=/#/g;function Gi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function kn(u){u.g||(u.g=new Map,u.h=0,u.i&&rf(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Gi.prototype,r.add=function(u,m){kn(this),this.i=null,u=pi(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Qi(u,m){kn(u),m=pi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ki(u,m){return kn(u),m=pi(u,m),u.g.has(m)}r.forEach=function(u,m){kn(this),this.g.forEach(function(v,b){v.forEach(function(z){u.call(m,z,b,this)},this)},this)},r.na=function(){kn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let b=0;b<m.length;b++){const z=u[b];for(let G=0;G<z.length;G++)v.push(m[b])}return v},r.V=function(u){kn(this);let m=[];if(typeof u=="string")Ki(this,u)&&(m=m.concat(this.g.get(pi(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},r.set=function(u,m){return kn(this),this.i=null,u=pi(this,u),Ki(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function al(u,m,v){Qi(u,m),0<v.length&&(u.i=null,u.g.set(pi(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var b=m[v];const G=encodeURIComponent(String(b)),ft=this.V(b);for(b=0;b<ft.length;b++){var z=G;ft[b]!==""&&(z+="="+encodeURIComponent(String(ft[b]))),u.push(z)}}return this.i=u.join("&")};function pi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Po(u,m){m&&!u.j&&(kn(u),u.i=null,u.g.forEach(function(v,b){var z=b.toLowerCase();b!=z&&(Qi(this,b),al(this,z,v))},u)),u.j=m}function us(u,m){const v=new pe;if(g.Image){const b=new Image;b.onload=U(jn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=U(jn,v,"TestLoadImage: error",!1,m,b),b.onabort=U(jn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=U(jn,v,"TestLoadImage: timeout",!1,m,b),g.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function ri(u,m){const v=new pe,b=new AbortController,z=setTimeout(()=>{b.abort(),jn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(G=>{clearTimeout(z),G.ok?jn(v,"TestPingServer: ok",!0,m):jn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),jn(v,"TestPingServer: error",!1,m)})}function jn(u,m,v,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(v)}catch{}}function cs(){this.g=new Pi}function yi(u,m,v){const b=v||"";try{il(u,function(z,G){let ft=z;y(z)&&(ft=mn(z)),m.push(b+G+"="+encodeURIComponent(ft))})}catch(z){throw m.push(b+"type="+encodeURIComponent("_badmap")),z}}function _r(u){this.l=u.Ub||null,this.j=u.eb||!1}X(_r,mr),_r.prototype.g=function(){return new Fi(this.l,this.j)},_r.prototype.i=function(u){return function(){return u}}({});function Fi(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Fi,le),r=Fi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,_i(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ll(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ll(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?vi(this):_i(this),this.readyState==3&&ll(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,vi(this))},r.Qa=function(u){this.g&&(this.response=u,vi(this))},r.ga=function(){this.g&&vi(this)};function vi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,_i(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function _i(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ol(u){let m="";return tt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function qe(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=ol(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):te(u,m,v))}function Xt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(Xt,le);var Ys=/^https?$/i,fs=["POST","PUT"];r=Xt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?es(this.o):es(di),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){Bo(this,G);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)v.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())v.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(fs,m,void 0))||b||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ft]of v)this.g.setRequestHeader(G,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){Bo(this,G)}};function Bo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Xs(u),Ei(u)}function Xs(u){u.A||(u.A=!0,Ut(u,"complete"),Ut(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ut(this,"complete"),Ut(this,"abort"),Ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),Xt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Zs(this):this.bb())},r.bb=function(){Zs(this)};function Zs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||qn(u)!=4||u.Z()!=2)){if(u.u&&qn(u)==4)me(u.Ea,0,u);else if(Ut(u,"readystatechange"),qn(u)==4){u.h=!1;try{const ft=u.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=ft===0){var z=String(u.D).match(ss)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),b=!Ys.test(z?z.toLowerCase():"")}v=b}if(v)Ut(u,"complete"),Ut(u,"success");else{u.m=6;try{var G=2<qn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",Xs(u)}}finally{Ei(u)}}}}function Ei(u,m){if(u.g){hs(u);const v=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ut(u,"ready");try{v.onreadystatechange=b}catch{}}}function hs(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zi(m)}};function ko(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function lf(u){const m={};u=(u.g&&2<=qn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(ct(u[b]))continue;var v=x(u[b]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[z]||[];m[z]=G,G.push(v)}w(m,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function $s(u){this.Aa=0,this.i=[],this.j=new pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,u),this.cb=ds("retryDelaySeedMs",1e4,u),this.Wa=ds("forwardChannelMaxRetries",2,u),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new qi(u&&u.concurrentRequestLimit),this.Da=new cs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=$s.prototype,r.la=8,r.G=1,r.connect=function(u,m,v,b){Dt(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=Fo(this,null,this.W),Ws(this)};function ul(u){if(jo(u),u.G==3){var m=u.U++,v=Dn(u.I);if(te(v,"SID",u.K),te(v,"RID",m),te(v,"TYPE","terminate"),gs(u,v),m=new pn(u,u.j,m),m.L=2,m.v=ls(Dn(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=Yo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),is(m)}Ko(u)}function Js(u){u.g&&(ms(u),u.g.cancel(),u.g=null)}function jo(u){Js(u),u.u&&(g.clearTimeout(u.u),u.u=null),ta(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ws(u){if(!Hs(u.h)&&!u.s){u.s=!0;var m=u.Ga;rt||I(),st||(rt(),st=!0),pt.add(m,u),u.B=0}}function of(u,m){return Gs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Gt(V(u.Ga,u,m),hl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new pn(this,this.j,u);let G=this.o;if(this.S&&(G?(G=A(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=qo(this,z,m),v=Dn(this.I),te(v,"RID",u),te(v,"CVER",22),this.D&&te(v,"X-HTTP-Session-Id",this.D),gs(this,v),G&&(this.O?m="headers="+encodeURIComponent(String(ol(G)))+"&"+m:this.m&&qe(v,this.m,G)),Qs(this.h,z),this.Ua&&te(v,"TYPE","init"),this.P?(te(v,"$req",m),te(v,"SID","null"),z.T=!0,ii(z,v,null)):ii(z,v,m),this.G=2}}else this.G==3&&(u?cl(this,u):this.i.length==0||Hs(this.h)||cl(this))};function cl(u,m){var v;m?v=m.l:v=u.U++;const b=Dn(u.I);te(b,"SID",u.K),te(b,"RID",v),te(b,"AID",u.T),gs(u,b),u.m&&u.o&&qe(b,u.m,u.o),v=new pn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=qo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Qs(u.h,v),ii(v,b,m)}function gs(u,m){u.H&&tt(u.H,function(v,b){te(m,b,v)}),u.l&&il({},function(v,b){te(m,b,v)})}function qo(u,m,v){v=Math.min(u.i.length,v);var b=u.l?V(u.l.Na,u.l,u):null;t:{var z=u.i;let G=-1;for(;;){const ft=["count="+v];G==-1?0<v?(G=z[0].g,ft.push("ofs="+G)):G=0:ft.push("ofs="+G);let Pt=!0;for(let Oe=0;Oe<v;Oe++){let Bt=z[Oe].g;const He=z[Oe].map;if(Bt-=G,0>Bt)G=Math.max(0,z[Oe].g-100),Pt=!1;else try{yi(He,ft,"req"+Bt+"_")}catch{b&&b(He)}}if(Pt){b=ft.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,b}function Ho(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;rt||I(),st||(rt(),st=!0),pt.add(m,u),u.v=0}}function fl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Gt(V(u.Fa,u),hl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Go(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Gt(V(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Js(this),Go(this))};function ms(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Go(u){u.g=new pn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Dn(u.qa);te(m,"RID","rpc"),te(m,"SID",u.K),te(m,"AID",u.T),te(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&te(m,"TO",u.ja),te(m,"TYPE","xmlhttp"),gs(u,m),u.m&&u.o&&qe(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ls(Dn(m)),v.m=null,v.P=!0,ji(v,u)}r.Za=function(){this.C!=null&&(this.C=null,Js(this),fl(this),Dt(19))};function ta(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Qo(u,m){var v=null;if(u.g==m){ta(u),ms(u),u.g=null;var b=2}else if(el(u.h,m))v=m.D,yn(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;b=_e(),Ut(b,new Wt(b,v)),Ws(u)}else Ho(u);else if(z=m.s,z==3||z==0&&0<m.X||!(b==1&&of(u,m)||b==2&&fl(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:Yi(u,5);break;case 4:Yi(u,10);break;case 3:Yi(u,6);break;default:Yi(u,2)}}}function hl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Yi(u,m){if(u.j.info("Error code "+m),m==2){var v=V(u.fb,u),b=u.Xa;const z=!b;b=new De(b||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||as(b,"https"),ls(b),z?us(b.toString(),v):ri(b.toString(),v)}else Dt(2);u.G=0,u.l&&u.l.sa(m),Ko(u),jo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Ko(u){if(u.G=0,u.ka=[],u.l){const m=nl(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function Fo(u,m,v){var b=v instanceof De?Dn(v):new De(v);if(b.g!="")m&&(b.g=m+"."+b.g),vr(b,b.s);else{var z=g.location;b=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var G=new De(null);b&&as(G,b),m&&(G.g=m),z&&vr(G,z),v&&(G.l=v),b=G}return v=u.D,m=u.ya,v&&m&&te(b,v,m),te(b,"VER",u.la),gs(u,b),b}function Yo(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xt(new _r({eb:v})):new Xt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xo(){}r=Xo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ea(){}ea.prototype.g=function(u,m){return new vn(u,m)};function vn(u,m){le.call(this),this.g=new $s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ct(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ct(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ti(this)}X(vn,le),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){ul(this.g)},vn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=mn(u),u=v);m.i.push(new Lo(m.Ya++,u)),m.G==3&&Ws(m)},vn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,vn.aa.N.call(this)};function Zo(u){se.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(Zo,se);function $o(){Ie.call(this),this.status=1}X($o,Ie);function Ti(u){this.g=u}X(Ti,Xo),Ti.prototype.ua=function(){Ut(this.g,"a")},Ti.prototype.ta=function(u){Ut(this.g,new Zo(u))},Ti.prototype.sa=function(u){Ut(this.g,new $o)},Ti.prototype.ra=function(){Ut(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,c0=function(){return new ea},u0=function(){return _e()},o0=oe,Dd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,sc=pr,ki.COMPLETE="complete",l0=ki,ns.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",le.prototype.listen=le.prototype.K,no=ns,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,a0=Xt}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const Tv="@firebase/firestore",bv="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new W_("@firebase/firestore");function Na(){return Ms.logLevel}function ht(r,...t){if(Ms.logLevel<=qt.DEBUG){const i=t.map(Wd);Ms.debug(`Firestore (${Za}): ${r}`,...i)}}function fr(r,...t){if(Ms.logLevel<=qt.ERROR){const i=t.map(Wd);Ms.error(`Firestore (${Za}): ${r}`,...i)}}function Ba(r,...t){if(Ms.logLevel<=qt.WARN){const i=t.map(Wd);Ms.warn(`Firestore (${Za}): ${r}`,...i)}}function Wd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r="Unexpected state"){const t=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: `+r;throw fr(t),new Error(t)}function Zt(r,t){r||At()}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends Xa{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class G1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(cn.UNAUTHENTICATED))}shutdown(){}}class Q1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class K1{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Os,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Os)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string"),new f0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string"),new cn(t)}}class F1{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Y1{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new F1(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X1{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,D1(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0);const a=c=>{c.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,ht("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>a(c))};const o=c=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Av(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Zt(typeof i.token=="string"),this.R=i.token,new Av(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Z1(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Nt(r,t){return r<t?-1:r>t?1:0}function Cd(r,t){let i=0;for(;i<r.length&&i<t.length;){const a=r.codePointAt(i),o=t.codePointAt(i);if(a!==o){if(a<128&&o<128)return Nt(a,o);{const c=h0(),d=$1(c.encode(Sv(r,i)),c.encode(Sv(t,i)));return d!==0?d:Nt(a,o)}}i+=a>65535?2:1}return Nt(r.length,t.length)}function Sv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function $1(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return Nt(r[i],t[i]);return Nt(r.length,t.length)}function ka(r,t,i){return r.length===t.length&&r.every((a,o)=>i(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-62135596800,wv=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(t){return Be.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*wv);return new Be(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new vt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new vt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Rv)throw new vt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new Be(0,0))}static max(){return new St(new Be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="__name__";class Ci{constructor(t,i,a){i===void 0?i=0:i>t.length&&At(),a===void 0?a=t.length-i:a>t.length-i&&At(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ci.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const a=Ci.isNumericId(t),o=Ci.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):Cd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qr.fromString(t.substring(4,t.length-2))}}class fe extends Ci{construct(t,i,a){return new fe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new vt(it.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new fe(i)}static emptyPath(){return new fe([])}}const J1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Ci{construct(t,i,a){return new sn(t,i,a)}static isValidIdentifier(t){return J1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new sn([Dv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new vt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new vt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new vt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new vt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(i)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(fe.fromString(t))}static fromName(t){return new _t(fe.fromString(t).popFirst(5))}static empty(){return new _t(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new fe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=-1;function W1(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(a===1e9?new Be(i+1,0):new Be(i,a));return new Yr(o,_t.empty(),t)}function tR(r){return new Yr(r.readTime,r.key,_o)}class Yr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Yr(St.min(),_t.empty(),_o)}static max(){return new Yr(St.max(),_t.empty(),_o)}}function eR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=_t.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r){if(r.code!==it.FAILED_PRECONDITION||r.message!==nR)throw r;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):W.reject(i)}static resolve(t){return new W((i,a)=>{i(t)})}static reject(t){return new W((i,a)=>{a(t)})}static waitFor(t){return new W((i,a)=>{let o=0,c=0,d=!1;t.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},p=>a(p))}),d=!0,c===o&&i()})}static or(t){let i=W.resolve(!1);for(const a of t)i=i.next(o=>o?W.resolve(o):a());return i}static forEach(t,i){const a=[];return t.forEach((o,c)=>{a.push(i.call(this,o,c))}),this.waitFor(a)}static mapArray(t,i){return new W((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;i(t[y]).next(E=>{d[y]=E,++g,g===c&&a(d)},E=>o(E))}})}static doWhile(t,i){return new W((a,o)=>{const c=()=>{t()===!0?i().next(()=>{c()},o):a()};c()})}}function rR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ja(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}qc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=-1;function Hc(r){return r==null}function bc(r){return r===0&&1/r==-1/0}function sR(r){return typeof r=="number"&&Number.isInteger(r)&&!bc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="";function aR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Cv(t)),t=lR(r.get(i),t);return Cv(t)}function lR(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case g0:i+="";break;default:i+=c}}return i}function Cv(r){return r+g0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ls(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function m0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,i){this.comparator=t,this.root=i||rn.EMPTY}insert(t,i){return new ge(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tc(this.root,t,this.comparator,!0)}}class tc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rn{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??rn.RED,this.left=o??rn.EMPTY,this.right=c??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new rn(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const t=this.left.check();if(t!==this.right.check())throw At();return t+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(t,i,a,o,c){return this}insert(t,i,a){return new rn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Nv(this.data.getIterator())}getIteratorFrom(t){return new Nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new ke(this.comparator);return i.data=t,i}}class Nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new oi([])}unionWith(t){let i=new ke(sn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new oi(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ka(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new p0("Invalid base64 string: "+c):c}}(t);return new an(i)}static fromUint8Array(t){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(t);return new an(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const oR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(r){if(Zt(!!r),typeof r=="string"){let t=0;const i=oR.exec(r);if(Zt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(r.seconds),nanos:Ae(r.nanos)}}function Ae(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zr(r){return typeof r=="string"?an.fromBase64String(r):an.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="server_timestamp",v0="__type__",_0="__previous_value__",E0="__local_write_time__";function eg(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[v0])===null||i===void 0?void 0:i.stringValue)===y0}function Gc(r){const t=r.mapValue.fields[_0];return eg(t)?Gc(t):t}function Eo(r){const t=Xr(r.mapValue.fields[E0].timestampValue);return new Be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,i,a,o,c,d,g,p,y){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const Ac="(default)";class To{constructor(t,i){this.projectId=t,this.database=i||Ac}static empty(){return new To("","")}get isDefaultDatabase(){return this.database===Ac}isEqual(t){return t instanceof To&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="__type__",cR="__max__",ec={mapValue:{}},b0="__vector__",Sc="value";function $r(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?eg(r)?4:hR(r)?9007199254740991:fR(r)?10:11:At()}function Ii(r,t){if(r===t)return!0;const i=$r(r);if(i!==$r(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Eo(r).isEqual(Eo(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Xr(o.timestampValue),g=Xr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Zr(o.bytesValue).isEqual(Zr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return Ae(o.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(o.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Ae(o.integerValue)===Ae(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ae(o.doubleValue),g=Ae(c.doubleValue);return d===g?bc(d)===bc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return ka(r.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(xv(d)!==xv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Ii(d[p],g[p])))return!1;return!0}(r,t);default:return At()}}function bo(r,t){return(r.values||[]).find(i=>Ii(i,t))!==void 0}function ja(r,t){if(r===t)return 0;const i=$r(r),a=$r(t);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=Ae(c.integerValue||c.doubleValue),p=Ae(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return Iv(r.timestampValue,t.timestampValue);case 4:return Iv(Eo(r),Eo(t));case 5:return Cd(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Zr(c),p=Zr(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=Nt(g[y],p[y]);if(E!==0)return E}return Nt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Nt(Ae(c.latitude),Ae(d.latitude));return g!==0?g:Nt(Ae(c.longitude),Ae(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Vv(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,y,E;const S=c.fields||{},V=d.fields||{},U=(g=S[Sc])===null||g===void 0?void 0:g.arrayValue,X=(p=V[Sc])===null||p===void 0?void 0:p.arrayValue,F=Nt(((y=U==null?void 0:U.values)===null||y===void 0?void 0:y.length)||0,((E=X==null?void 0:X.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:Vv(U,X)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===ec.mapValue&&d===ec.mapValue)return 0;if(c===ec.mapValue)return 1;if(d===ec.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const V=Cd(p[S],E[S]);if(V!==0)return V;const U=ja(g[p[S]],y[E[S]]);if(U!==0)return U}return Nt(p.length,E.length)}(r.mapValue,t.mapValue);default:throw At()}}function Iv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=Xr(r),a=Xr(t),o=Nt(i.seconds,a.seconds);return o!==0?o:Nt(i.nanos,a.nanos)}function Vv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=ja(i[o],a[o]);if(c)return c}return Nt(i.length,a.length)}function qa(r){return xd(r)}function xd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Xr(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Zr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return _t.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=xd(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${xd(i.fields[d])}`;return o+"}"}(r.mapValue):At()}function ac(r){switch($r(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gc(r);return t?16+ac(t):16;case 5:return 2*r.stringValue.length;case 6:return Zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,c)=>o+ac(c),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Ls(a.fields,(c,d)=>{o+=c.length+ac(d)}),o}(r.mapValue);default:throw At()}}function Nd(r){return!!r&&"integerValue"in r}function ng(r){return!!r&&"arrayValue"in r}function Ov(r){return!!r&&"nullValue"in r}function Mv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function lc(r){return!!r&&"mapValue"in r}function fR(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[T0])===null||i===void 0?void 0:i.stringValue)===b0}function uo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ls(r.mapValue.fields,(i,a)=>t.mapValue.fields[i]=uo(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=uo(r.arrayValue.values[i]);return t}return Object.assign({},r)}function hR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.value=t}static empty(){return new $n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=uo(i)}setAll(t){let i=sn.emptyPath(),a={},o=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=uo(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Ls(i,(o,c)=>t[o]=c);for(const o of a)delete t[o]}clone(){return new $n(uo(this.value))}}function A0(r){const t=[];return Ls(r.fields,(i,a)=>{const o=new sn([i]);if(lc(a)){const c=A0(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)}),new oi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new fn(t,0,St.min(),St.min(),St.min(),$n.empty(),0)}static newFoundDocument(t,i,a,o){return new fn(t,1,i,St.min(),a,o,0)}static newNoDocument(t,i){return new fn(t,2,i,St.min(),St.min(),$n.empty(),0)}static newUnknownDocument(t,i){return new fn(t,3,i,St.min(),St.min(),$n.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,i){this.position=t,this.inclusive=i}}function Uv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=_t.comparator(_t.fromName(d.referenceValue),i.key):a=ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Lv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ii(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,i="asc"){this.field=t,this.dir=i}}function dR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{}class Pe extends S0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new mR(t,i,a):i==="array-contains"?new vR(t,a):i==="in"?new _R(t,a):i==="not-in"?new ER(t,a):i==="array-contains-any"?new TR(t,a):new Pe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new pR(t,a):new yR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ja(i,this.value)):i!==null&&$r(this.value)===$r(i)&&this.matchesComparison(ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends S0{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new Vi(t,i)}matches(t){return R0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function R0(r){return r.op==="and"}function w0(r){return gR(r)&&R0(r)}function gR(r){for(const t of r.filters)if(t instanceof Vi)return!1;return!0}function Id(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+qa(r.value);if(w0(r))return r.filters.map(t=>Id(t)).join(",");{const t=r.filters.map(i=>Id(i)).join(",");return`${r.op}(${t})`}}function D0(r,t){return r instanceof Pe?function(a,o){return o instanceof Pe&&a.op===o.op&&a.field.isEqual(o.field)&&Ii(a.value,o.value)}(r,t):r instanceof Vi?function(a,o){return o instanceof Vi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((c,d,g)=>c&&D0(d,o.filters[g]),!0):!1}(r,t):void At()}function C0(r){return r instanceof Pe?function(i){return`${i.field.canonicalString()} ${i.op} ${qa(i.value)}`}(r):r instanceof Vi?function(i){return i.op.toString()+" {"+i.getFilters().map(C0).join(" ,")+"}"}(r):"Filter"}class mR extends Pe{constructor(t,i,a){super(t,i,a),this.key=_t.fromName(a.referenceValue)}matches(t){const i=_t.comparator(t.key,this.key);return this.matchesComparison(i)}}class pR extends Pe{constructor(t,i){super(t,"in",i),this.keys=x0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class yR extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=x0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function x0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>_t.fromName(a.referenceValue))}class vR extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return ng(i)&&bo(i.arrayValue,this.value)}}class _R extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&bo(this.value.arrayValue,i)}}class ER extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!bo(this.value.arrayValue,i)}}class TR extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!ng(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>bo(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function zv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new bR(r,t,i,a,o,c,d)}function ig(r){const t=wt(r);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>Id(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),Hc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>qa(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>qa(a)).join(",")),t.le=i}return t.le}function rg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!dR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!D0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Lv(r.startAt,t.startAt)&&Lv(r.endAt,t.endAt)}function Vd(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function AR(r,t,i,a,o,c,d,g){return new Qc(r,t,i,a,o,c,d,g)}function sg(r){return new Qc(r)}function Pv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function SR(r){return r.collectionGroup!==null}function co(r){const t=wt(r);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ke(sn.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new wc(c,a))}),i.has(sn.keyField().canonicalString())||t.he.push(new wc(sn.keyField(),a))}return t.he}function xi(r){const t=wt(r);return t.Pe||(t.Pe=RR(t,co(r))),t.Pe}function RR(r,t){if(r.limitType==="F")return zv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new wc(o.field,c)});const i=r.endAt?new Rc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Rc(r.startAt.position,r.startAt.inclusive):null;return zv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Od(r,t,i){return new Qc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Kc(r,t){return rg(xi(r),xi(t))&&r.limitType===t.limitType}function N0(r){return`${ig(xi(r))}|lt:${r.limitType}`}function Ia(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>C0(o)).join(", ")}]`),Hc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>qa(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>qa(o)).join(",")),`Target(${a})`}(xi(r))}; limitType=${r.limitType})`}function Fc(r,t){return t.isFoundDocument()&&function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):_t.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,t)&&function(a,o){for(const c of co(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(a,o){return!(a.startAt&&!function(d,g,p){const y=Uv(d,g,p);return d.inclusive?y<=0:y<0}(a.startAt,co(a),o)||a.endAt&&!function(d,g,p){const y=Uv(d,g,p);return d.inclusive?y>=0:y>0}(a.endAt,co(a),o))}(r,t)}function wR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function I0(r){return(t,i)=>{let a=!1;for(const o of co(r)){const c=DR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function DR(r,t,i){const a=r.field.isKeyField()?_t.comparator(t.key,i.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?ja(p,y):At()}(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return At()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ls(this.inner,(i,a)=>{for(const[o,c]of a)t(o,c)})}isEmpty(){return m0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new ge(_t.comparator);function hr(){return CR}const V0=new ge(_t.comparator);function io(...r){let t=V0;for(const i of r)t=t.insert(i.key,i);return t}function O0(r){let t=V0;return r.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function Vs(){return fo()}function M0(){return fo()}function fo(){return new zs(r=>r.toString(),(r,t)=>r.isEqual(t))}const xR=new ge(_t.comparator),NR=new ke(_t.comparator);function Lt(...r){let t=NR;for(const i of r)t=t.add(i);return t}const IR=new ke(Nt);function VR(){return IR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(t)?"-0":t}}function U0(r){return{integerValue:""+r}}function OR(r,t){return sR(t)?U0(t):ag(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this._=void 0}}function MR(r,t,i){return r instanceof Dc?function(o,c){const d={fields:{[v0]:{stringValue:y0},[E0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&eg(c)&&(c=Gc(c)),c&&(d.fields[_0]=c),{mapValue:d}}(i,t):r instanceof Ao?z0(r,t):r instanceof So?P0(r,t):function(o,c){const d=L0(o,c),g=Bv(d)+Bv(o.Ie);return Nd(d)&&Nd(o.Ie)?U0(g):ag(o.serializer,g)}(r,t)}function UR(r,t,i){return r instanceof Ao?z0(r,t):r instanceof So?P0(r,t):i}function L0(r,t){return r instanceof Cc?function(a){return Nd(a)||function(c){return!!c&&"doubleValue"in c}(a)}(t)?t:{integerValue:0}:null}class Dc extends Yc{}class Ao extends Yc{constructor(t){super(),this.elements=t}}function z0(r,t){const i=B0(t);for(const a of r.elements)i.some(o=>Ii(o,a))||i.push(a);return{arrayValue:{values:i}}}class So extends Yc{constructor(t){super(),this.elements=t}}function P0(r,t){let i=B0(t);for(const a of r.elements)i=i.filter(o=>!Ii(o,a));return{arrayValue:{values:i}}}class Cc extends Yc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function Bv(r){return Ae(r.integerValue||r.doubleValue)}function B0(r){return ng(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function LR(r,t){return r.field.isEqual(t.field)&&function(a,o){return a instanceof Ao&&o instanceof Ao||a instanceof So&&o instanceof So?ka(a.elements,o.elements,Ii):a instanceof Cc&&o instanceof Cc?Ii(a.Ie,o.Ie):a instanceof Dc&&o instanceof Dc}(r.transform,t.transform)}class zR{constructor(t,i){this.version=t,this.transformResults=i}}class ur{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ur}static exists(t){return new ur(void 0,t)}static updateTime(t){return new ur(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function oc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Xc{}function k0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new q0(r.key,ur.none()):new xo(r.key,r.data,ur.none());{const i=r.data,a=$n.empty();let o=new ke(sn.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Ps(r.key,a,new oi(o.toArray()),ur.none())}}function PR(r,t,i){r instanceof xo?function(o,c,d){const g=o.value.clone(),p=jv(o.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,i):r instanceof Ps?function(o,c,d){if(!oc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=jv(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(j0(o)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function ho(r,t,i,a){return r instanceof xo?function(c,d,g,p){if(!oc(c.precondition,d))return g;const y=c.value.clone(),E=qv(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,t,i,a):r instanceof Ps?function(c,d,g,p){if(!oc(c.precondition,d))return g;const y=qv(c.fieldTransforms,p,d),E=d.data;return E.setAll(j0(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,t,i,a):function(c,d,g){return oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,i)}function BR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=L0(a.transform,o||null);c!=null&&(i===null&&(i=$n.empty()),i.set(a.field,c))}return i||null}function kv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ka(a,o,(c,d)=>LR(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xo extends Xc{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ps extends Xc{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function j0(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}}),t}function jv(r,t,i){const a=new Map;Zt(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,UR(d,g,i[o]))}return a}function qv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,MR(c,d,t))}return a}class q0 extends Xc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kR extends Xc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&PR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=ho(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=ho(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=M0();return this.mutations.forEach(o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const p=k0(d,g);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(St.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Lt())}isEqual(t){return this.batchId===t.batchId&&ka(this.mutations,t.mutations,(i,a)=>kv(i,a))&&ka(this.baseMutations,t.baseMutations,(i,a)=>kv(i,a))}}class lg{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Zt(t.mutations.length===a.length);let o=function(){return xR}();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new lg(t,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,jt;function GR(r){switch(r){case it.OK:return At();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return At()}}function H0(r){if(r===void 0)return fr("GRPC error has no .code"),it.UNKNOWN;switch(r){case Ne.OK:return it.OK;case Ne.CANCELLED:return it.CANCELLED;case Ne.UNKNOWN:return it.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return it.INTERNAL;case Ne.UNAVAILABLE:return it.UNAVAILABLE;case Ne.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Ne.NOT_FOUND:return it.NOT_FOUND;case Ne.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Ne.ABORTED:return it.ABORTED;case Ne.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Ne.DATA_LOSS:return it.DATA_LOSS;default:return At()}}(jt=Ne||(Ne={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new Qr([4294967295,4294967295],0);function Hv(r){const t=h0().encode(r),i=new s0;return i.update(t),new Uint8Array(i.digest())}function Gv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qr([i,a],0),new Qr([o,c],0)]}class og{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ro(`Invalid padding: ${i}`);if(a<0)throw new ro(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new ro(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Qr.fromNumber(this.Ee)}Ae(t,i,a){let o=t.add(i.multiply(Qr.fromNumber(a)));return o.compare(QR)===1&&(o=new Qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=Hv(t),[a,o]=Gv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(a,o,c);if(!this.Re(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new og(c,o,i);return a.forEach(g=>d.insert(g)),d}insert(t){if(this.Ee===0)return;const i=Hv(t),[a,o]=Gv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(a,o,c);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,No.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Zc(St.min(),o,new ge(Nt),hr(),Lt())}}class No{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new No(a,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t,i,a,o){this.me=t,this.removedTargetIds=i,this.key=a,this.fe=o}}class G0{constructor(t,i){this.targetId=t,this.ge=i}}class Q0{constructor(t,i,a=an.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Qv{constructor(){this.pe=0,this.ye=Kv(),this.we=an.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Lt(),i=Lt(),a=Lt();return this.ye.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:At()}}),new No(this.we,this.Se,t,i,a)}Me(){this.be=!1,this.ye=Kv()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Zt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class KR{constructor(t){this.ke=t,this.qe=new Map,this.Qe=hr(),this.$e=nc(),this.Ue=nc(),this.Ke=new ge(Nt)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const a=this.He(i);switch(t.state){case 0:this.Je(i)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(t.resumeToken));break;default:At()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((a,o)=>{this.Je(o)&&i(o)})}Ze(t){const i=t.targetId,a=t.ge.count,o=this.Xe(i);if(o){const c=o.target;if(Vd(c))if(a===0){const d=new _t(c.path);this.ze(i,d,fn.newNoDocument(d,St.min()))}else Zt(a===1);else{const d=this.et(i);if(d!==a){const g=this.tt(t),p=g?this.nt(g,t,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Zr(a).toUint8Array()}catch(p){if(p instanceof p0)return Ba("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new og(d,o,c)}catch(p){return Ba(p instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,i,a){return i.ge.count===a-this.st(t,i.targetId)?0:2}st(t,i){const a=this.ke.getRemoteKeysForTarget(i);let o=0;return a.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(i,c,null),o++)}),o}ot(t){const i=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&Vd(g.target)){const p=new _t(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,fn.newNoDocument(p,t))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let a=Lt();this.Ue.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const o=new Zc(t,i,this.Ke,this.Qe,a);return this.Qe=hr(),this.$e=nc(),this.Ue=nc(),this.Ke=new ge(Nt),o}Ge(t,i){if(!this.Je(t))return;const a=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,a){if(!this.Je(t))return;const o=this.He(t);this.ut(t,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new Qv,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new ke(Nt),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new ke(Nt),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Qv),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function nc(){return new ge(_t.comparator)}function Kv(){return new ge(_t.comparator)}const FR={asc:"ASCENDING",desc:"DESCENDING"},YR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XR={and:"AND",or:"OR"};class ZR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Md(r,t){return r.useProto3Json||Hc(t)?t:{value:t}}function xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function K0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function $R(r,t){return xc(r,t.toTimestamp())}function Ni(r){return Zt(!!r),St.fromTimestamp(function(i){const a=Xr(i);return new Be(a.seconds,a.nanos)}(r))}function ug(r,t){return Ud(r,t).canonicalString()}function Ud(r,t){const i=function(o){return new fe(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function F0(r){const t=fe.fromString(r);return Zt(J0(t)),t}function Ld(r,t){return ug(r.databaseId,t.path)}function gd(r,t){const i=F0(t);if(i.get(1)!==r.databaseId.projectId)throw new vt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new vt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new _t(X0(i))}function Y0(r,t){return ug(r.databaseId,t)}function JR(r){const t=F0(r);return t.length===4?fe.emptyPath():X0(t)}function zd(r){return new fe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function X0(r){return Zt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Fv(r,t,i){return{name:Ld(r,t),fields:i.value.mapValue.fields}}function WR(r,t){let i;if("targetChange"in t){t.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:At()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Zt(E===void 0||typeof E=="string"),an.fromBase64String(E||"")):(Zt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),an.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(y){const E=y.code===void 0?it.UNKNOWN:H0(y.code);return new vt(E,y.message||"")}(d);i=new Q0(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=gd(r,a.document.name),c=Ni(a.document.updateTime),d=a.document.createTime?Ni(a.document.createTime):St.min(),g=new $n({mapValue:{fields:a.document.fields}}),p=fn.newFoundDocument(o,c,d,g),y=a.targetIds||[],E=a.removedTargetIds||[];i=new uc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=gd(r,a.document),c=a.readTime?Ni(a.readTime):St.min(),d=fn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new uc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=gd(r,a.document),c=a.removedTargetIds||[];i=new uc([],c,o,null)}else{if(!("filter"in t))return At();{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new HR(o,c),g=a.targetId;i=new G0(g,d)}}return i}function tw(r,t){let i;if(t instanceof xo)i={update:Fv(r,t.key,t.value)};else if(t instanceof q0)i={delete:Ld(r,t.key)};else if(t instanceof Ps)i={update:Fv(r,t.key,t.data),updateMask:uw(t.fieldMask)};else{if(!(t instanceof kR))return At();i={verify:Ld(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(c,d){const g=d.transform;if(g instanceof Dc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof So)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Cc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw At()}(0,a))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:$R(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:At()}(r,t.precondition)),i}function ew(r,t){return r&&r.length>0?(Zt(t!==void 0),r.map(i=>function(o,c){let d=o.updateTime?Ni(o.updateTime):Ni(c);return d.isEqual(St.min())&&(d=Ni(c)),new zR(d,o.transformResults||[])}(i,t))):[]}function nw(r,t){return{documents:[Y0(r,t.path)]}}function iw(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Y0(r,o);const c=function(y){if(y.length!==0)return $0(Vi.create(y,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(V){return{field:Va(V.field),direction:aw(V.dir)}}(E))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Md(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:i,parent:o}}function rw(r){let t=JR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Zt(a===1);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=function(S){const V=Z0(S);return V instanceof Vi&&w0(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(V=>function(X){return new wc(Oa(X.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(V))}(i.orderBy));let g=null;i.limit&&(g=function(S){let V;return V=typeof S=="object"?S.value:S,Hc(V)?null:V}(i.limit));let p=null;i.startAt&&(p=function(S){const V=!!S.before,U=S.values||[];return new Rc(U,V)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const V=!S.before,U=S.values||[];return new Rc(U,V)}(i.endAt)),AR(t,o,d,c,g,"F",p,y)}function sw(r,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function Z0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Oa(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Oa(i.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Oa(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Oa(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});default:return At()}}(r):r.fieldFilter!==void 0?function(i){return Pe.create(Oa(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Vi.create(i.compositeFilter.filters.map(a=>Z0(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At()}}(i.compositeFilter.op))}(r):At()}function aw(r){return FR[r]}function lw(r){return YR[r]}function ow(r){return XR[r]}function Va(r){return{fieldPath:r.canonicalString()}}function Oa(r){return sn.fromServerFormat(r.fieldPath)}function $0(r){return r instanceof Pe?function(i){if(i.op==="=="){if(Mv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NAN"}};if(Ov(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Mv(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NAN"}};if(Ov(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(i.field),op:lw(i.op),value:i.value}}}(r):r instanceof Vi?function(i){const a=i.getFilters().map(o=>$0(o));return a.length===1?a[0]:{compositeFilter:{op:ow(i.op),filters:a}}}(r):At()}function uw(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function J0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,i,a,o,c=St.min(),d=St.min(),g=an.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t){this.Tt=t}}function fw(r){const t=rw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Od(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.Tn=new dw}addToCollectionParentIndex(t,i){return this.Tn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(Yr.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(Yr.min())}updateCollectionGroup(t,i,a){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class dw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new ke(fe.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new ke(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W0=41943040;class wn{static withCacheSize(t){return new wn(t,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(W0,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Ha(0)}static Kn(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="LruGarbageCollector",gw=1048576;function Zv([r,t],[i,a]){const o=Nt(r,i);return o===0?Nt(t,a):o}class mw{constructor(t){this.Hn=t,this.buffer=new ke(Zv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Zv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class pw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ht(Xv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ja(i)?ht(Xv,"Ignoring IndexedDB error during garbage collection: ",i):await $a(i)}await this.er(3e5)})}}class yw{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return W.resolve(qc.ae);const a=new mw(i);return this.tr.forEachTarget(t,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.tr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Yv)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yv):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let a,o,c,d,g,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(a=S,g=Date.now(),this.removeTargets(t,a,i))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(S=>(y=Date.now(),Na()<=qt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function vw(r,t){return new yw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.changes=new zs(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(a!==null&&ho(a.mutation,o,oi.empty(),Be.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Lt()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Lt()){const o=Vs();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,a).next(c=>{let d=io();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const a=Vs();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Lt()))}populateOverlays(t,i,a){const o=[];return a.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,a,o){let c=hr();const d=fo(),g=function(){return fo()}();return i.forEach((p,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ps)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),ho(E.mutation,y,E.mutation.getFieldMask(),Be.now())):d.set(y.key,oi.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var S;return g.set(y,new Ew(E,(S=d.get(y))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(t,i){const a=fo();let o=new ge((d,g)=>d-g),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=a.get(p)||oi.empty();E=g.applyToLocalView(y,E),a.set(p,E);const S=(o.get(g.batchId)||Lt()).add(p);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,S=M0();E.forEach(V=>{if(!c.has(V)){const U=k0(i.get(V),a.get(V));U!==null&&S.set(V,U),c=c.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return W.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,o){return function(d){return _t.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):SR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):W.resolve(Vs());let g=_o,p=c;return d.next(y=>W.forEach(y,(E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next(V=>{p=p.insert(E,V)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,p,y,Lt())).next(E=>({batchId:g,changes:O0(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new _t(i)).next(a=>{let o=io();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=io();return this.indexManager.getCollectionParents(t,c).next(g=>W.forEach(g,p=>{const y=function(S,V){return new Qc(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next(E=>{E.forEach((S,V)=>{d=d.insert(S,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,fn.newInvalidDocument(E)))});let g=io();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&ho(E.mutation,y,oi.empty(),Be.now()),Fc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return W.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}}(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:fw(o.bundledQuery),readTime:Ni(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.overlays=new ge(_t.comparator),this.Rr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Vs();return W.forEach(i,o=>this.getOverlay(t,o).next(c=>{c!==null&&a.set(o,c)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((o,c)=>{this.Et(t,i,c)}),W.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(a)),W.resolve()}getOverlaysForCollection(t,i,a){const o=Vs(),c=i.length+1,d=new _t(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>a&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ge((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=c.get(y.largestBatchId);E===null&&(E=Vs(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=Vs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=o)););return W.resolve(g)}Et(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new qR(i,a));let c=this.Rr.get(i);c===void 0&&(c=Lt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.Vr=new ke(Fe.mr),this.gr=new ke(Fe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const a=new Fe(t,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.wr(new Fe(t,i))}Sr(t,i){t.forEach(a=>this.removeReference(a,i))}br(t){const i=new _t(new fe([])),a=new Fe(i,t),o=new Fe(i,t+1),c=[];return this.gr.forEachInRange([a,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new _t(new fe([])),a=new Fe(i,t),o=new Fe(i,t+1);let c=Lt();return this.gr.forEachInRange([a,o],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Fe(t,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Fe{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return _t.comparator(t.key,i.key)||Nt(t.Cr,i.Cr)}static pr(t,i){return Nt(t.Cr,i.Cr)||_t.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new ke(Fe.mr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Fe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,i){return W.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Nr(a),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?tg:this.Fr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Fe(i,0),o=new Fe(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([a,o],d=>{const g=this.Or(d.Cr);c.push(g)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ke(Nt);return i.forEach(o=>{const c=new Fe(o,0),d=new Fe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{a=a.add(g.Cr)})}),W.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;_t.isDocumentKey(c)||(c=c.child(""));const d=new Fe(new _t(c),0);let g=new ke(Nt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Cr)),!0)},d),W.resolve(this.Br(g))}Br(t){const i=[];return t.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Zt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return W.forEach(i.mutations,o=>{const c=new Fe(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,i){const a=new Fe(i,0),o=this.Mr.firstAfterOrEqual(a);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t){this.kr=t,this.docs=function(){return new ge(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():fn.newInvalidDocument(i))}getEntries(t,i){let a=hr();return i.forEach(o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():fn.newInvalidDocument(o))}),W.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=hr();const d=i.path,g=new _t(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||eR(tR(E),a)<=0||(o.has(E.key)||Fc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(t,i,a,o){At()}qr(t,i){return W.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new Dw(this)}getSize(t){return W.resolve(this.size)}}class Dw extends _w{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(a)}),W.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t){this.persistence=t,this.Qr=new zs(i=>ig(i),rg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.$r=0,this.Ur=new cg,this.targetCount=0,this.Kr=Ha.Un()}forEachTarget(t,i){return this.Qr.forEach((a,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),W.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new Ha(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.zn(i),W.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),W.waitFor(c).next(()=>o)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const a=this.Qr.get(i)||null;return W.resolve(a)}addMatchingKeys(t,i,a){return this.Ur.yr(i,a),W.resolve()}removeMatchingKeys(t,i,a){this.Ur.Sr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(t,d))}),W.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),W.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Ur.vr(i);return W.resolve(a)}containsKey(t,i){return W.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new qc(0),this.zr=!1,this.zr=!0,this.jr=new Sw,this.referenceDelegate=t(this),this.Hr=new Cw(this),this.indexManager=new hw,this.remoteDocumentCache=function(o){return new ww(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new cw(i),this.Yr=new bw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Aw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.Wr[t.toKey()];return a||(a=new Rw(i,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,a){ht("MemoryPersistence","Starting transaction:",t);const o=new xw(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(t,i){return W.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,i)))}}class xw extends iR{constructor(t){super(),this.currentSequenceNumber=t}}class fg{constructor(t){this.persistence=t,this.ti=new cg,this.ni=null}static ri(t){return new fg(t)}get ii(){if(this.ni)return this.ni;throw At()}addReference(t,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),W.resolve()}removeReference(t,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),W.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>a.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,a=>{const o=_t.fromPath(a);return this.si(t,o).next(c=>{c||i.removeEntry(o,St.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return W.or([()=>W.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class Nc{constructor(t,i){this.persistence=t,this.oi=new zs(a=>aR(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=vw(this,i)}static ri(t,i){return new Nc(t,i)}Zr(){}Xr(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(o=>a+o))}sr(t){let i=0;return this.rr(t,a=>{i++}).next(()=>i)}rr(t,i){return W.forEach(this.oi,(a,o)=>this.ar(t,a,o).next(c=>c?W.resolve():i(o)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(t,d=>this.ar(t,d,i).next(g=>{g||(a++,c.removeEntry(d,St.min()))})).next(()=>c.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.oi.set(a,t.currentSequenceNumber),W.resolve()}removeReference(t,i,a){return this.oi.set(a,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),W.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=ac(t.data.value)),i}ar(t,i,a){return W.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.oi.get(i);return W.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(t,i){let a=Lt(),o=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new hg(t,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return SS()?8:rR(bS())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,i,o,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Nw;return this._s(t,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(t,i,d,g.size)})}).next(()=>c.result)}us(t,i,a,o){return a.documentReadCount<this.es?(Na()<=qt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Ia(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Na()<=qt.DEBUG&&ht("QueryEngine","Query:",Ia(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(Na()<=qt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Ia(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(i))):W.resolve())}rs(t,i){if(Pv(i))return W.resolve(null);let a=xi(i);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Od(i,null,"F"),a=xi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(c=>{const d=Lt(...c);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,a).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(t,Od(i,null,"F")):this.hs(t,y,i,p)}))})))}ss(t,i,a,o){return Pv(i)||o.isEqual(St.min())?W.resolve(null):this.ns.getDocuments(t,a).next(c=>{const d=this.cs(i,c);return this.ls(i,d,a,o)?W.resolve(null):(Na()<=qt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ia(i)),this.hs(t,d,i,W1(o,_o)).next(g=>g))})}cs(t,i){let a=new ke(I0(t));return i.forEach((o,c)=>{Fc(t,c)&&(a=a.add(c))}),a}ls(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(t,i,a){return Na()<=qt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Ia(i)),this.ns.getDocumentsMatchingQuery(t,i,Yr.min(),a)}hs(t,i,a,o){return this.ns.getDocumentsMatchingQuery(t,a,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="LocalStore",Vw=3e8;class Ow{constructor(t,i,a,o){this.persistence=t,this.Ps=i,this.serializer=o,this.Ts=new ge(Nt),this.Is=new zs(c=>ig(c),rg),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Tw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function Mw(r,t,i,a){return new Ow(r,t,i,a)}async function eE(r,t){const i=wt(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(c=>(o=c,i.As(t),i.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],g=[];let p=Lt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(a,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function Uw(r,t){const i=wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const S=y.batch,V=S.keys();let U=W.resolve();return V.forEach(X=>{U=U.next(()=>E.getEntry(p,X)).next(F=>{const H=y.docVersions.get(X);Zt(H!==null),F.version.compareTo(H)<0&&(S.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))})}),U.next(()=>g.mutationQueue.removeMutationBatch(p,S))}(i,a,t,c).next(()=>c.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let p=Lt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(t))).next(()=>i.localDocuments.getDocuments(a,o))})}function nE(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function Lw(r,t){const i=wt(r),a=t.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];t.targetChanges.forEach((E,S)=>{const V=o.get(S);if(!V)return;g.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,S)));let U=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?U=U.withResumeToken(an.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,a)),o=o.insert(S,U),function(F,H,ot){return F.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=Vw?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0}(V,U,E)&&g.push(i.Hr.updateTargetData(c,U))});let p=hr(),y=Lt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(zw(c,d,t.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!a.isEqual(St.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,a));g.push(E)}return W.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function zw(r,t,i){let a=Lt(),o=Lt();return i.forEach(c=>a=a.add(c)),t.getEntries(r,a).next(c=>{let d=hr();return i.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):ht(dg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function Pw(r,t){const i=wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=tg),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function Bw(r,t){const i=wt(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Hr.getTargetData(a,t).next(c=>c?(o=c,W.resolve(o)):i.Hr.allocateTargetId(a).next(d=>(o=new qr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(t,a.targetId)),a})}async function Pd(r,t,i){const a=wt(r),o=a.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ja(d))throw d;ht(dg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ts=a.Ts.remove(t),a.Is.delete(o.target)}function $v(r,t,i){const a=wt(r);let o=St.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const S=wt(p),V=S.Is.get(E);return V!==void 0?W.resolve(S.Ts.get(V)):S.Hr.getTargetData(y,E)}(a,d,xi(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,t,i?o:St.min(),i?c:Lt())).next(g=>(kw(a,wR(t),g),{documents:g,gs:c})))}function kw(r,t,i){let a=r.Es.get(t)||St.min();i.forEach((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),r.Es.set(t,a)}class Jv{constructor(){this.activeTargetIds=VR()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jw{constructor(){this.ho=new Jv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,a){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Jv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="ConnectivityMonitor";class t_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ht(Wv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ht(Wv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic=null;function Bd(){return ic===null?ic=function(){return 268435456+Math.round(2147483648*Math.random())}():ic++,"0x"+ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="RestConnection",Hw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gw{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Ac?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(t,i,a,o,c){const d=Bd(),g=this.bo(t,i.toUriEncodedString());ht(md,`Sending RPC '${t}' ${d}:`,g,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(t,g,p,a).then(y=>(ht(md,`Received RPC '${t}' ${d}: `,y),y),y=>{throw Ba(md,`RPC '${t}' ${d} failed with error: `,y,"url: ",g,"request:",a),y})}Co(t,i,a,o,c,d){return this.So(t,i,a,o,c)}Do(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Za}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>t[c]=o),a&&a.headers.forEach((o,c)=>t[c]=o)}bo(t,i){const a=Hw[t];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class Kw extends Gw{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,a,o){const c=Bd();return new Promise((d,g)=>{const p=new a0;p.setWithCredentials(!0),p.listenOnce(l0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case sc.NO_ERROR:const E=p.getResponseJson();ht(un,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case sc.TIMEOUT:ht(un,`RPC '${t}' ${c} timed out`),g(new vt(it.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:const S=p.getStatus();if(ht(un,`RPC '${t}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let V=p.getResponseJson();Array.isArray(V)&&(V=V[0]);const U=V==null?void 0:V.error;if(U&&U.status&&U.message){const X=function(H){const ot=H.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(ot)>=0?ot:it.UNKNOWN}(U.status);g(new vt(X,U.message))}else g(new vt(it.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new vt(it.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{ht(un,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(o);ht(un,`RPC '${t}' ${c} sending request:`,o),p.send(i,"POST",y,a,15)})}Wo(t,i,a){const o=Bd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=c0(),g=u0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const E=c.join("");ht(un,`Creating RPC '${t}' stream ${o}: ${E}`,p);const S=d.createWebChannel(E,p);let V=!1,U=!1;const X=new Qw({Fo:H=>{U?ht(un,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(V||(ht(un,`Opening RPC '${t}' stream ${o} transport.`),S.open(),V=!0),ht(un,`RPC '${t}' stream ${o} sending:`,H),S.send(H))},Mo:()=>S.close()}),F=(H,ot,ct)=>{H.listen(ot,Q=>{try{ct(Q)}catch(ut){setTimeout(()=>{throw ut},0)}})};return F(S,no.EventType.OPEN,()=>{U||(ht(un,`RPC '${t}' stream ${o} transport opened.`),X.Qo())}),F(S,no.EventType.CLOSE,()=>{U||(U=!0,ht(un,`RPC '${t}' stream ${o} transport closed`),X.Uo())}),F(S,no.EventType.ERROR,H=>{U||(U=!0,Ba(un,`RPC '${t}' stream ${o} transport errored:`,H),X.Uo(new vt(it.UNAVAILABLE,"The operation could not be completed")))}),F(S,no.EventType.MESSAGE,H=>{var ot;if(!U){const ct=H.data[0];Zt(!!ct);const Q=ct,ut=(Q==null?void 0:Q.error)||((ot=Q[0])===null||ot===void 0?void 0:ot.error);if(ut){ht(un,`RPC '${t}' stream ${o} received error:`,ut);const nt=ut.status;let tt=function(R){const N=Ne[R];if(N!==void 0)return H0(N)}(nt),w=ut.message;tt===void 0&&(tt=it.INTERNAL,w="Unknown error status: "+nt+" with message "+ut.message),U=!0,X.Uo(new vt(tt,w)),S.close()}else ht(un,`RPC '${t}' stream ${o} received:`,ct),X.Ko(ct)}}),F(g,o0.STAT_EVENT,H=>{H.stat===Dd.PROXY?ht(un,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Dd.NOPROXY&&ht(un,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{X.$o()},0),X}}function pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(r){return new ZR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=a,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="PersistentStream";class rE{constructor(t,i,a,o,c,d,g,p){this.Ti=t,this.n_=a,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new iE(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===it.RESOURCE_EXHAUSTED?(fr(i.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{t(()=>{const o=new vt(it.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(t,i){const a=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ht(e_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(ht(e_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fw extends rE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=WR(this.serializer,t),a=function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Ni(d.readTime):St.min()}(t);return this.listener.p_(i,a)}y_(t){const i={};i.database=zd(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=Vd(p)?{documents:nw(c,p)}:{query:iw(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=K0(c,d.resumeToken);const y=Md(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=xc(c,d.snapshotVersion.toTimestamp());const y=Md(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,t);const a=sw(this.serializer,t);a&&(i.labels=a),this.I_(i)}w_(t){const i={};i.database=zd(this.serializer),i.removeTarget=t,this.I_(i)}}class Yw extends rE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Zt(!!t.streamToken),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Zt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=ew(t.writeResults,t.commitTime),a=Ni(t.commitTime);return this.listener.v_(a,i)}C_(){const t={};t.database=zd(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>tw(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{}class Zw extends Xw{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new vt(it.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(t,Ud(i,a),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new vt(it.UNKNOWN,c.toString())})}Co(t,i,a,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,Ud(i,a),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new vt(it.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $w{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(fr(i),this.N_=!1):ht("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class Jw{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{a.enqueueAndForget(async()=>{Bs(this)&&(ht(Us,"Restarting streams for network reachability change."),await async function(p){const y=wt(p);y.W_.add(4),await Io(y),y.j_.set("Unknown"),y.W_.delete(4),await Jc(y)}(this))})}),this.j_=new $w(a,o)}}async function Jc(r){if(Bs(r))for(const t of r.G_)await t(!0)}async function Io(r){for(const t of r.G_)await t(!1)}function sE(r,t){const i=wt(r);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),yg(i)?pg(i):Wa(i).c_()&&mg(i,t))}function gg(r,t){const i=wt(r),a=Wa(i);i.K_.delete(t),a.c_()&&aE(i,t),i.K_.size===0&&(a.c_()?a.P_():Bs(i)&&i.j_.set("Unknown"))}function mg(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Wa(r).y_(t)}function aE(r,t){r.H_.Ne(t),Wa(r).w_(t)}function pg(r){r.H_=new KR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Wa(r).start(),r.j_.B_()}function yg(r){return Bs(r)&&!Wa(r).u_()&&r.K_.size>0}function Bs(r){return wt(r).W_.size===0}function lE(r){r.H_=void 0}async function Ww(r){r.j_.set("Online")}async function t2(r){r.K_.forEach((t,i)=>{mg(r,t)})}async function e2(r,t){lE(r),yg(r)?(r.j_.q_(t),pg(r)):r.j_.set("Unknown")}async function n2(r,t,i){if(r.j_.set("Online"),t instanceof Q0&&t.state===2&&t.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(r,t)}catch(a){ht(Us,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Ic(r,a)}else if(t instanceof uc?r.H_.We(t):t instanceof G0?r.H_.Ze(t):r.H_.je(t),!i.isEqual(St.min()))try{const a=await nE(r.localStore);i.compareTo(a)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.K_.get(y);E&&c.K_.set(y,E.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const E=c.K_.get(p);if(!E)return;c.K_.set(p,E.withResumeToken(an.EMPTY_BYTE_STRING,E.snapshotVersion)),aE(c,p);const S=new qr(E.target,p,y,E.sequenceNumber);mg(c,S)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(a){ht(Us,"Failed to raise snapshot:",a),await Ic(r,a)}}async function Ic(r,t,i){if(!Ja(t))throw t;r.W_.add(1),await Io(r),r.j_.set("Offline"),i||(i=()=>nE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ht(Us,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Jc(r)})}function oE(r,t){return t().catch(i=>Ic(r,i,t))}async function Wc(r){const t=wt(r),i=Jr(t);let a=t.U_.length>0?t.U_[t.U_.length-1].batchId:tg;for(;i2(t);)try{const o=await Pw(t.localStore,a);if(o===null){t.U_.length===0&&i.P_();break}a=o.batchId,r2(t,o)}catch(o){await Ic(t,o)}uE(t)&&cE(t)}function i2(r){return Bs(r)&&r.U_.length<10}function r2(r,t){r.U_.push(t);const i=Jr(r);i.c_()&&i.S_&&i.b_(t.mutations)}function uE(r){return Bs(r)&&!Jr(r).u_()&&r.U_.length>0}function cE(r){Jr(r).start()}async function s2(r){Jr(r).C_()}async function a2(r){const t=Jr(r);for(const i of r.U_)t.b_(i.mutations)}async function l2(r,t,i){const a=r.U_.shift(),o=lg.from(a,t,i);await oE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Wc(r)}async function o2(r,t){t&&Jr(r).S_&&await async function(a,o){if(function(d){return GR(d)&&d!==it.ABORTED}(o.code)){const c=a.U_.shift();Jr(a).h_(),await oE(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Wc(a)}}(r,t),uE(r)&&cE(r)}async function n_(r,t){const i=wt(r);i.asyncQueue.verifyOperationInProgress(),ht(Us,"RemoteStore received new credentials");const a=Bs(i);i.W_.add(3),await Io(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Jc(i)}async function u2(r,t){const i=wt(r);t?(i.W_.delete(2),await Jc(i)):t||(i.W_.add(2),await Io(i),i.j_.set("Unknown"))}function Wa(r){return r.J_||(r.J_=function(i,a,o){const c=wt(i);return c.M_(),new Fw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:Ww.bind(null,r),No:t2.bind(null,r),Lo:e2.bind(null,r),p_:n2.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),yg(r)?pg(r):r.j_.set("Unknown")):(await r.J_.stop(),lE(r))})),r.J_}function Jr(r){return r.Y_||(r.Y_=function(i,a,o){const c=wt(i);return c.M_(),new Yw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:s2.bind(null,r),Lo:o2.bind(null,r),D_:a2.bind(null,r),v_:l2.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Wc(r)):(await r.Y_.stop(),r.U_.length>0&&(ht(Us,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new vg(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(r,t){if(fr("AsyncQueue",`${t}: ${r}`),Ja(r))return new vt(it.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{static emptySet(t){return new La(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||_t.comparator(i.key,a.key):(i,a)=>_t.comparator(i.key,a.key),this.keyedMap=io(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof La)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new La;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(){this.Z_=new ge(_t.comparator)}track(t){const i=t.doc.key,a=this.Z_.get(i);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(i):t.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):At():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,a)=>{t.push(a)}),t}}class Ga{constructor(t,i,a,o,c,d,g,p,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ga(t,i,La.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class f2{constructor(){this.queries=r_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=wt(i),c=o.queries;o.queries=r_(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(a)})})(this,new vt(it.ABORTED,"Firestore shutting down"))}}function r_(){return new zs(r=>N0(r),Kc)}async function h2(r,t){const i=wt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.na()&&t.ra()&&(a=2):(c=new c2,a=t.ra()?0:1);try{switch(a){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=_g(d,`Initialization of query '${Ia(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&Eg(i)}async function d2(r,t){const i=wt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=t.ra()?0:1:!c.na()&&t.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function g2(r,t){const i=wt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ta)g.oa(o)&&(a=!0);d.ea=o}}a&&Eg(i)}function m2(r,t,i){const a=wt(r),o=a.queries.get(t);if(o)for(const c of o.ta)c.onError(i);a.queries.delete(t)}function Eg(r){r.ia.forEach(t=>{t.next()})}var kd,s_;(s_=kd||(kd={}))._a="default",s_.Cache="cache";class p2{constructor(t,i,a){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Ga(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=Ga.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==kd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t){this.key=t}}class hE{constructor(t){this.key=t}}class y2{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Lt(),this.mutatedKeys=Lt(),this.ya=I0(t),this.wa=new La(this.ya)}get Sa(){return this.fa}ba(t,i){const a=i?i.Da:new i_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const V=o.get(E),U=Fc(this.query,S)?S:null,X=!!V&&this.mutatedKeys.has(V.key),F=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let H=!1;V&&U?V.data.isEqual(U.data)?X!==F&&(a.track({type:3,doc:U}),H=!0):this.va(V,U)||(a.track({type:2,doc:U}),H=!0,(p&&this.ya(U,p)>0||y&&this.ya(U,y)<0)&&(g=!0)):!V&&U?(a.track({type:0,doc:U}),H=!0):V&&!U&&(a.track({type:1,doc:V}),H=!0,(p||y)&&(g=!0)),H&&(U?(d=d.add(U),c=F?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{wa:d,Da:a,ls:g,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((E,S)=>function(U,X){const F=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return F(U)-F(X)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(a),o=o!=null&&o;const g=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Ga(this.query,t.wa,c,d,t.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new i_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Lt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return t.forEach(a=>{this.pa.has(a)||i.push(new hE(a))}),this.pa.forEach(a=>{t.has(a)||i.push(new fE(a))}),i}Oa(t){this.fa=t.gs,this.pa=Lt();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return Ga.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Tg="SyncEngine";class v2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class _2{constructor(t){this.key=t,this.Ba=!1}}class E2{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new zs(g=>N0(g),Kc),this.qa=new Map,this.Qa=new Set,this.$a=new ge(_t.comparator),this.Ua=new Map,this.Ka=new cg,this.Wa={},this.Ga=new Map,this.za=Ha.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function T2(r,t,i=!0){const a=vE(r);let o;const c=a.ka.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await dE(a,t,i,!0),o}async function b2(r,t){const i=vE(r);await dE(i,t,!0,!1)}async function dE(r,t,i,a){const o=await Bw(r.localStore,xi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await A2(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&sE(r.remoteStore,o),g}async function A2(r,t,i,a,o){r.Ha=(S,V,U)=>async function(F,H,ot,ct){let Q=H.view.ba(ot);Q.ls&&(Q=await $v(F.localStore,H.query,!1).then(({documents:w})=>H.view.ba(w,Q)));const ut=ct&&ct.targetChanges.get(H.targetId),nt=ct&&ct.targetMismatches.get(H.targetId)!=null,tt=H.view.applyChanges(Q,F.isPrimaryClient,ut,nt);return l_(F,H.targetId,tt.Ma),tt.snapshot}(r,S,V,U);const c=await $v(r.localStore,t,!0),d=new y2(t,c.gs),g=d.ba(c.documents),p=No.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,p);l_(r,i,y.Ma);const E=new v2(t,i,d);return r.ka.set(t,E),r.qa.has(i)?r.qa.get(i).push(t):r.qa.set(i,[t]),y.snapshot}async function S2(r,t,i){const a=wt(r),o=a.ka.get(t),c=a.qa.get(o.targetId);if(c.length>1)return a.qa.set(o.targetId,c.filter(d=>!Kc(d,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Pd(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&gg(a.remoteStore,o.targetId),jd(a,o.targetId)}).catch($a)):(jd(a,o.targetId),await Pd(a.localStore,o.targetId,!0))}async function R2(r,t){const i=wt(r),a=i.ka.get(t),o=i.qa.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),gg(i.remoteStore,a.targetId))}async function w2(r,t,i){const a=O2(r);try{const o=await function(d,g){const p=wt(d),y=Be.now(),E=g.reduce((U,X)=>U.add(X.key),Lt());let S,V;return p.persistence.runTransaction("Locally write mutations","readwrite",U=>{let X=hr(),F=Lt();return p.ds.getEntries(U,E).next(H=>{X=H,X.forEach((ot,ct)=>{ct.isValidDocument()||(F=F.add(ot))})}).next(()=>p.localDocuments.getOverlayedDocuments(U,X)).next(H=>{S=H;const ot=[];for(const ct of g){const Q=BR(ct,S.get(ct.key).overlayedDocument);Q!=null&&ot.push(new Ps(ct.key,Q,A0(Q.value.mapValue),ur.exists(!0)))}return p.mutationQueue.addMutationBatch(U,y,ot,g)}).next(H=>{V=H;const ot=H.applyToLocalDocumentSet(S,F);return p.documentOverlayCache.saveOverlays(U,H.batchId,ot)})}).then(()=>({batchId:V.batchId,changes:O0(S)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ge(Nt)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(a,o.batchId,i),await Vo(a,o.changes),await Wc(a.remoteStore)}catch(o){const c=_g(o,"Failed to persist write");i.reject(c)}}async function gE(r,t){const i=wt(r);try{const a=await Lw(i.localStore,t);t.targetChanges.forEach((o,c)=>{const d=i.Ua.get(c);d&&(Zt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Zt(d.Ba):o.removedDocuments.size>0&&(Zt(d.Ba),d.Ba=!1))}),await Vo(i,a,t)}catch(a){await $a(a)}}function a_(r,t,i){const a=wt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((c,d)=>{const g=d.view.sa(t);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=wt(d);p.onlineState=g;let y=!1;p.queries.forEach((E,S)=>{for(const V of S.ta)V.sa(g)&&(y=!0)}),y&&Eg(p)}(a.eventManager,t),o.length&&a.La.p_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function D2(r,t,i){const a=wt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Ua.get(t),c=o&&o.key;if(c){let d=new ge(_t.comparator);d=d.insert(c,fn.newNoDocument(c,St.min()));const g=Lt().add(c),p=new Zc(St.min(),new Map,new ge(Nt),d,g);await gE(a,p),a.$a=a.$a.remove(c),a.Ua.delete(t),bg(a)}else await Pd(a.localStore,t,!1).then(()=>jd(a,t,i)).catch($a)}async function C2(r,t){const i=wt(r),a=t.batch.batchId;try{const o=await Uw(i.localStore,t);pE(i,a,null),mE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Vo(i,o)}catch(o){await $a(o)}}async function x2(r,t,i){const a=wt(r);try{const o=await function(d,g){const p=wt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(S=>(Zt(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(a.localStore,t);pE(a,t,i),mE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Vo(a,o)}catch(o){await $a(o)}}function mE(r,t){(r.Ga.get(t)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(t)}function pE(r,t,i){const a=wt(r);let o=a.Wa[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Wa[a.currentUser.toKey()]=o}}function jd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.qa.get(t))r.ka.delete(a),i&&r.La.Ja(a,i);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(a=>{r.Ka.containsKey(a)||yE(r,a)})}function yE(r,t){r.Qa.delete(t.path.canonicalString());const i=r.$a.get(t);i!==null&&(gg(r.remoteStore,i),r.$a=r.$a.remove(t),r.Ua.delete(i),bg(r))}function l_(r,t,i){for(const a of i)a instanceof fE?(r.Ka.addReference(a.key,t),N2(r,a)):a instanceof hE?(ht(Tg,"Document no longer in limbo: "+a.key),r.Ka.removeReference(a.key,t),r.Ka.containsKey(a.key)||yE(r,a.key)):At()}function N2(r,t){const i=t.key,a=i.path.canonicalString();r.$a.get(i)||r.Qa.has(a)||(ht(Tg,"New document in limbo: "+i),r.Qa.add(a),bg(r))}function bg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const i=new _t(fe.fromString(t)),a=r.za.next();r.Ua.set(a,new _2(i)),r.$a=r.$a.insert(i,a),sE(r.remoteStore,new qr(xi(sg(i.path)),a,"TargetPurposeLimboResolution",qc.ae))}}async function Vo(r,t,i){const a=wt(r),o=[],c=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,p)=>{d.push(a.Ha(p,t,i).then(y=>{var E;if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=hg.Yi(p.targetId,y);c.push(S)}}))}),await Promise.all(d),a.La.p_(o),await async function(p,y){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>W.forEach(y,V=>W.forEach(V.Hi,U=>E.persistence.referenceDelegate.addReference(S,V.targetId,U)).next(()=>W.forEach(V.Ji,U=>E.persistence.referenceDelegate.removeReference(S,V.targetId,U)))))}catch(S){if(!Ja(S))throw S;ht(dg,"Failed to update sequence numbers: "+S)}for(const S of y){const V=S.targetId;if(!S.fromCache){const U=E.Ts.get(V),X=U.snapshotVersion,F=U.withLastLimboFreeSnapshotVersion(X);E.Ts=E.Ts.insert(V,F)}}}(a.localStore,c))}async function I2(r,t){const i=wt(r);if(!i.currentUser.isEqual(t)){ht(Tg,"User change. New user:",t.toKey());const a=await eE(i.localStore,t);i.currentUser=t,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new vt(it.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Vo(i,a.Rs)}}function V2(r,t){const i=wt(r),a=i.Ua.get(t);if(a&&a.Ba)return Lt().add(a.key);{let o=Lt();const c=i.qa.get(t);if(!c)return o;for(const d of c){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function vE(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=gE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=V2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=D2.bind(null,t),t.La.p_=g2.bind(null,t.eventManager),t.La.Ja=m2.bind(null,t.eventManager),t}function O2(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=C2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=x2.bind(null,t),t}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$c(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return Mw(this.persistence,new Iw,t.initialUser,this.serializer)}Xa(t){return new tE(fg.ri,this.serializer)}Za(t){return new jw}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class M2 extends Vc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Zt(this.persistence.referenceDelegate instanceof Nc);const a=this.persistence.referenceDelegate.garbageCollector;return new pw(a,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new tE(a=>Nc.ri(a,i),this.serializer)}}class qd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>a_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=I2.bind(null,this.syncEngine),await u2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new f2}()}createDatastore(t){const i=$c(t.databaseInfo.databaseId),a=function(c){return new Kw(c)}(t.databaseInfo);return function(c,d,g,p){return new Zw(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,o,c,d,g){return new Jw(a,o,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>a_(this.syncEngine,i,0),function(){return t_.D()?new t_:new qw}())}createSyncEngine(t,i){return function(o,c,d,g,p,y,E){const S=new E2(o,c,d,g,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const c=wt(o);ht(Us,"RemoteStore shutting down."),c.W_.add(5),await Io(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}qd.provider={build:()=>new qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):fr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="FirestoreClient";class L2{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=d0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{ht(Wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(ht(Wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=_g(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function yd(r,t){r.asyncQueue.verifyOperationInProgress(),ht(Wr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await eE(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function o_(r,t){r.asyncQueue.verifyOperationInProgress();const i=await z2(r);ht(Wr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(a=>n_(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>n_(t.remoteStore,o)),r._onlineComponents=t}async function z2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(Wr,"Using user provided OfflineComponentProvider");try{await yd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ba("Error using user provided cache. Falling back to memory cache: "+i),await yd(r,new Vc)}}else ht(Wr,"Using default OfflineComponentProvider"),await yd(r,new M2(void 0));return r._offlineComponents}async function _E(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(Wr,"Using user provided OnlineComponentProvider"),await o_(r,r._uninitializedComponentsProvider._online)):(ht(Wr,"Using default OnlineComponentProvider"),await o_(r,new qd))),r._onlineComponents}function P2(r){return _E(r).then(t=>t.syncEngine)}async function u_(r){const t=await _E(r),i=t.eventManager;return i.onListen=T2.bind(null,t.syncEngine),i.onUnlisten=S2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=b2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=R2.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(r,t,i){if(!i)throw new vt(it.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function B2(r,t,i,a){if(t===!0&&a===!0)throw new vt(it.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function f_(r){if(!_t.isDocumentKey(r))throw new vt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function h_(r){if(_t.isDocumentKey(r))throw new vt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ag(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":At()}function za(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new vt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ag(r);throw new vt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="firestore.googleapis.com",d_=!0;class g_{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new vt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bE,this.ssl=d_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:d_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=W0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gw)throw new vt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}B2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EE((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new vt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new vt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new vt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tf{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new G1;switch(a.type){case"firstParty":return new Y1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new vt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=c_.get(i);a&&(ht("ComponentProvider","Removing Datastore"),c_.delete(i),a.terminate())}(this),Promise.resolve()}}function k2(r,t,i,a={}){var o;const c=(r=za(r,tf))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${i}`;c.host!==bE&&c.host!==g&&Ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:a});if(!_c(p,d)&&(r._setSettings(p),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=cn.MOCK_USER;else{y=TS(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new vt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new cn(S)}r._authCredentials=new Q1(new f0(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ef(this.firestore,t,this._query)}}class Un{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Un(this.firestore,t,this._key)}}class Kr extends ef{constructor(t,i,a){super(t,i,sg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Un(this.firestore,null,new _t(t))}withConverter(t){return new Kr(this.firestore,t,this._path)}}function AE(r,t,...i){if(r=Pa(r),TE("collection","path",t),r instanceof tf){const a=fe.fromString(t,...i);return h_(a),new Kr(r,null,a)}{if(!(r instanceof Un||r instanceof Kr))throw new vt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return h_(a),new Kr(r.firestore,null,a)}}function Sg(r,t,...i){if(r=Pa(r),arguments.length===1&&(t=d0.newId()),TE("doc","path",t),r instanceof tf){const a=fe.fromString(t,...i);return f_(a),new Un(r,null,new _t(a))}{if(!(r instanceof Un||r instanceof Kr))throw new vt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return f_(a),new Un(r.firestore,r instanceof Kr?r.converter:null,new _t(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="AsyncQueue";class p_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new iE(this,"async_queue_retry"),this.Su=()=>{const a=pd();a&&ht(m_,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const i=pd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=pd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Os;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Ja(t))throw t;ht(m_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw fr("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(t,i,a){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const o=vg.createAndSchedule(this,t,i,a,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&At()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}function y_(r){return function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Oc extends tf{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new p_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new p_(t),this._firestoreClient=void 0,await t}}}function j2(r,t){const i=typeof r=="object"?r:I1(),a=typeof r=="string"?r:Ac,o=w1(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=_S("firestore");c&&k2(o,...c)}return o}function SE(r){if(r._terminated)throw new vt(it.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||q2(r),r._firestoreClient}function q2(r){var t,i,a;const o=r._freezeSettings(),c=function(g,p,y,E){return new uR(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,EE(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new L2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qa(an.fromBase64String(t))}catch(i){throw new vt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Qa(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new vt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new vt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new vt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=/^__.*__$/;class G2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Ps(t,this.data,this.fieldMask,i,this.fieldTransforms):new xo(t,this.data,i,this.fieldTransforms)}}function wE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class Cg{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Cg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:a,Qu:!1});return o.$u(t),o}Uu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Mc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(wE(this.Lu)&&H2.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class Q2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||$c(t)}ju(t,i,a,o=!1){return new Cg({Lu:t,methodName:i,zu:a,path:sn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function K2(r){const t=r._freezeSettings(),i=$c(r._databaseId);return new Q2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function F2(r,t,i,a,o,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,t,i,o);NE("Data must be an object, but it was:",d,a);const g=CE(a,d);let p,y;if(c.merge)p=new oi(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const V=Y2(t,S,i);if(!d.contains(V))throw new vt(it.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Z2(E,V)||E.push(V)}p=new oi(E),y=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=d.fieldTransforms;return new G2(new $n(g),p,y)}function DE(r,t){if(xE(r=Pa(r)))return NE("Unsupported field value:",t,r),CE(r,t);if(r instanceof RE)return function(a,o){if(!wE(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,o){const c=[];let d=0;for(const g of a){let p=DE(g,o.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(a,o){if((a=Pa(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return OR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Be.fromDate(a);return{timestampValue:xc(o.serializer,c)}}if(a instanceof Be){const c=new Be(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:xc(o.serializer,c)}}if(a instanceof wg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Qa)return{bytesValue:K0(o.serializer,a._byteString)};if(a instanceof Un){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ug(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Dg)return function(d,g){return{mapValue:{fields:{[T0]:{stringValue:b0},[Sc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return ag(g.serializer,y)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Ag(a)}`)}(r,t)}function CE(r,t){const i={};return m0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ls(r,(a,o)=>{const c=DE(o,t.qu(a));c!=null&&(i[a]=c)}),{mapValue:{fields:i}}}function xE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Be||r instanceof wg||r instanceof Qa||r instanceof Un||r instanceof RE||r instanceof Dg)}function NE(r,t,i){if(!xE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=Ag(i);throw a==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+a)}}function Y2(r,t,i){if((t=Pa(t))instanceof Rg)return t._internalPath;if(typeof t=="string")return IE(r,t);throw Mc("Field path arguments must be of type string or ",r,!1,void 0,i)}const X2=new RegExp("[~\\*/\\[\\]]");function IE(r,t,i){if(t.search(X2)>=0)throw Mc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Rg(...t.split("."))._internalPath}catch{throw Mc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Mc(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new vt(it.INVALID_ARGUMENT,g+r+p)}function Z2(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new $2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(OE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class $2 extends VE{data(){return super.data()}}function OE(r,t){return typeof t=="string"?IE(r,t):t instanceof Rg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new vt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W2{convertValue(t,i="none"){switch($r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw At()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ls(t,(o,c)=>{a[o]=this.convertValue(c,i)}),a}convertVectorValue(t){var i,a,o;const c=(o=(a=(i=t.fields)===null||i===void 0?void 0:i[Sc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>Ae(d.doubleValue));return new Dg(c)}convertGeoPoint(t){return new wg(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Gc(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Eo(t));default:return null}}convertTimestamp(t){const i=Xr(t);return new Be(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=fe.fromString(t);Zt(J0(a));const o=new To(a.get(1),a.get(3)),c=new _t(a.popFirst(5));return o.isEqual(i)||fr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ME extends VE{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(OE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class cc extends ME{data(t={}){return super.data(t)}}class eD{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new so(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(a=>{t.call(i,new cc(this._firestore,this._userDataWriter,a.key,a,new so(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new vt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new cc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new so(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new cc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new so(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:nD(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function nD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}class UE extends W2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qa(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Un(this.firestore,null,i)}}function LE(r,t,i){r=za(r,Un);const a=za(r.firestore,Oc),o=tD(r.converter,t,i);return iD(a,[F2(K2(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,ur.none())])}function zE(r,...t){var i,a,o;r=Pa(r);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||y_(t[d])||(c=t[d],d++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(y_(t[d])){const S=t[d];t[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),t[d+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),t[d+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,y,E;if(r instanceof Un)y=za(r.firestore,Oc),E=sg(r._key.path),p={next:S=>{t[d]&&t[d](rD(y,r,S))},error:t[d+1],complete:t[d+2]};else{const S=za(r,ef);y=za(S.firestore,Oc),E=S._query;const V=new UE(y);p={next:U=>{t[d]&&t[d](new eD(y,V,S,U))},error:t[d+1],complete:t[d+2]},J2(r._query)}return function(V,U,X,F){const H=new U2(F),ot=new p2(U,H,X);return V.asyncQueue.enqueueAndForget(async()=>h2(await u_(V),ot)),()=>{H.su(),V.asyncQueue.enqueueAndForget(async()=>d2(await u_(V),ot))}}(SE(y),E,g,p)}function iD(r,t){return function(a,o){const c=new Os;return a.asyncQueue.enqueueAndForget(async()=>w2(await P2(a),o,c)),c.promise}(SE(r),t)}function rD(r,t,i){const a=i.docs.get(t._key),o=new UE(r);return new ME(r,o,t._key,a,new so(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Za=o})(N1),Tc(new yo("firestore",(a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Oc(new K1(a.getProvider("auth-internal")),new X1(d,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new vt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(y.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ua(Tv,bv,t),Ua(Tv,bv,"esm2017")})();const sD={apiKey:"AIzaSyDzwKpnaZevRcXrY1FUQVfK0cnZuE33qR8",authDomain:"sharedmemo-81d89.firebaseapp.com",projectId:"sharedmemo-81d89",storageBucket:"sharedmemo-81d89.appspot.com",messagingSenderId:"722325793086",appId:"1:722325793086:web:3916c716d0ff7d06d3646f"},aD=n0(sD),xg=j2(aD),lD=async r=>{const t=Sg(AE(xg,"sharedData"),"main");await LE(t,{todoBoxes:r})},oD=r=>{const t=Sg(AE(xg,"sharedData"),"main");return zE(t,i=>{const a=i.data();a&&a.todoBoxes&&r(a.todoBoxes)})};function v_({box:r,activeBox:t,isDragging:i,setActiveBox:a,onChangeTitle:o,onChangeItem:c,onAddItem:d,onRemoveItem:g,toggleItemSelection:p,onChangeItemOrder:y,selectedItemIds:E}){const{attributes:S,listeners:V,setNodeRef:U}=Y_({id:r.id}),[X,F]=k.useState(!1),H=k.useRef(null),[ot,ct]=k.useState(""),[Q,ut]=k.useState(""),[nt,tt]=k.useState(""),w=k.useRef(null),A=k.useRef(null),R=k.useRef(null),[N,x]=k.useState(null),[M,D]=k.useState(null),[Ft,Yt]=k.useState(null),K=S_(pc(Pc,{activationConstraint:{delay:200,tolerance:5}}),pc(Xd,{activationConstraint:{delay:200,tolerance:5}})),rt=()=>{var st,pt,I,$;if(!ot.trim()){(st=w.current)==null||st.focus();return}if(r.mode==="shopping"&&!Q.trim()){(pt=A.current)==null||pt.focus();return}if(r.mode==="shopping"&&!nt.trim()){(I=R.current)==null||I.focus();return}d(r.id,{id:vd(),text:ot.trim(),count:Q.trim(),unit:nt.trim(),status:"none"}),ct(""),ut(""),tt(""),($=w.current)==null||$.focus()};return lt.jsxs("div",{ref:U,onClick:st=>{if(i)return;const pt=st.target.tagName.toLowerCase();["input","textarea","button","select"].includes(pt)||a((t==null?void 0:t.id)===r.id?null:r)},style:{opacity:i&&(t==null?void 0:t.id)===r.id?0:1,visibility:"visible",height:"auto",touchAction:i?"none":"auto"},className:"border p-2 rounded shadow bg-white w-full transition-opacity",children:[lt.jsxs("div",{className:"flex justify-between items-center mb-2",children:[lt.jsx("button",{...S,...V,onMouseDown:st=>{H.current=setTimeout(()=>{var pt;(pt=V.onPointerDown)==null||pt.call(V,st)},300)},onMouseUp:()=>{H.current&&clearTimeout(H.current)},onMouseLeave:()=>{H.current&&clearTimeout(H.current)},onClick:st=>{st.stopPropagation(),F(pt=>!pt)},className:"mx-1 text-gray-500 cursor-pointer text-sm transition",title:"길게 누르면 드래그 / 클릭하면 접기/펼치기",children:X?"▷":"▽"}),lt.jsx("input",{className:"flex-1 font-semibold bg-transparent outline-none truncate",value:r.title,onChange:st=>o(r.id,st.target.value)}),lt.jsx("button",{onClick:()=>g(r.id,"__box__"),className:"ml-2 px-2 mr-1 text-gray rounded hover:bg-gray-200 transition text-sm shrink-0",title:"소주제 삭제",children:"X"})]}),!X&&lt.jsxs(lt.Fragment,{children:[lt.jsx(q_,{sensors:K,collisionDetection:R_,onDragEnd:st=>{const{active:pt,over:I}=st;if(!I||pt.id===I.id)return;const $=r.items.findIndex(et=>et.id===pt.id),at=r.items.findIndex(et=>et.id===I.id);$<0||at<0||y(r.id,po(r.items,$,at))},children:lt.jsx(K_,{items:r.items.map(st=>st.id),strategy:jc,children:lt.jsx("ul",{className:"mb-2",children:r.items.map(st=>{var pt;return lt.jsx(oS,{item:st,boxId:r.id,boxMode:r.mode,isSelected:((pt=E[r.id])==null?void 0:pt.includes(st.id))||!1,isLowCount:r.mode==="shopping"&&Number(st.count||0)<=3,onToggle:p,onChangeItem:c,onRemoveItem:g,editingItemId:N,setEditingItemId:x,editingCountId:M,setEditingCountId:D,editingUnitId:Ft,setEditingUnitId:Yt},st.id)})})})}),lt.jsxs("div",{className:"flex items-center border p-1 rounded",children:[lt.jsx("div",{className:"w-5 h-5 mr-2"}),lt.jsx("input",{ref:w,className:"flex-[6] min-w-0 outline-none text-sm mr-1",placeholder:"새 항목",value:ot,onChange:st=>ct(st.target.value),onKeyDown:st=>{st.key==="Enter"&&(st.preventDefault(),rt())}}),r.mode==="shopping"&&lt.jsxs(lt.Fragment,{children:[lt.jsx("input",{ref:A,className:"flex-[2] min-w-0 outline-none text-sm text-right mr-1",placeholder:"수량",value:Q,onChange:st=>ut(st.target.value),onKeyDown:st=>{st.key==="Enter"&&(st.preventDefault(),rt())}}),lt.jsx("input",{ref:R,className:"flex-[2] min-w-0 outline-none text-sm text-left mr-1",placeholder:"단위",value:nt,onChange:st=>tt(st.target.value),onKeyDown:st=>{st.key==="Enter"&&(st.preventDefault(),rt())}})]}),lt.jsx("button",{onClick:rt,className:"px-2 text-gray rounded hover:bg-gray-200 transition text-sm shrink-0",children:"+"})]})]})]})}function uD(){const[r,t]=k.useState([]),[i,a]=k.useState(!1),o=k.useRef(null),[c,d]=k.useState(!1),g=k.useRef(null),[p,y]=k.useState(null),[E,S]=k.useState({});k.useEffect(()=>{const tt=oD(w=>{t(w.length>0?w:[{id:vd(),title:"기본 박스",items:[],mode:"default"}]),a(!0)});return()=>tt()},[]),k.useEffect(()=>{if(i)return o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{lD(r).catch(console.error)},1e3),()=>{o.current&&clearTimeout(o.current)}},[r,i]);const V=tt=>{t(w=>[...w,{id:vd(),title:tt==="shopping"?"장보기":"제목 없음",items:[],mode:tt}])},U=tt=>{t(w=>{const A=w.findIndex(R=>R.id===tt);return A<0||A===w.length-1?w:po(w,A,A+1)})},X=(tt,w)=>{t(A=>A.map(R=>R.id===tt?{...R,items:[...R.items,w]}:R))},F=(tt,w)=>{if(w==="__box__"){if(!confirm("정말 이 소주제를 삭제할까요?"))return;t(R=>R.filter(N=>N.id!==tt));return}t(A=>A.map(R=>R.id===tt?{...R,items:R.items.filter(N=>N.id!==w)}:R))},H=(tt,w)=>{t(A=>A.map(R=>R.id===tt?{...R,items:w}:R))},ot=(tt,w)=>{t(A=>A.map(R=>R.id===tt?{...R,title:w}:R))},ct=(tt,w,A,R="text")=>{t(N=>N.map(x=>x.id===tt?{...x,items:x.items.map(M=>M.id===w?{...M,[R]:A}:M)}:x))};k.useEffect(()=>{const tt=A=>{g.current&&!g.current.contains(A.target)&&y(null)},w=A=>{A.key==="Escape"&&y(null)};return document.addEventListener("mousedown",tt),document.addEventListener("keydown",w),()=>{document.removeEventListener("mousedown",tt),document.removeEventListener("keydown",w)}},[]);const Q=S_(pc(Pc,{activationConstraint:{delay:200,tolerance:5}}),pc(Xd,{activationConstraint:{delay:200,tolerance:5}})),ut=tt=>{const w=r.find(A=>A.id===tt.active.id);w&&(y(w),d(!0))},nt=tt=>{const{active:w,over:A}=tt;if(!A||w.id===A.id){d(!1),y(null);return}const R=r.findIndex(x=>x.id===w.id),N=r.findIndex(x=>x.id===A.id);R>=0&&N>=0&&t(x=>po(x,R,N)),d(!1),y(null)};return lt.jsx("div",{ref:g,style:{touchAction:c?"none":"auto"},children:lt.jsxs(q_,{sensors:Q,collisionDetection:R_,onDragStart:ut,onDragEnd:nt,children:[lt.jsx(K_,{items:r.map(tt=>tt.id),strategy:jc,children:lt.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-2",children:[r.map((tt,w)=>lt.jsx(v_,{box:tt,activeBox:p,isDragging:c&&(p==null?void 0:p.id)===tt.id,setActiveBox:y,onChangeTitle:ot,onChangeItem:ct,onAddItem:X,onRemoveItem:F,toggleItemSelection:(A,R)=>{S(N=>{const x=N[A]||[];return{...N,[A]:x.includes(R)?x.filter(M=>M!==R):[...x,R]}})},onChangeItemOrder:H,selectedItemIds:E,moveBoxDown:U,isLastBox:w===r.length-1},tt.id)),lt.jsxs("div",{className:"flex gap-2 mt-2",children:[lt.jsx("button",{onClick:()=>V("default"),className:"border-dashed border-2 rounded flex-1 h-12",children:"+ 할일"}),lt.jsx("button",{onClick:()=>V("shopping"),className:"border-dashed border-2 rounded flex-1 h-12",children:"+ 장보기"})]})]})}),lt.jsx($A,{children:p&&lt.jsx(v_,{box:p,activeBox:p,isDragging:!1,setActiveBox:()=>{},onChangeTitle:()=>{},onChangeItem:()=>{},onAddItem:()=>{},onRemoveItem:()=>{},toggleItemSelection:()=>{},onChangeItemOrder:()=>{},selectedItemIds:E,moveBoxDown:()=>{},isLastBox:!1})})]})})}function cD(){return lt.jsx("div",{className:"space-y-6",children:lt.jsx(uD,{})})}function fD(){const r=Sg(xg,"routineItems","config"),[t,i]=k.useState([]),[a,o]=k.useState({id:"",category:"",name:"",lastChecked:"",lastReplaced:"",memo:"",cycle:0}),[c,d]=k.useState(null),[g,p]=k.useState(null),[y,E]=k.useState(!0),S=[{key:"category",label:"구분"},{key:"name",label:"이름"},{key:"lastChecked",label:"최종확인"},{key:"lastReplaced",label:"최종교체"},{key:"cycle",label:"주기"},{key:"memo",label:"메모"}];k.useEffect(()=>{const Q=zE(r,ut=>{var tt;const nt=(tt=ut.data())==null?void 0:tt.items;nt&&i(nt)});return()=>Q()},[]);const V=(Q,ut)=>{o(nt=>({...nt,[Q]:Q==="cycle"?Number(ut):ut}))},U=async Q=>{await LE(r,{items:Q},{merge:!0})},X=async()=>{var ut;if(!((ut=a.name)!=null&&ut.trim()))return;let Q;if(c)Q=t.map(nt=>nt.id===c?{...a,id:c}:nt),d(null);else{const nt=crypto.randomUUID();Q=[...t,{...a,id:nt}]}o({id:"",category:"",name:"",lastChecked:"",lastReplaced:"",memo:"",cycle:0}),await U(Q)},F=async Q=>{const ut=t.filter(nt=>nt.id!==Q);await U(ut)},H=Q=>{const ut=t.find(nt=>nt.id===Q);ut&&(o(ut),d(Q))},ot=Q=>{g===Q?E(!y):(p(Q),E(!0))},ct=[...t].sort((Q,ut)=>{var w,A;if(!g)return 0;const nt=((w=Q[g])==null?void 0:w.toString())||"",tt=((A=ut[g])==null?void 0:A.toString())||"";return y?nt.localeCompare(tt):tt.localeCompare(nt)});return lt.jsxs("div",{className:"p-6 space-y-6",children:[lt.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[lt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 text-sm",children:[lt.jsx("input",{value:a.category,onChange:Q=>V("category",Q.target.value),placeholder:"구분",className:"border p-2 rounded w-full"}),lt.jsx("input",{value:a.name,onChange:Q=>V("name",Q.target.value),placeholder:"이름",className:"border p-2 rounded w-full"}),lt.jsx("input",{type:"date",value:a.lastChecked,onChange:Q=>V("lastChecked",Q.target.value),placeholder:"최종확인",className:"border p-2 rounded w-full"}),lt.jsx("input",{type:"date",value:a.lastReplaced,onChange:Q=>V("lastReplaced",Q.target.value),placeholder:"최종교체",className:"border p-2 rounded w-full"}),lt.jsx("input",{type:"number",value:a.cycle,onChange:Q=>V("cycle",Q.target.value),placeholder:"주기",className:"border p-2 rounded w-full"}),lt.jsx("input",{value:a.memo,onChange:Q=>V("memo",Q.target.value),placeholder:"메모",className:"border p-2 rounded w-full"})]}),lt.jsx("div",{className:"flex justify-center mt-4",children:lt.jsx("button",{onClick:X,className:"px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:c?"수정 완료":"항목 추가"})})]}),lt.jsx("div",{className:"overflow-x-auto",children:ct.length===0?lt.jsx("p",{className:"text-gray-500",children:"아직 추가된 항목이 없습니다."}):lt.jsxs("table",{className:"min-w-[960px] w-full table-auto border text-sm mt-4",children:[lt.jsx("thead",{children:lt.jsxs("tr",{className:"bg-gray-100",children:[S.map(({key:Q,label:ut})=>lt.jsxs("th",{onClick:()=>ot(Q),className:"border px-4 py-2 cursor-pointer hover:bg-gray-200",children:[ut," ",""]},Q)),lt.jsx("th",{className:"border px-4 py-2",children:"수정"}),lt.jsx("th",{className:"border px-4 py-2",children:"삭제"})]})}),lt.jsx("tbody",{children:ct.map(Q=>lt.jsxs("tr",{className:"text-center",children:[lt.jsx("td",{className:"border px-4 py-2",children:Q.category}),lt.jsx("td",{className:"border px-4 py-2",children:Q.name}),lt.jsx("td",{className:"border px-4 py-2",children:Q.lastChecked}),lt.jsx("td",{className:"border px-4 py-2",children:Q.lastReplaced}),lt.jsx("td",{className:"border px-4 py-2",children:Q.cycle}),lt.jsx("td",{className:"border px-4 py-2",children:Q.memo}),lt.jsx("td",{className:"border px-4 py-2",children:lt.jsx("button",{onClick:()=>H(Q.id),className:"text-blue-500",children:"수정"})}),lt.jsx("td",{className:"border px-4 py-2",children:lt.jsx("button",{onClick:()=>F(Q.id),className:"text-red-500",children:"삭제"})})]},Q.id))})]})})]})}function hD(){return lt.jsx("div",{children:"📘 경인 메모장"})}function dD(){return lt.jsx("div",{children:"📘 메모장"})}function gD(){const r=["할일","루틴","경인","유섭"],[t,i]=k.useState("할일");return lt.jsxs("div",{className:"min-h-screen bg-transparent pt-4 pb-16 font-sans",children:[" ",lt.jsxs("div",{className:"mx-2",children:[t==="할일"&&lt.jsx(cD,{}),t==="루틴"&&lt.jsx(fD,{}),t==="경인"&&lt.jsx(hD,{}),t==="유섭"&&lt.jsx(dD,{})]}),lt.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-md flex",children:r.map(a=>lt.jsx("button",{onClick:()=>i(a),className:`flex-1 py-1 font-semibold transition-all duration-200 ${t===a?"bg-white text-gray-700":"bg-gray-100 text-gray-700"}`,children:a},a))})]})}yb.createRoot(document.getElementById("root")).render(lt.jsx(ce.StrictMode,{children:lt.jsx(gD,{})}));
